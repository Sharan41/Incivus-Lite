/*! For license information please see main.e46f8995.js.LICENSE.txt */
(()=>{var e={60:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(3348),a=n(5613),s=n(8397),l=n(1820),A=n(9262),c=n(4082),u=n(5625),d=n(4867),p=n(7989),h=n(6624),f=n(2729),g={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};t.TRACING_DEFAULTS=g,t.startIdleSpan=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Map;let m,y=!1,v="externalFinish",b=!t.disableAutoFinish;const w=[],{idleTimeout:S=g.idleTimeout,finalTimeout:_=g.finalTimeout,childSpanTimeout:B=g.childSpanTimeout,beforeSpanEnd:C}=t,E=r.getClient();if(!E||!s.hasSpansEnabled()){const e=new d.SentryNonRecordingSpan,t={sample_rate:"0",sampled:"false",...u.getDynamicSamplingContextFromSpan(e)};return u.freezeDscOnSpan(e,t),e}const x=r.getCurrentScope(),I=A.getActiveSpan(),T=function(e){const t=f.startInactiveSpan(e);return l._setSpanForScope(r.getCurrentScope(),t),o.DEBUG_BUILD&&a.debug.log("[Tracing] Started span is an idle span"),t}(e);function k(){m&&(clearTimeout(m),m=void 0)}function U(e){k(),m=setTimeout(()=>{!y&&0===n.size&&b&&(v="idleTimeout",T.end(e))},S)}function F(e){m=setTimeout(()=>{!y&&b&&(v="heartbeatFailed",T.end(e))},B)}function N(e){y=!0,n.clear(),w.forEach(e=>e()),l._setSpanForScope(x,I);const t=A.spanToJSON(T),{start_timestamp:r}=t;if(!r)return;t.data[i.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||T.setAttribute(i.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,v),a.debug.log(`[Tracing] Idle span "${t.op}" finished`);const s=A.getSpanDescendants(T).filter(e=>e!==T);let c=0;s.forEach(t=>{t.isRecording()&&(t.setStatus({code:h.SPAN_STATUS_ERROR,message:"cancelled"}),t.end(e),o.DEBUG_BUILD&&a.debug.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=A.spanToJSON(t),{timestamp:r=0,start_timestamp:i=0}=n,s=i<=e,l=r-i<=(_+S)/1e3;if(o.DEBUG_BUILD){const e=JSON.stringify(t,void 0,2);s?l||a.debug.log("[Tracing] Discarding span since it finished after idle span final timeout",e):a.debug.log("[Tracing] Discarding span since it happened after idle span was finished",e)}l&&s||(A.removeChildSpanFromSpan(T,t),c++)}),c>0&&T.setAttribute("sentry.idle_span_discarded_spans",c)}return T.end=new Proxy(T.end,{apply(e,t,n){if(C&&C(T),t instanceof d.SentryNonRecordingSpan)return;const[r,...o]=n,i=r||c.timestampInSeconds(),a=A.spanTimeInputToSeconds(i),s=A.getSpanDescendants(T).filter(e=>e!==T);if(!s.length)return N(a),Reflect.apply(e,t,[a,...o]);const l=s.map(e=>A.spanToJSON(e).timestamp).filter(e=>!!e),u=l.length?Math.max(...l):void 0,p=A.spanToJSON(T).start_timestamp,h=Math.min(p?p+_/1e3:1/0,Math.max(p||-1/0,Math.min(a,u||1/0)));return N(h),Reflect.apply(e,t,[h,...o])}}),w.push(E.on("spanStart",e=>{if(y||e===T||A.spanToJSON(e).timestamp||e instanceof p.SentrySpan&&e.isStandaloneSpan())return;var t;A.getSpanDescendants(T).includes(e)&&(t=e.spanContext().spanId,k(),n.set(t,!0),F(c.timestampInSeconds()+B/1e3))})),w.push(E.on("spanEnd",e=>{var t;y||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&U(c.timestampInSeconds()+S/1e3))})),w.push(E.on("idleSpanEnableAutoFinish",e=>{e===T&&(b=!0,U(),n.size&&F())})),t.disableAutoFinish||U(),setTimeout(()=>{y||(T.setStatus({code:h.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),v="finalTimeout",T.end())},_),T}},80:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.SEVERITY_TEXT_TO_SEVERITY_NUMBER={trace:1,debug:5,info:9,warn:13,error:17,fatal:21}},90:(e,t)=>{function n(e){const t={};try{e.forEach((e,n)=>{"string"===typeof e&&(t[n]=e)})}catch{}return t}function r(e){const t=Object.create(null);try{Object.entries(e).forEach(e=>{let[n,r]=e;"string"===typeof r&&(t[n]=r)})}catch{}return t}function o(e){if(e)try{const t=new URL(e,"http://s.io").search.slice(1);return t.length?t:void 0}catch{return}}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.extractQueryParamsFromUrl=o,t.headersToDict=r,t.httpRequestToRequestData=function(e){const t=e.headers||{},n=("string"===typeof t["x-forwarded-host"]?t["x-forwarded-host"]:void 0)||("string"===typeof t.host?t.host:void 0),i=("string"===typeof t["x-forwarded-proto"]?t["x-forwarded-proto"]:void 0)||e.protocol||(e.socket?.encrypted?"https":"http"),a=e.url||"",s=function(e){let{url:t,protocol:n,host:r}=e;if(t?.startsWith("http"))return t;if(t&&r)return`${n}://${r}${t}`;return}({url:a,host:n,protocol:i}),l=e.body||void 0,A=e.cookies;return{url:s,method:e.method,query_string:o(a),headers:r(t),cookies:A,data:l}},t.winterCGHeadersToDict=n,t.winterCGRequestToRequestData=function(e){const t=n(e.headers);return{method:e.method,url:e.url,query_string:o(e.url),headers:t}}},101:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=r.defineIntegration(()=>({name:"LaunchDarkly",processEvent:(e,t,n)=>r._INTERNAL_copyFlagsFromScopeToEvent(e)}));t.buildLaunchDarklyFlagUsedHandler=function(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{r._INTERNAL_insertFlagToScope(e,t.value),r._INTERNAL_addFeatureFlagToActiveSpan(e,t.value)}}},t.launchDarklyIntegration=o},152:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9282);let o=0;class i{constructor(){i.prototype.__init.call(this),i.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){o=r.getInteractionCount(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor((r.getInteractionCount()-o)/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this._longestInteractionList.at(-1);let n=this._longestInteractionMap.get(e.interactionId);if(n||this._longestInteractionList.length<10||e.duration>t._latency){if(n?e.duration>n._latency?(n.entries=[e],n._latency=e.duration):e.duration===n._latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(n.id,n),this._longestInteractionList.push(n)),this._longestInteractionList.sort((e,t)=>t._latency-e._latency),this._longestInteractionList.length>10){const e=this._longestInteractionList.splice(10);for(const t of e)this._longestInteractionMap.delete(t.id)}this._onAfterProcessingINPCandidate?.(n)}}}t.InteractionManager=i},162:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(1274),a={},s={};t.addHandler=function(e,t){a[e]=a[e]||[],a[e].push(t)},t.maybeInstrument=function(e,t){if(!s[e]){s[e]=!0;try{t()}catch(n){r.DEBUG_BUILD&&o.debug.error(`Error while instrumenting ${e}`,n)}}},t.resetInstrumentationHandlers=function(){Object.keys(a).forEach(e=>{a[e]=void 0})},t.triggerHandlers=function(e,t){const n=e&&a[e];if(n)for(const a of n)try{a(t)}catch(s){r.DEBUG_BUILD&&o.debug.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${i.getFunctionName(a)}\nError:`,s)}}},199:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3348),i=n(2729),a=n(9255),s=n(653),l=n(215),A=n(5316);function c(e,t){return t?`${e} ${t}`:e}function u(e){let t,n;switch(e){case"request":t=s.MCP_SERVER_OP_VALUE,n=s.MCP_FUNCTION_ORIGIN_VALUE;break;case"notification-incoming":t=s.MCP_NOTIFICATION_CLIENT_TO_SERVER_OP_VALUE,n=s.MCP_NOTIFICATION_ORIGIN_VALUE;break;case"notification-outgoing":t=s.MCP_NOTIFICATION_SERVER_TO_CLIENT_OP_VALUE,n=s.MCP_NOTIFICATION_ORIGIN_VALUE}return{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t,[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:n,[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:s.MCP_ROUTE_SOURCE_VALUE}}function d(e){const{type:t,message:n,transport:o,extra:d,callback:p}=e,{method:h}=n,f=n.params;let g;if("request"===t){g=c(h,l.extractTargetInfo(h,f||{}).target)}else g=h;const m={...a.buildTransportAttributes(o,d),[s.MCP_METHOD_NAME_ATTRIBUTE]:h,...a.buildTypeSpecificAttributes(t,n,f),...u(t)},y=r.getClient(),v=Boolean(y?.getOptions().sendDefaultPii),b=A.filterMcpPiiFromSpanData(m,v);return i.startSpan({name:g,forceTransaction:!0,attributes:b},p)}t.buildMcpServerSpanConfig=function(e,t,n){const{method:o}=e,i=e.params,d=c(o,l.extractTargetInfo(o,i||{}).target),p={...a.buildTransportAttributes(t,n),[s.MCP_METHOD_NAME_ATTRIBUTE]:o,...a.buildTypeSpecificAttributes("request",e,i),...u("request")},h=r.getClient(),f=Boolean(h?.getOptions().sendDefaultPii),g=A.filterMcpPiiFromSpanData(p,f);return{name:d,op:s.MCP_SERVER_OP_VALUE,forceTransaction:!0,attributes:g}},t.createMcpNotificationSpan=function(e,t,n,r){return d({type:"notification-incoming",message:e,transport:t,extra:n,callback:r})},t.createMcpOutgoingNotificationSpan=function(e,t,n){return d({type:"notification-outgoing",message:e,transport:t,callback:n})}},210:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399);t.onHidden=e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==r.WINDOW.document?.visibilityState||e(t)};r.WINDOW.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))}},215:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(653),o={"tools/call":{targetField:"name",targetAttribute:r.MCP_TOOL_NAME_ATTRIBUTE,captureArguments:!0,argumentsField:"arguments"},"resources/read":{targetField:"uri",targetAttribute:r.MCP_RESOURCE_URI_ATTRIBUTE,captureUri:!0},"resources/subscribe":{targetField:"uri",targetAttribute:r.MCP_RESOURCE_URI_ATTRIBUTE},"resources/unsubscribe":{targetField:"uri",targetAttribute:r.MCP_RESOURCE_URI_ATTRIBUTE},"prompts/get":{targetField:"name",targetAttribute:r.MCP_PROMPT_NAME_ATTRIBUTE,captureName:!0,captureArguments:!0,argumentsField:"arguments"}};t.extractTargetInfo=function(e,t){const n=o[e];if(!n)return{attributes:{}};const r=n.targetField&&"string"===typeof t?.[n.targetField]?t[n.targetField]:void 0;return{target:r,attributes:r&&n.targetAttribute?{[n.targetAttribute]:r}:{}}},t.getRequestArguments=function(e,t){const n={},i=o[e];if(!i)return n;if(i.captureArguments&&i.argumentsField&&t?.[i.argumentsField]){const e=t[i.argumentsField];if("object"===typeof e&&null!==e)for(const[t,o]of Object.entries(e))n[`${r.MCP_REQUEST_ARGUMENT}.${t.toLowerCase()}`]=JSON.stringify(o)}return i.captureUri&&t?.uri&&(n[`${r.MCP_REQUEST_ARGUMENT}.uri`]=JSON.stringify(t.uri)),i.captureName&&t?.name&&(n[`${r.MCP_REQUEST_ARGUMENT}.name`]=JSON.stringify(t.name)),n}},219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var A=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=c(n);u&&(a=a.concat(u(n)));for(var s=l(t),f=l(n),g=0;g<a.length;++g){var m=a[g];if(!i[m]&&(!r||!r[m])&&(!f||!f[m])&&(!s||!s[m])){var y=d(n,m);try{A(t,m,y)}catch(v){}}}}return t}},304:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5625),o=n(2019),i=n(9262);function a(e,t,n){e[t]=o.merge(e[t],n,1)}t.applyScopeDataToEvent=function(e,t){const{fingerprint:n,span:o,breadcrumbs:a,sdkProcessingMetadata:s}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,transactionName:s}=t;Object.keys(n).length&&(e.extra={...n,...e.extra});Object.keys(r).length&&(e.tags={...r,...e.tags});Object.keys(o).length&&(e.user={...o,...e.user});Object.keys(i).length&&(e.contexts={...i,...e.contexts});a&&(e.level=a);s&&"transaction"!==e.type&&(e.transaction=s)}(e,t),o&&function(e,t){e.contexts={trace:i.spanToTraceContext(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:r.getDynamicSamplingContextFromSpan(t),...e.sdkProcessingMetadata};const n=i.getRootSpan(t),o=i.spanToJSON(n).description;o&&!e.transaction&&"transaction"===e.type&&(e.transaction=o)}(e,o),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,a),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,s)},t.mergeAndOverwriteScopeData=a,t.mergeScopeData=function(e,t){const{extra:n,tags:r,user:i,contexts:s,level:l,sdkProcessingMetadata:A,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:p,propagationContext:h,transactionName:f,span:g}=t;a(e,"extra",n),a(e,"tags",r),a(e,"user",i),a(e,"contexts",s),e.sdkProcessingMetadata=o.merge(e.sdkProcessingMetadata,A,2),l&&(e.level=l),f&&(e.transactionName=f),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...h}}},354:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425),i=n(5043),a=n(5359),s=n(3600);let l,A,c,u,d,p=!1;const h=new WeakSet,f=new Set;function g(e){const{location:t,routes:n,navigationType:i,version:a,matches:s,basename:l,allRoutes:A}=e,c=Array.isArray(s)?s:d(n,t,l),u=o.getClient();if(u&&h.has(u)&&("PUSH"===i||"POP"===i)&&c){let e,i="url";const s=S(t,A||n);s&&(e=I(T(A||n,t)),i="route"),s&&e||([e,i]=k(n,t,c,l));const d=o.getActiveSpan();d&&"navigation"===o.spanToJSON(d).op?(d?.updateName(e),d?.setAttribute(o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,i)):r.startBrowserTracingNavigationSpan(u,{name:e,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:i,[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"navigation",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:`auto.navigation.react.reactrouter_v${a}`}})}}function m(e,t){if(!t||"/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?e:e.slice(n)||"/"}function y(e,t,n){const r=e||p?m(t,n):t;return["/"===r[r.length-1]||"/*"===r.slice(-2)?r.slice(0,-1):r,"route"]}function v(e){return e.endsWith("*")}function b(e,t){return v(e)&&!!t.route.children?.length||!1}function w(e){return!(e.children||!e.element||!e.path?.endsWith("/*"))}function S(e,t){const n=d(t,e);if(n)for(const r of n)if(w(r.route)&&E(r))return!0;return!1}function _(e){e.forEach(e=>{B(e).forEach(e=>{f.add(e)})})}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return t.has(e)||(t.add(e),e.children&&!e.index&&e.children.forEach(e=>{B(e,t).forEach(e=>{t.add(e)})})),t}function C(e){return"*"===(t=e.route.path||"")[t.length-1]?t.slice(0,-1):t;var t}function E(e){return e.params["*"]||""}function x(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function I(e){return"/"===e[0]?e:`/${e}`}function T(e,t){const n=d(e,t);if(!n||0===n.length)return"";for(const r of n)if(r.route.path&&"*"!==r.route.path){const n=C(r),o=m(t.pathname,I(r.pathnameBase));return t.pathname===o?x(o):x(x(n||"")+I(T(e.filter(e=>e!==r.route),{pathname:o})))}return""}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e||0===e.length)return[p?m(t.pathname,r):t.pathname,"url"];let o="";if(n)for(const i of n){const e=i.route;if(e){if(e.index)return y(o,i.pathname,r);const n=e.path;if(n&&!b(n,i)){const e="/"===n[0]||"/"===o[o.length-1]?n:`/${n}`;if(o=x(o)+I(e),x(t.pathname)===x(r+i.pathname))return N(o)===N(i.pathname)||v(o)?(b(o,i)&&(o=o.slice(0,-1)),[(p?"":r)+o,"route"]):[(p?"":r)+e,"route"]}}}return[p?m(t.pathname,r):t.pathname||"/","url"]}function U(e,t,n,r,i,a){const s=Array.isArray(r)?r:d(a||n,t,i);if(s){let r,l="url";const A=S(t,a||n);A&&(r=I(T(a||n,t)),l="route"),A&&r||([r,l]=k(n,t,s,i)),o.getCurrentScope().setTransactionName(r||"/"),e&&(e.updateName(r),e.setAttribute(o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,l))}}function F(){const e=o.getActiveSpan(),t=e?o.getRootSpan(e):void 0;if(!t)return;const n=o.spanToJSON(t).op;return"navigation"===n||"pageload"===n?t:void 0}function N(e){return e.split(/\\?\//).filter(e=>e.length>0&&","!==e).length}t.createReactRouterV6CompatibleTracingIntegration=function(e,t){const n=r.browserTracingIntegration({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:i,useLocation:a,useNavigationType:s,createRoutesFromChildren:f,matchRoutes:g,stripBasename:m,instrumentPageLoad:y=!0,instrumentNavigation:v=!0}=e;return{...n,setup(e){n.setup(e),l=i,A=a,c=s,d=g,u=f,p=m||!1},afterAllSetup(e){n.afterAllSetup(e);const i=r.WINDOW.location?.pathname;y&&i&&r.startBrowserTracingPageLoadSpan(e,{name:i,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"pageload",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:`auto.pageload.react.reactrouter_v${t}`}}),v&&h.add(e)}}},t.createV6CompatibleWithSentryReactRouterRouting=function(e,t){if(!l||!A||!c||!u||!d)return a.DEBUG_BUILD&&o.debug.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ${l}. useLocation: ${A}. useNavigationType: ${c}.\n      createRoutesFromChildren: ${u}. matchRoutes: ${d}.`),e;const n=n=>{const r=i.useRef(!0),o=A(),a=c();return l(()=>{const e=u(n.children);r.current?(_(e),U(F(),o,e,void 0,void 0,Array.from(f)),r.current=!1):g({location:o,routes:e,navigationType:a,version:t,allRoutes:Array.from(f)})},[o,a]),i.createElement(e,{...n})};return s.hoistNonReactStatics(n,e),n},t.createV6CompatibleWrapCreateBrowserRouter=function(e,t){return l&&A&&c&&d?function(n,r){_(n);const o=e(n,r),i=r?.basename,a=F();return"POP"===o.state.historyAction&&a&&U(a,o.state.location,n,void 0,i,Array.from(f)),o.subscribe(e=>{"PUSH"!==e.historyAction&&"POP"!==e.historyAction||("idle"!==e.navigation.state?requestAnimationFrame(()=>{g({location:e.location,routes:n,navigationType:e.historyAction,version:t,basename:i,allRoutes:Array.from(f)})}):g({location:e.location,routes:n,navigationType:e.historyAction,version:t,basename:i,allRoutes:Array.from(f)}))}),o}:(a.DEBUG_BUILD&&o.debug.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createRouter\` function because of one or more missing parameters.`),e)},t.createV6CompatibleWrapCreateMemoryRouter=function(e,t){return l&&A&&c&&d?function(n,r){_(n);const o=e(n,r),i=r?.basename,a=F();let s;const l=r?.initialEntries,A=r?.initialIndex,c=l&&1===l.length,u=void 0!==A&&l&&l[A];s=c?l[0]:u?l[A]:void 0;const d=s?"string"===typeof s?{pathname:s}:s:o.state.location;return"POP"===o.state.historyAction&&a&&U(a,d,n,void 0,i,Array.from(f)),o.subscribe(e=>{const r=e.location;"PUSH"!==e.historyAction&&"POP"!==e.historyAction||g({location:r,routes:n,navigationType:e.historyAction,version:t,basename:i,allRoutes:Array.from(f)})}),o}:(a.DEBUG_BUILD&&o.debug.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createMemoryRouter\` function because of one or more missing parameters.`),e)},t.createV6CompatibleWrapUseRoutes=function(e,t){if(!l||!A||!c||!d)return a.DEBUG_BUILD&&o.debug.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;const n=n=>{const r=i.useRef(!0),{routes:o,locationArg:a}=n,s=e(o,a),u=A(),d=c(),p="string"===typeof a||a?.pathname?a:u;return l(()=>{const e="string"===typeof p?{pathname:p}:p;r.current?(_(o),U(F(),e,o,void 0,void 0,Array.from(f)),r.current=!1):g({location:e,routes:o,navigationType:d,version:t,allRoutes:Array.from(f)})},[d,p]),s};return(e,t)=>i.createElement(n,{routes:e,locationArg:t})},t.getNumberOfUrlSegments=N,t.handleNavigation=g},377:(e,t,n)=>{"use strict";var r,o;n.d(t,{A:()=>i});const i={PYTHON_API_URL:(null===(r="http://localhost:8002")?void 0:r.replace(/\/$/,""))||"http://localhost:8002",ANALYSIS_API_URL:(null===(o="http://localhost:8000")?void 0:o.replace(/\/$/,""))||"http://localhost:8000",USE_MOCK_API:!1,API_TIMEOUT:parseInt({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.REACT_APP_PYTHON_API_TIMEOUT)||12e4,COLLECTIONS:{USER_PROFILES:"userProfiles",BRAND_DATA:"brandData",AD_MEDIA:"adMedia",ANALYSIS_REQUESTS:"analysisRequests",ANALYSIS_RESULTS:"analysisResults"},FEATURES:{brand_compliance:"Brand Compliance",messaging_intent:"Messaging Intent",funnel_compatibility:"Funnel Compatibility",resonance_index:"Resonance Index with Purchase Intent",channel_compliance:"Channel Compliance"}}},427:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8232),o=n(9867);function i(e){return e.includes("chat.completions")?r.OPENAI_OPERATIONS.CHAT:e.includes("responses")?r.OPENAI_OPERATIONS.RESPONSES:e.split(".").pop()||"unknown"}t.buildMethodPath=function(e,t){return e?`${e}.${t}`:t},t.getOperationName=i,t.getSpanOperation=function(e){return`gen_ai.${i(e)}`},t.isChatCompletionChunk=function(e){return null!==e&&"object"===typeof e&&"object"in e&&"chat.completion.chunk"===e.object},t.isChatCompletionResponse=function(e){return null!==e&&"object"===typeof e&&"object"in e&&"chat.completion"===e.object},t.isResponsesApiResponse=function(e){return null!==e&&"object"===typeof e&&"object"in e&&"response"===e.object},t.isResponsesApiStreamEvent=function(e){return null!==e&&"object"===typeof e&&"type"in e&&"string"===typeof e.type&&e.type.startsWith("response.")},t.setCommonResponseAttributes=function(e,t,n,o){e.setAttributes({[r.OPENAI_RESPONSE_ID_ATTRIBUTE]:t,[r.GEN_AI_RESPONSE_ID_ATTRIBUTE]:t}),e.setAttributes({[r.OPENAI_RESPONSE_MODEL_ATTRIBUTE]:n,[r.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]:n}),e.setAttributes({[r.OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE]:new Date(1e3*o).toISOString()})},t.setTokenUsageAttributes=function(e,t,n,o){void 0!==t&&e.setAttributes({[r.OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE]:t,[r.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]:t}),void 0!==n&&e.setAttributes({[r.OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE]:n,[r.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]:n}),void 0!==o&&e.setAttributes({[r.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE]:o})},t.shouldInstrument=function(e){return o.INSTRUMENTED_METHODS.includes(e)}},436:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7591),o=Symbol.for("SentryBufferFullError");t.SENTRY_BUFFER_FULL_ERROR=o,t.makePromiseBuffer=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(i){if(!(void 0===e||t.length<e))return r.rejectedSyncPromise(o);const a=i();return-1===t.indexOf(a)&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a},drain:function(e){return new r.SyncPromise((n,o)=>{let i=t.length;if(!i)return n(!0);const a=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{r.resolvedSyncPromise(e).then(()=>{--i||(clearTimeout(a),n(!0))},o)})})}}}},452:(e,t)=>{function n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=new String(String.raw(e,...n));return o.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),o.__sentry_template_values__=n,o}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n;t.fmt=r,t.parameterize=n},475:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650),i=r.GLOBAL_OBJ,a="sentryReplaySession",s="Unable to send Replay",l=5e3,A=5500,c=15e4,u=5e3,d=2e7,p=4999,h=36e5;var f=Object.defineProperty,g=(e,t,n)=>((e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),m=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(m||{});function y(e){const t=e?.host;return Boolean(t?.shadowRoot===e)}function v(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function b(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,w).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(n){return null}var t}function w(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=b(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){}else if(function(e){return"selectorText"in e}(e)){let t=e.cssText;const n=e.selectorText.includes(":"),r="string"===typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,o=r[n],i=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),n&&(t=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(t)),n||r)return t}return t||e.cssText}class S{constructor(){g(this,"idNodeMap",new Map),g(this,"nodeMetaMap",new WeakMap)}getId(e){if(!e)return-1;const t=this.getMeta(e)?.id;return t??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function _(e){let{maskInputOptions:t,tagName:n,type:r}=e;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function B(e){let{isMasked:t,element:n,value:r,maskInputFn:o}=e,i=r||"";return t?(o&&(i=o(i,n)),"*".repeat(i.length)):i}function C(e){return e.toLowerCase()}function E(e){return e.toUpperCase()}const x="__rrweb_original__";function I(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?C(t):null}function T(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function k(e,t){let n;try{n=new URL(e,t??window.location.href)}catch(o){return null}const r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return r?.[1]??null}const U={};function F(e){const t=U[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(o){}return U[e]=r.bind(window)}function N(){return F("setTimeout")(...arguments)}function P(){return F("clearTimeout")(...arguments)}function R(e){try{return e.contentDocument}catch(t){}}let L=1;const O=new RegExp("[^a-z0-9-_:]");function D(){return L++}let M,Q;const j=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,H=/^(?:[a-z+]+:)?\/\//i,z=/^www\..*/i,V=/^(data:)([^,]*),(.*)/i;function K(e,t){return(e||"").replace(j,(e,n,r,o,i,a)=>{const s=r||i||a,l=n||o||"";if(!s)return e;if(H.test(s)||z.test(s))return`url(${l}${s}${l})`;if(V.test(s))return`url(${l}${s}${l})`;if("/"===s[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+s}${l})`;const A=t.split("/"),c=s.split("/");A.pop();for(const t of c)"."!==t&&(".."===t?A.pop():A.push(t));return`url(${l}${A.join("/")}${l})`})}const W=/^[^ \t\n\r\u000c]+/,G=/^[, \t\n\r\u000c]+/;const $=new WeakMap;function q(e,t){return t&&""!==t.trim()?J(e,t):t}function Y(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function J(e,t){let n=$.get(e);if(n||(n=e.createElement("a"),$.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function X(e,t,n,r,o,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?q(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(G),!(n>=t.length);){let i=r(W);if(","===i.slice(-1))i=q(e,i.substring(0,i.length-1)),o.push(i);else{let r="";i=q(e,i);let a=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((i+r).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,o.push((i+r).trim());break}"("===e&&(a=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?K(r,J(e)):"object"===t&&"data"===n?q(e,r):"function"===typeof i?i(n,r,o):r:q(e,r):r}function Z(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function ee(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"===typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(o){}return!1}function te(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:te(e.parentNode,t,n,r+1):-1}function ne(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"===typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch{return!1}}}function re(e,t,n,r,o,i){try{const a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){const e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let s=-1,l=-1;if(i){if(l=te(a,ne(r,o)),l<0)return!0;s=te(a,ne(t,n),l>=0?l:1/0)}else{if(s=te(a,ne(t,n)),s<0)return!1;l=te(a,ne(r,o),s>=0?s:1/0)}return s>=0?!(l>=0)||s<=l:!(l>=0)&&!!i}catch(a){}return!!i}function oe(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskAttributeFn:l,maskTextClass:A,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:f,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:k=!1}=t,U=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:m.Document,childNodes:[],compatMode:e.compatMode}:{type:m.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:m.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:U};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:l,maskInputFn:A,dataURLOptions:c={},inlineImages:u,recordCanvas:d,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:f,maskTextClass:g,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:w}=t,S=ee(e,r,o,i),k=function(e){if(e instanceof HTMLFormElement)return"form";const t=C(e.tagName);return O.test(t)?"div":t}(e);let U={};const F=e.attributes.length;for(let m=0;m<F;m++){const t=e.attributes[m];t.name&&!Z(k,t.name,t.value)&&(U[t.name]=X(n,k,C(t.name),t.value,e,l))}if("link"===k&&a){const t=Array.from(n.styleSheets).find(t=>t.href===e.href);let r=null;t&&(r=b(t)),r&&(U.rel=null,U.href=null,U.crossorigin=null,U._cssText=K(r,t.href))}if("style"===k&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=b(e.sheet);t&&(U._cssText=K(t,J(n)))}if("input"===k||"textarea"===k||"select"===k||"option"===k){const t=e,n=I(t),r=T(t,E(k),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=re(t,g,v,y,w,_({type:n,tagName:E(k),maskInputOptions:s}));U.value=B({isMasked:e,element:t,value:r,maskInputFn:A})}o&&(U.checked=o)}"option"===k&&(e.selected&&!s.select?U.selected=!0:delete U.selected);if("canvas"===k&&d)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,i=x in o?o[x]:o;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0})(e)||(U.rr_dataURL=e.toDataURL(c.type,c.quality));else if(!("__context"in e)){const t=e.toDataURL(c.type,c.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height;t!==r.toDataURL(c.type,c.quality)&&(U.rr_dataURL=t)}if("img"===k&&u){M||(M=n.createElement("canvas"),Q=M.getContext("2d"));const t=e,r=t.currentSrc||t.getAttribute("src")||"<unknown-src>",o=t.crossOrigin,i=()=>{t.removeEventListener("load",i);try{M.width=t.naturalWidth,M.height=t.naturalHeight,Q.drawImage(t,0,0),U.rr_dataURL=M.toDataURL(c.type,c.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i));console.warn(`Cannot inline img src=${r}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(o?U.crossOrigin=o:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}"audio"!==k&&"video"!==k||(U.rr_mediaState=e.paused?"paused":"played",U.rr_mediaCurrentTime=e.currentTime);h||(e.scrollLeft&&(U.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(U.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();U={class:U.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==k||p(U.src)||(S||R(e)||(U.rr_src=U.src),delete U.src);let N;try{customElements.get(k)&&(N=!0)}catch(P){}return{type:m.Element,tagName:k,attributes:U,childNodes:[],isSVG:Y(e)||void 0,needBlock:S,rootId:f,isCustom:N}}(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:a,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:h,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:k,rootId:U,maskTextClass:A,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:s,maskInputOptions:l,maskInputFn:A,rootId:c}=t,u=e.parentNode&&e.parentNode.tagName;let d=e.textContent;const p="STYLE"===u||void 0,h="SCRIPT"===u||void 0,f="TEXTAREA"===u||void 0;if(p&&d){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(d=b(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}d=K(d,J(t.doc))}h&&(d="SCRIPT_PLACEHOLDER");const g=re(e,r,i,o,a,n);p||h||f||!d||!g||(d=s?s(d,e.parentElement):d.replace(/[\S]/g,"*"));f&&d&&(l.textarea||g)&&(d=A?A(d,e.parentNode):d.replace(/[\S]/g,"*"));if("OPTION"===u&&d){d=B({isMasked:re(e,r,i,o,a,_({type:null,tagName:u,maskInputOptions:l})),element:e,value:d,maskInputFn:A})}return{type:m.Text,textContent:d||"",isStyle:p,rootId:c}}(e,{doc:n,maskAllText:s,maskTextClass:A,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,maskTextFn:f,maskInputOptions:h,maskInputFn:g,rootId:U});case e.CDATA_SECTION_NODE:return{type:m.CDATA,textContent:"",rootId:U};case e.COMMENT_NODE:return{type:m.Comment,textContent:e.textContent||"",rootId:U};default:return!1}}function ie(e){return void 0===e||null===e?"":e.toLowerCase()}function ae(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:A,maskTextSelector:c,unmaskTextSelector:u,skipChild:d=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:f,maskTextFn:g,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S={},inlineImages:_=!1,recordCanvas:B=!1,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:x=5e3,onStylesheetLoad:I,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:U=()=>!1,newlyAddedElement:F=!1}=t;let{preserveWhiteSpace:L=!0}=t;const O=oe(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:A,maskTextSelector:c,unmaskTextSelector:u,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:f,maskTextFn:g,maskInputFn:b,dataURLOptions:S,inlineImages:_,recordCanvas:B,keepIframeSrcFn:U,newlyAddedElement:F});if(!O)return console.warn(e,"not serialized"),null;let M;M=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===m.Comment)return!0;if(e.type===m.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&"js"===k(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(ie(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ie(e.attributes.name)||"icon"===ie(e.attributes.rel)||"apple-touch-icon"===ie(e.attributes.rel)||"shortcut icon"===ie(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&ie(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ie(e.attributes.property).match(/^(og|twitter|fb):/)||ie(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===ie(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===ie(e.attributes.name)||"googlebot"===ie(e.attributes.name)||"bingbot"===ie(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===ie(e.attributes.name)||"generator"===ie(e.attributes.name)||"framework"===ie(e.attributes.name)||"publisher"===ie(e.attributes.name)||"progid"===ie(e.attributes.name)||ie(e.attributes.property).match(/^article:/)||ie(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===ie(e.attributes.name)||"yandex-verification"===ie(e.attributes.name)||"csrf-token"===ie(e.attributes.name)||"p:domain_verify"===ie(e.attributes.name)||"verify-v1"===ie(e.attributes.name)||"verification"===ie(e.attributes.name)||"shopify-checkout-api-token"===ie(e.attributes.name)))return!0}}return!1}(O,w)&&(L||O.type!==m.Text||O.isStyle||O.textContent.replace(/^\s+|\s+$/gm,"").length)?D():-2;const Q=Object.assign(O,{id:M});if(r.add(e,Q),-2===M)return null;C&&C(e);let j=!d;if(Q.type===m.Element){j=j&&!Q.needBlock,delete Q.needBlock;const t=e.shadowRoot;t&&v(t)&&(Q.isShadowHost=!0)}if((Q.type===m.Document||Q.type===m.Element)&&j){w.headWhitespace&&Q.type===m.Element&&"head"===Q.tagName&&(L=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:A,maskTextSelector:c,unmaskTextSelector:u,skipChild:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:f,maskTextFn:g,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:_,recordCanvas:B,preserveWhiteSpace:L,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:x,onStylesheetLoad:I,stylesheetLoadTimeout:T,keepIframeSrcFn:U};for(const n of Array.from(e.childNodes)){const e=ae(n,t);e&&Q.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=ae(n,t);r&&(v(e.shadowRoot)&&(r.isShadow=!0),Q.childNodes.push(r))}}return e.parentNode&&y(e.parentNode)&&v(e.parentNode)&&(Q.isShadow=!0),Q.type!==m.Element||"iframe"!==Q.tagName||ee(e,o,i,a)||function(e,t,n){const r=e.contentWindow;if(!r)return;let o,i=!1;try{o=r.document.readyState}catch(s){return}if("complete"!==o){const r=N(()=>{i||(t(),i=!0)},n);return void e.addEventListener("load",()=>{P(r),i=!0,t()})}const a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return N(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{const t=R(e);if(t&&E){const n=ae(t,{doc:t,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:A,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:f,maskTextFn:g,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:_,recordCanvas:B,preserveWhiteSpace:L,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:x,onStylesheetLoad:I,stylesheetLoadTimeout:T,keepIframeSrcFn:U});n&&E(e,n)}},x),Q.type===m.Element&&"link"===Q.tagName&&"string"===typeof Q.attributes.rel&&("stylesheet"===Q.attributes.rel||"preload"===Q.attributes.rel&&"string"===typeof Q.attributes.href&&"css"===k(Q.attributes.href))&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(a){return}if(r)return;const i=N(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{P(i),o=!0,t()})}(e,()=>{if(I){const t=ae(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:A,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:f,maskTextFn:g,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:_,recordCanvas:B,preserveWhiteSpace:L,onSerialize:C,onIframeLoad:E,iframeLoadTimeout:x,onStylesheetLoad:I,stylesheetLoadTimeout:T,keepIframeSrcFn:U});t&&I(e,t)}},T),Q}function se(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const le="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Ae={map:{},getId:()=>(console.error(le),-1),getNode:()=>(console.error(le),null),removeNodeFromMap(){console.error(le)},has:()=>(console.error(le),!1),reset(){console.error(le)}};function ce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,o=0;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const l=Date.now();o||!1!==n.leading||(o=l);const A=t-(l-o),c=this;A<=0||A>t?(r&&(!function(){ke("clearTimeout")(...arguments)}(r),r=null),o=l,e.apply(c,a)):r||!1===n.trailing||(r=Ue(()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(c,a)},A))}}function ue(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){Ue(()=>{n.set.call(this,e)},0),i&&i.set&&i.set.call(this,e)}}),()=>ue(e,t,i||{},!0)}function de(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"===typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(Ae=new Proxy(Ae,{get:(e,t,n)=>("map"===t&&console.error(le),Reflect.get(e,t,n))}));let pe=Date.now;function he(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function fe(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ge(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function me(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function ye(e,t,n,r,o){if(!e)return!1;const i=me(e);if(!i)return!1;const a=ne(t,n);if(!o){const e=r&&i.matches(r);return a(i)&&!e}const s=te(i,a);let l=-1;return!(s<0)&&(r&&(l=te(i,ne(null,r))),s>-1&&l<0||s<l)}function ve(e,t){return-2===t.getId(e)}function be(e,t){if(y(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||be(e.parentNode,t))}function we(e){return Boolean(e.changedTouches)}function Se(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function _e(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Be(e){return Boolean(e?.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(pe=()=>(new Date).getTime());class Ce{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ee(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function xe(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Ee(n);)n=t;return n}(e);return t.contains(n)}function Ie(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||xe(e))}const Te={};function ke(e){const t=Te[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(o){}return Te[e]=r.bind(window)}function Ue(){return ke("setTimeout")(...arguments)}var Fe=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Fe||{}),Ne=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ne||{}),Pe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Pe||{}),Re=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Re||{}),Le=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Le||{});function Oe(e){try{return e.contentDocument}catch(t){}}function De(e){return"__ln"in e}class Me{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=t?.next||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&De(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&De(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Qe=(e,t)=>`${e}@${t}`;class je{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Me,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!Ie(o))return;const i=y(o.parentNode)?this.mirror.getId(Ee(o)):this.mirror.getId(o.parentNode),a=r(o);if(-1===i||-1===a)return n.addNode(o);const s=ae(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Se(e,this.mirror)&&!ye(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),_e(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Be(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{ye(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});s&&(e.push({parentId:i,nextId:a,node:s}),t.add(s.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const s of this.movedSet)ze(this.removes,s,this.mirror)&&!this.movedSet.has(s.parentNode)||o(s);for(const s of this.addedSet)Ve(this.droppedSet,s)||ze(this.removes,s,this.mirror)?Ve(this.movedSet,s)?o(s):this.droppedSet.add(s):o(s);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),o(e.value)}const a={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{const{attributes:t}=e;if("string"===typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!ve(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:re(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,me(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,o=e.target.getAttribute(r);if("value"===r){const t=I(n),r=n.tagName;o=T(n,r,t);const i=_({maskInputOptions:this.maskInputOptions,tagName:r,type:t});o=B({isMasked:re(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:n,value:o,maskInputFn:this.maskInputFn})}if(ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(o)){if(Oe(n))return;r="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Z(n.tagName,r)&&(i.attributes[r]=X(this.doc,C(n.tagName),C(r),o,n,this.maskAttributeFn),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),o=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||o!==r.style.getPropertyPriority(e)?i.styleDiff[e]=""===o?t:[t,o]:i._unchangedStyles[e]=[t,o]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const n=this.mirror.getId(t),r=y(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);ye(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ve(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(He(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||be(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Qe(n,r)]?He(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!y(e.target)||!v(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(ve(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Qe(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);ye(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(e=>this.genAdds(e)),Be(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function He(e,t){e.delete(t),t.childNodes.forEach(t=>He(e,t))}function ze(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){const t=n.getId(r);if(e.some(e=>e.id===t))return!0;r=r.parentNode}return!1}(e,t,n)}function Ve(e,t){return 0!==e.size&&Ke(e,t)}function Ke(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Ke(e,n))}let We;const Ge=e=>{if(!We)return e;return function(){try{return e(...arguments)}catch(t){if(We&&!0===We(t))return()=>{};throw t}}},$e=[];function qe(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Ye(e,t){const n=new je;$e.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);const i=new r(Ge(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Je(e){let{mouseInteractionCb:t,doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,sampling:s}=e;if(!1===s.mouseInteraction)return()=>{};const l=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,A=[];let c=null;return Object.keys(Pe).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e]).forEach(e=>{let s=C(e);const l=(e=>n=>{const s=qe(n);if(ye(s,o,i,a,!0))return;let l=null,A=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=Re.Mouse;break;case"touch":l=Re.Touch;break;case"pen":l=Re.Pen}l===Re.Touch?Pe[e]===Pe.MouseDown?A="TouchStart":Pe[e]===Pe.MouseUp&&(A="TouchEnd"):Re.Pen}else we(n)&&(l=Re.Touch);null!==l?(c=l,(A.startsWith("Touch")&&l===Re.Touch||A.startsWith("Mouse")&&l===Re.Mouse)&&(l=null)):Pe[e]===Pe.Click&&(l=c,c=null);const u=we(n)?n.changedTouches[0]:n;if(!u)return;const d=r.getId(s),{clientX:p,clientY:h}=u;Ge(t)({type:Pe[A],id:d,x:p,y:h,...null!==l&&{pointerType:l}})})(e);if(window.PointerEvent)switch(Pe[e]){case Pe.MouseDown:case Pe.MouseUp:s=s.replace("mouse","pointer");break;case Pe.TouchStart:case Pe.TouchEnd:return}A.push(se(s,l,n))}),Ge(()=>{A.forEach(e=>e())})}function Xe(e){let{scrollCb:t,doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,sampling:s}=e;return se("scroll",Ge(ce(Ge(e=>{const s=qe(e);if(!s||ye(s,o,i,a,!0))return;const l=r.getId(s);if(s===n&&n.defaultView){const e=he(n.defaultView);t({id:l,x:e.left,y:e.top})}else t({id:l,x:s.scrollLeft,y:s.scrollTop})}),s.scroll||100)),n)}const Ze=["INPUT","TEXTAREA","SELECT"],et=new WeakMap;function tt(e){let{inputCb:t,doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,ignoreClass:s,ignoreSelector:l,maskInputOptions:A,maskInputFn:c,sampling:u,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:g}=e;function m(e){let t=qe(e);const r=e.isTrusted,u=t&&E(t.tagName);if("OPTION"===u&&(t=t.parentElement),!t||!u||Ze.indexOf(u)<0||ye(t,o,i,a,!0))return;const m=t;if(m.classList.contains(s)||l&&m.matches(l))return;const v=I(t);let b=T(m,u,v),w=!1;const S=_({maskInputOptions:A,tagName:u,type:v}),C=re(t,p,f,h,g,S);"radio"!==v&&"checkbox"!==v||(w=t.checked),b=B({isMasked:C,element:t,value:b,maskInputFn:c}),y(t,d?{text:b,isChecked:w,userTriggered:r}:{text:b,isChecked:w});const x=t.name;"radio"===v&&x&&w&&n.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach(e=>{if(e!==t){const t=B({isMasked:C,element:e,value:T(e,u,v),maskInputFn:c});y(e,d?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}})}function y(e,n){const o=et.get(e);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){et.set(e,n);const o=r.getId(e);Ge(t)({...n,id:o})}}const v=("last"===u.input?["change"]:["input","change"]).map(e=>se(e,Ge(m),n)),b=n.defaultView;if(!b)return()=>{v.forEach(e=>e())};const w=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),S=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&v.push(...S.map(e=>ue(e[0],e[1],{set(){Ge(m)({target:this,isTrusted:!1})}},!1,b))),Ge(()=>{v.forEach(e=>e())})}function nt(e){return function(e,t){if(at("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||at("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||at("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||at("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function rt(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function ot(e,t){let{mirror:n,stylesheetManager:r}=e,o=null;o="#document"===t.nodeName?n.getId(t):n.getId(t.host);const i="#document"===t.nodeName?t.defaultView?.Document:t.ownerDocument?.defaultView?.ShadowRoot,a=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&i&&a?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){return a.get?.call(this)},set(e){const t=a.set?.call(this,e);if(null!==o&&-1!==o)try{r.adoptStyleSheets(e,o)}catch(n){}return t}}),Ge(()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})})):()=>{}}function it(e){const t=e.doc.defaultView;if(!t)return()=>{};let n;e.recordDOM&&(n=Ye(e,e.doc));const r=function(e){let{mousemoveCb:t,sampling:n,doc:r,mirror:o}=e;if(!1===n.mousemove)return()=>{};const i="number"===typeof n.mousemove?n.mousemove:50,a="number"===typeof n.mousemoveCallback?n.mousemoveCallback:500;let s,l=[];const A=ce(Ge(e=>{const n=Date.now()-s;t(l.map(e=>(e.timeOffset-=n,e)),e),l=[],s=null}),a),c=Ge(ce(Ge(e=>{const t=qe(e),{clientX:n,clientY:r}=we(e)?e.changedTouches[0]:e;s||(s=pe()),l.push({x:n,y:r,id:o.getId(t),timeOffset:pe()-s}),A("undefined"!==typeof DragEvent&&e instanceof DragEvent?Ne.Drag:e instanceof MouseEvent?Ne.MouseMove:Ne.TouchMove)}),i,{trailing:!1})),u=[se("mousemove",c,r),se("touchmove",c,r),se("drag",c,r)];return Ge(()=>{u.forEach(e=>e())})}(e),o=Je(e),i=Xe(e),a=function(e,t){let{viewportResizeCb:n}=e,{win:r}=t,o=-1,i=-1;return se("resize",Ge(ce(Ge(()=>{const e=fe(),t=ge();o===e&&i===t||(n({width:Number(t),height:Number(e)}),o=e,i=t)}),200)),r)}(e,{win:t}),s=tt(e),l=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:o,mirror:i,sampling:a,doc:s}=e;const l=Ge(e=>ce(Ge(a=>{const s=qe(a);if(!s||ye(s,n,r,o,!0))return;const{currentTime:l,volume:A,muted:c,playbackRate:u}=s;t({type:e,id:i.getId(s),currentTime:l,volume:A,muted:c,playbackRate:u})}),a.media||500)),A=[se("play",l(Le.Play),s),se("pause",l(Le.Pause),s),se("seeked",l(Le.Seeked),s),se("volumechange",l(Le.VolumeChange),s),se("ratechange",l(Le.RateChange),s)];return Ge(()=>{A.forEach(e=>e())})}(e);let A=()=>{},c=()=>{},u=()=>{},d=()=>{};e.recordDOM&&(A=function(e,t){let{styleSheetRuleCb:n,mirror:r,stylesheetManager:o}=e,{win:i}=t;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const a=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:Ge((e,t,i)=>{const[a,s]=i,{id:l,styleId:A}=rt(t,r,o.styleMirror);return(l&&-1!==l||A&&-1!==A)&&n({id:l,styleId:A,adds:[{rule:a,index:s}]}),e.apply(t,i)})});const s=i.CSSStyleSheet.prototype.deleteRule;let l,A;i.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:Ge((e,t,i)=>{const[a]=i,{id:s,styleId:l}=rt(t,r,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&n({id:s,styleId:l,removes:[{index:a}]}),e.apply(t,i)})}),i.CSSStyleSheet.prototype.replace&&(l=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:Ge((e,t,i)=>{const[a]=i,{id:s,styleId:l}=rt(t,r,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&n({id:s,styleId:l,replace:a}),e.apply(t,i)})})),i.CSSStyleSheet.prototype.replaceSync&&(A=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(A,{apply:Ge((e,t,i)=>{const[a]=i,{id:s,styleId:l}=rt(t,r,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&n({id:s,styleId:l,replaceSync:a}),e.apply(t,i)})}));const c={};st("CSSGroupingRule")?c.CSSGroupingRule=i.CSSGroupingRule:(st("CSSMediaRule")&&(c.CSSMediaRule=i.CSSMediaRule),st("CSSConditionRule")&&(c.CSSConditionRule=i.CSSConditionRule),st("CSSSupportsRule")&&(c.CSSSupportsRule=i.CSSSupportsRule));const u={};return Object.entries(c).forEach(e=>{let[t,i]=e;u[t]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[t].insertRule,{apply:Ge((e,t,i)=>{const[a,s]=i,{id:l,styleId:A}=rt(t.parentStyleSheet,r,o.styleMirror);return(l&&-1!==l||A&&-1!==A)&&n({id:l,styleId:A,adds:[{rule:a,index:[...nt(t),s||0]}]}),e.apply(t,i)})}),i.prototype.deleteRule=new Proxy(u[t].deleteRule,{apply:Ge((e,t,i)=>{const[a]=i,{id:s,styleId:l}=rt(t.parentStyleSheet,r,o.styleMirror);return(s&&-1!==s||l&&-1!==l)&&n({id:s,styleId:l,removes:[{index:[...nt(t),a]}]}),e.apply(t,i)})})}),Ge(()=>{i.CSSStyleSheet.prototype.insertRule=a,i.CSSStyleSheet.prototype.deleteRule=s,l&&(i.CSSStyleSheet.prototype.replace=l),A&&(i.CSSStyleSheet.prototype.replaceSync=A),Object.entries(c).forEach(e=>{let[t,n]=e;n.prototype.insertRule=u[t].insertRule,n.prototype.deleteRule=u[t].deleteRule})})}(e,{win:t}),c=ot(e,e.doc),u=function(e,t){let{styleDeclarationCb:n,mirror:r,ignoreCSSAttributes:o,stylesheetManager:i}=e,{win:a}=t;const s=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Ge((e,t,a)=>{const[l,A,c]=a;if(o.has(l))return s.apply(t,[l,A,c]);const{id:u,styleId:d}=rt(t.parentRule?.parentStyleSheet,r,i.styleMirror);return(u&&-1!==u||d&&-1!==d)&&n({id:u,styleId:d,set:{property:l,value:A,priority:c},index:nt(t.parentRule)}),e.apply(t,a)})});const l=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:Ge((e,t,a)=>{const[s]=a;if(o.has(s))return l.apply(t,[s]);const{id:A,styleId:c}=rt(t.parentRule?.parentStyleSheet,r,i.styleMirror);return(A&&-1!==A||c&&-1!==c)&&n({id:A,styleId:c,remove:{property:s},index:nt(t.parentRule)}),e.apply(t,a)})}),Ge(()=>{a.CSSStyleDeclaration.prototype.setProperty=s,a.CSSStyleDeclaration.prototype.removeProperty=l})}(e,{win:t}),e.collectFonts&&(d=function(e){let{fontCb:t,doc:n}=e;const r=n.defaultView;if(!r)return()=>{};const o=[],i=new WeakMap,a=r.FontFace;r.FontFace=function(e,t,n){const r=new a(e,t,n);return i.set(r,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=de(n.fonts,"add",function(e){return function(n){return Ue(Ge(()=>{const e=i.get(n);e&&(t(e),i.delete(n))}),0),e.apply(this,[n])}});return o.push(()=>{r.FontFace=a}),o.push(s),Ge(()=>{o.forEach(e=>e())})}(e)));const p=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:a}=e;let s=!0;const l=Ge(()=>{const e=t.getSelection();if(!e||s&&e?.isCollapsed)return;s=e.isCollapsed||!1;const l=[],A=e.rangeCount||0;for(let t=0;t<A;t++){const a=e.getRangeAt(t),{startContainer:s,startOffset:A,endContainer:c,endOffset:u}=a;ye(s,r,o,i,!0)||ye(c,r,o,i,!0)||l.push({start:n.getId(s),startOffset:A,end:n.getId(c),endOffset:u})}a({ranges:l})});return l(),se("selectionchange",l)}(e),h=function(e){let{doc:t,customElementCb:n}=e;const r=t.defaultView;return r&&r.customElements?de(r.customElements,"define",function(e){return function(t,r,o){try{n({define:{name:t}})}catch(i){}return e.apply(this,[t,r,o])}}):()=>{}}(e),f=[];for(const g of e.plugins)f.push(g.observer(g.callback,t,g.options));return Ge(()=>{$e.forEach(e=>e.reset()),n?.disconnect(),r(),o(),i(),a(),s(),l(),A(),c(),u(),d(),p(),h(),f.forEach(e=>e())})}function at(e){return"undefined"!==typeof window[e]}function st(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class lt{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let a=o.get(t);return a||(a=this.generateIdFn(),o.set(t,a),i.set(a,t)),a}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class At{constructor(){this.crossOriginIframeMirror=new lt(D),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class ct{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new lt(D),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new lt(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const n=Oe(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Fe.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Fe.IncrementalSnapshot,data:{source:Ne.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Fe.Meta:case Fe.Load:case Fe.DomContentLoaded:return!1;case Fe.Plugin:return t;case Fe.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Fe.IncrementalSnapshot:switch(t.data.source){case Ne.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case Ne.Drag:case Ne.TouchMove:case Ne.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case Ne.ViewportResize:return!1;case Ne.MediaInteraction:case Ne.MouseInteraction:case Ne.Scroll:case Ne.CanvasMutation:case Ne.Input:return this.replaceIds(t.data,e,["id"]),t;case Ne.StyleSheetRule:case Ne.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Ne.Font:return t;case Ne.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case Ne.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach(t=>{this.replaceStyleIds(t,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"===typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===m.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class ut{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class dt{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!v(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=Ye({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Xe({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Ue(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(ot({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const t=Oe(e),n=function(e){try{return e.contentWindow}catch(t){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(de(e.prototype,"attachShadow",function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&Ie(this)&&n.addShadowRoot(this.shadowRoot,t),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ht="undefined"===typeof Uint8Array?[]:new Uint8Array(256),ft=0;ft<64;ft++)ht[pt.charCodeAt(ft)]=ft;class gt{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class mt{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ce,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const o of e){let e;this.styleMirror.has(o)?e=this.styleMirror.getId(o):(e=this.styleMirror.add(o),r.push({styleId:e,rules:Array.from(o.rules||CSSRule,(e,t)=>({rule:w(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class yt{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,function(){ke("requestAnimationFrame")(...arguments)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let vt,bt;try{if(2!==Array.from([1],e=>2*e)[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(pr){console.debug("Unable to override Array.from",pr)}const wt=new S;function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:l=null,maskAllText:A=!1,maskTextClass:c="rr-mask",unmaskTextClass:u=null,maskTextSelector:d=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:f,maskInputOptions:g,slimDOMOptions:m,maskAttributeFn:y,maskInputFn:v,maskTextFn:b,maxCanvasSize:w=null,packFn:_,sampling:B={},dataURLOptions:C={},mousemoveWait:E,recordDOM:x=!0,recordCanvas:I=!1,recordCrossOriginIframes:T=!1,recordAfter:k=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:U=!1,collectFonts:F=!1,inlineImages:N=!1,plugins:P,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:O,onMutation:D,getCanvasManager:M}=e;We=O;const Q=!T||window.parent===window;let j=!1;if(!Q)try{window.parent.document&&(j=!1)}catch(ne){j=!0}if(Q&&!t)throw new Error("emit function is required");if(!Q&&!j)return()=>{};void 0!==E&&void 0===B.mousemove&&(B.mousemove=E),wt.reset();const H=!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},z=!0===m||"all"===m?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===m,headMetaDescKeywords:"all"===m}:m||{};let V;!function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let o=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===o)return!0}while(o=o&&o.parentNode);return!1})}();let K=0;const W=e=>{for(const t of P||[])t.eventProcessor&&(e=t.eventProcessor(e));return _&&!j&&(e=_(e)),e};vt=(e,o)=>{const i=e;if(i.timestamp=pe(),!$e[0]?.isFrozen()||i.type===Fe.FullSnapshot||i.type===Fe.IncrementalSnapshot&&i.data.source===Ne.Mutation||$e.forEach(e=>e.unfreeze()),Q)t?.(W(i),o);else if(j){const e={type:"rrweb",event:W(i),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(i.type===Fe.FullSnapshot)V=i,K=0;else if(i.type===Fe.IncrementalSnapshot){if(i.data.source===Ne.Mutation&&i.data.isAttachIframe)return;K++;const e=r&&K>=r,t=n&&V&&i.timestamp-V.timestamp>n;(e||t)&&te(!0)}};const G=e=>{vt({type:Fe.IncrementalSnapshot,data:{source:Ne.Mutation,...e}})},$=e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.Scroll,...e}}),q=e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.CanvasMutation,...e}}),Y=new mt({mutationCb:G,adoptedStyleSheetCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.AdoptedStyleSheet,...e}})}),J="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new At:new ct({mirror:wt,mutationCb:G,stylesheetManager:Y,recordCrossOriginIframes:T,wrappedEmit:vt});for(const S of P||[])S.getMirror&&S.getMirror({nodeMirror:wt,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const X=new yt,Z=function(e,t){try{return e?e(t):new gt}catch{return console.warn("Unable to initialize CanvasManager"),new gt}}(M,{mirror:wt,win:window,mutationCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.CanvasMutation,...e}}),recordCanvas:I,blockClass:o,blockSelector:i,unblockSelector:a,maxCanvasSize:w,sampling:B.canvas,dataURLOptions:C,errorHandler:O}),ee="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ut:new dt({mutationCb:G,scrollCb:$,bypassOptions:{onMutation:D,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:A,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:H,dataURLOptions:C,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,recordCanvas:I,inlineImages:N,sampling:B,slimDOMOptions:z,iframeManager:J,stylesheetManager:Y,canvasManager:Z,keepIframeSrcFn:R,processedNodeManager:X},mirror:wt}),te=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!x)return;vt({type:Fe.Meta,data:{href:window.location.href,width:ge(),height:fe()}},e),Y.reset(),ee.init(),$e.forEach(e=>e.lock());const t=function(e,t){const{mirror:n=new S,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:l=null,maskTextSelector:A=null,unmaskTextSelector:c=null,inlineStylesheet:u=!0,inlineImages:d=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:f,maskTextFn:g,maskInputFn:m,slimDOM:y=!1,dataURLOptions:v,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:B,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:x=()=>!1}=t||{};return ae(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:s,unmaskTextClass:l,maskTextSelector:A,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:u,maskInputOptions:!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===h?{}:h,maskAttributeFn:f,maskTextFn:g,maskInputFn:m,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:v,inlineImages:d,recordCanvas:p,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:B,onStylesheetLoad:C,stylesheetLoadTimeout:E,keepIframeSrcFn:x,newlyAddedElement:!1})}(document,{mirror:wt,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:A,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:H,maskAttributeFn:y,maskInputFn:v,maskTextFn:b,slimDOM:z,dataURLOptions:C,recordCanvas:I,inlineImages:N,onSerialize:e=>{Se(e,wt)&&J.addIframe(e),_e(e,wt)&&Y.trackLinkElement(e),Be(e)&&ee.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{J.attachIframe(e,t),e.contentWindow&&Z.addWindow(e.contentWindow),ee.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Y.attachLinkElement(e,t)},keepIframeSrcFn:R});if(!t)return console.warn("Failed to snapshot the document");vt({type:Fe.FullSnapshot,data:{node:t,initialOffset:he(window)}}),$e.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,wt.getId(document))};bt=te;try{const e=[],t=e=>Ge(it)({onMutation:D,mutationCb:G,mousemoveCb:(e,t)=>vt({type:Fe.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.MouseInteraction,...e}}),scrollCb:$,viewportResizeCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.ViewportResize,...e}}),inputCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.Input,...e}}),mediaInteractionCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.MediaInteraction,...e}}),styleSheetRuleCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.StyleSheetRule,...e}}),styleDeclarationCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.StyleDeclaration,...e}}),canvasMutationCb:q,fontCb:e=>vt({type:Fe.IncrementalSnapshot,data:{source:Ne.Font,...e}}),selectionCb:e=>{vt({type:Fe.IncrementalSnapshot,data:{source:Ne.Selection,...e}})},customElementCb:e=>{vt({type:Fe.IncrementalSnapshot,data:{source:Ne.CustomElement,...e}})},blockClass:o,ignoreClass:s,ignoreSelector:l,maskAllText:A,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,maskInputOptions:H,inlineStylesheet:h,sampling:B,recordDOM:x,recordCanvas:I,inlineImages:N,userTriggeredOnInput:U,collectFonts:F,doc:e,maskAttributeFn:y,maskInputFn:v,maskTextFn:b,keepIframeSrcFn:R,blockSelector:i,unblockSelector:a,slimDOMOptions:z,dataURLOptions:C,mirror:wt,iframeManager:J,stylesheetManager:Y,shadowDomManager:ee,processedNodeManager:X,canvasManager:Z,ignoreCSSAttributes:L,plugins:P?.filter(e=>e.observer)?.map(e=>({observer:e.observer,options:e.options,callback:t=>vt({type:Fe.Plugin,data:{plugin:e.name,payload:t}})}))||[]},{});J.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(r){console.warn(r)}});const n=()=>{te(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(se("DOMContentLoaded",()=>{vt({type:Fe.DomContentLoaded,data:{}}),"DOMContentLoaded"===k&&n()})),e.push(se("load",()=>{vt({type:Fe.Load,data:{}}),"load"===k&&n()},window))),()=>{e.forEach(e=>e()),X.destroy(),bt=void 0,We=void 0}}catch(re){console.warn(re)}}var _t,Bt;St.mirror=wt,St.takeFullSnapshot=function(e){if(!bt)throw new Error("please take full snapshot after start recording");bt(e)},(Bt=_t||(_t={}))[Bt.NotStarted=0]="NotStarted",Bt[Bt.Running=1]="Running",Bt[Bt.Stopped=2]="Stopped";function Ct(e){return e>9999999999?e:1e3*e}function Et(e){return e>9999999999?e/1e3:e}function xt(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Fe.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:r.normalize(t,10,1e3)}}),"console"===t.category)))}function It(e){return e.closest("button,a")||e}function Tt(e){const t=kt(e);return t&&t instanceof Element?It(t):t}function kt(e){return function(e){return"object"===typeof e&&!!e&&"target"in e}(e)?e.target:e}let Ut;function Ft(e){return Ut||(Ut=[],r.fill(i,"open",function(e){return function(){if(Ut)try{Ut.forEach(e=>e())}catch{}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(i,n)}})),Ut.push(e),()=>{const t=Ut?Ut.indexOf(e):-1;t>-1&&Ut.splice(t,1)}}const Nt=new Set([Ne.Mutation,Ne.StyleSheetRule,Ne.StyleDeclaration,Ne.AdoptedStyleSheet,Ne.CanvasMutation,Ne.Selection,Ne.MediaInteraction]);class Pt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt;this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Ft(()=>{this._lastMutation=Lt()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Rt.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!==typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Et(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=Et(e)}registerScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=Et(e)}registerClick(e){const t=It(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){const e=[],t=Lt();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(const n of e){const e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:a,clickBreadcrumb:s}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:i.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:a||1}};return void this._addBreadcrumbEvent(t,o)}if(a>1){const e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:i.location.href,route:t.getCurrentRoute(),clickCount:a,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=o.setTimeout(()=>this._checkClicks(),1e3)}}const Rt=["A","BUTTON","INPUT"];function Lt(){return Date.now()/1e3}function Ot(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(Nt.has(n)&&e.registerMutation(t.timestamp),n===Ne.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Ne.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=St.mirror.getNode(r);o instanceof HTMLElement&&n===Pe.Click&&e.registerClick(o)}}catch{}}function Dt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Mt=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Mt||{});const Qt=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function jt(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(Qt.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Ht=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,o=null;try{o=t?Tt(e.event):kt(e.event),n=r.htmlTreeAsString(o,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:o,message:n}}(e);return Dt({category:`ui.${e.name}`,...zt(t,n)})}(t);if(!n)return;const o="click"===t.name,i=o?t.event:void 0;var a,s,l;!(o&&e.clickDetector&&i?.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||(a=e.clickDetector,s=n,l=Tt(t.event),a.handleClick(s,l)),xt(e,n)};function zt(e,t){const n=St.mirror.getId(e),r=n&&St.mirror.getNode(n),o=r&&St.mirror.getMeta(r),i=o&&function(e){return e.type===Mt.Element}(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(e=>e.type===Mt.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:jt(i.attributes)}}:{}}}function Vt(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:o,altKey:i,key:a,target:s}=e;if(!s||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(s)||!a)return null;const l=t||o||i,A=1===a.length;if(!l&&A)return null;const c=r.htmlTreeAsString(s,{maxStringLength:200})||"<unknown>",u=zt(s,c);return Dt({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:o,altKey:i,key:a}})}(t);n&&xt(e,n)}const Kt={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:a,encodedBodySize:s,responseStatus:l,transferSize:A}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:$t(i),end:$t(o),name:r,data:{size:A,statusCode:l,decodedBodySize:a,encodedBodySize:s}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,i=$t(o);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,domInteractive:A,loadEventStart:c,loadEventEnd:u,redirectCount:d,startTime:p,transferSize:h,type:f}=e;if(0===o)return null;return{type:`${t}.${f}`,start:$t(p),end:$t(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:a,duration:o,domInteractive:A,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,loadEventStart:c,loadEventEnd:u,domComplete:i,redirectCount:d}}}};function Wt(e,t){return n=>{let{metric:r}=n;t.replayPerformanceEntries.push(e(r))}}function Gt(e){const t=Kt[e.entryType];return t?t(e):null}function $t(e){return((r.browserPerformanceTimeOrigin()||i.performance.timeOrigin)+e)/1e3}function qt(e){const t=e.entries[e.entries.length-1];return Zt(e,"largest-contentful-paint",t?.element?[t.element]:void 0)}function Yt(e){return void 0!==e.sources}function Jt(e){const t=[],n=[];for(const r of e.entries)if(Yt(r)){const e=[];for(const t of r.sources)if(t.node){n.push(t.node);const r=St.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return Zt(e,"cumulative-layout-shift",n,t)}function Xt(e){const t=e.entries[e.entries.length-1];return Zt(e,"interaction-to-next-paint",t?.target?[t.target]:void 0)}function Zt(e,t,n,r){const o=e.value,i=e.rating,a=$t(o);return{type:"web-vital",name:t,start:a,end:a,data:{value:o,size:o,rating:i,nodeIds:n?n.map(e=>St.mirror.getId(e)):void 0,attributions:r}}}const en="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const tn=["log","warn","error"],nn="[Replay] ";function rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";r.addBreadcrumb({category:"console",data:{logger:"replay"},level:t,message:`${nn}${e}`},{level:t})}const on=function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};return en?(tn.forEach(e=>{n[e]=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];r.debug[e](nn,...o),t&&rn(o.join(""),r.severityLevelFromString(e))}}),n.exception=function(o){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];a.length&&n.error&&n.error(...a),r.debug.error(nn,o),e?r.captureException(o):t&&rn(o,"error")},n.infoTick=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];r.debug.log(nn,...n),t&&setTimeout(()=>rn(n[0]),0)}):tn.forEach(e=>{n[e]=()=>{}}),n}();class an extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class sn{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>d)throw new an;this.events.push(e)}finish(){return new Promise(e=>{const t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(e=>e.timestamp).sort()[0];return e?Ct(e):null}}class ln{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",n=>{let{data:r}=n;r.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){en&&on.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise((r,o)=>{const i=t=>{let{data:a}=t;const s=a;if(s.method===e&&s.id===n){if(this._worker.removeEventListener("message",i),!s.success)return en&&on.error("Error in compression worker: ",s.response),void o(new Error("Error in compression worker"));r(s.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class An{constructor(e){this._worker=new ln(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Ct(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>d?Promise.reject(new an):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{en&&on.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class cn{constructor(e){this._fallback=new sn,this._compression=new An(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void(en&&on.exception(e,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(const i of e)r.push(this._compression.addEvent(i));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(o){en&&on.exception(o,"Failed to add events when switching buffers.")}}}function un(e){let{useCompression:t,workerUrl:n}=e;if(t&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;en&&on.log("Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new cn(n)}catch(t){en&&on.exception(t,"Failed to create compression worker")}}(n);if(e)return e}return en&&on.log("Using simple buffer"),new sn}function dn(){try{return"sessionStorage"in i&&!!i.sessionStorage}catch{return!1}}function pn(e){!function(){if(!dn())return;try{i.sessionStorage.removeItem(a)}catch{}}(),e.session=void 0}function hn(e){return void 0!==e&&Math.random()<e}function fn(e){if(dn())try{i.sessionStorage.setItem(a,JSON.stringify(e))}catch{}}function gn(e){const t=Date.now();return{id:e.id||r.uuid4(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function mn(e){let{sessionSampleRate:t,allowBuffering:n,stickySession:r=!1}=e,{previousSessionId:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=function(e,t){return hn(e)?"session":!!t&&"buffer"}(t,n),a=gn({sampled:i,previousSessionId:o});return r&&fn(a),a}function yn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function vn(e,t){let{maxReplayDuration:n,sessionIdleExpire:r,targetTime:o=Date.now()}=t;return yn(e.started,n,o)||yn(e.lastActivity,r,o)}function bn(e,t){let{sessionIdleExpire:n,maxReplayDuration:r}=t;return!!vn(e,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function wn(e,t){let{sessionIdleExpire:n,maxReplayDuration:r,previousSessionId:o}=e;const s=t.stickySession&&function(){if(!dn())return null;try{const e=i.sessionStorage.getItem(a);if(!e)return null;const t=JSON.parse(e);return en&&on.infoTick("Loading existing session"),gn(t)}catch{return null}}();return s?bn(s,{sessionIdleExpire:n,maxReplayDuration:r})?(en&&on.infoTick("Session in sessionStorage is expired, creating new one..."),mn(t,{previousSessionId:s.id})):s:(en&&on.infoTick("Creating new session"),mn(t,{previousSessionId:o}))}function Sn(e,t,n){return!!Bn(e,t)&&(_n(e,t,n),!0)}async function _n(e,t,n){const{eventBuffer:o}=e;if(!o||o.waitForCheckout&&!n)return null;const i="buffer"===e.recordingMode;try{n&&i&&o.clear(),n&&(o.hasCheckout=!0,o.waitForCheckout=!1);const r=function(e,t){try{if("function"===typeof t&&function(e){return e.type===Fe.Custom}(e))return t(e)}catch(n){return en&&on.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await o.addEvent(r)}catch(a){const t=a&&a instanceof an,n=t?"addEventSizeExceeded":"addEvent";if(t&&i)return o.clear(),o.waitForCheckout=!0,null;e.handleException(a),await e.stop({reason:n});const s=r.getClient();s&&s.recordDroppedEvent("internal_sdk_error","replay")}}function Bn(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Ct(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(en&&on.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function Cn(e){return!e.type}function En(e){return"transaction"===e.type}function xn(e){return"feedback"===e.type}function In(e){return(t,n)=>{if(!e.isEnabled()||!Cn(t)&&!En(t))return;const r=n?.statusCode;!r||r<200||r>=300||(En(t)?function(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"===typeof r&&!r(t))return;o.setTimeout(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(pr){e.handleException(pr)}})}(e,t))}}function Tn(e){return t=>{e.isEnabled()&&Cn(t)&&function(e,t){const n=t.exception?.values?.[0]?.value;if("string"!==typeof n)return;if(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){xt(e,Dt({category:"replay.hydrate-error",data:{url:r.getLocationHref()}}))}}(e,t)}}function kn(e){const t=r.getClient();t&&t.on("beforeAddBreadcrumb",t=>function(e,t){if(!e.isEnabled()||!Un(t))return;const n=function(e){if(!Un(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){const t=e.data?.arguments;if(!Array.isArray(t)||0===t.length)return Dt(e);let n=!1;const o=t.map(e=>{if(!e)return e;if("string"===typeof e)return e.length>u?(n=!0,`${e.slice(0,u)}\u2026`):e;if("object"===typeof e)try{const t=r.normalize(e,7);return JSON.stringify(t).length>u?(n=!0,`${JSON.stringify(t,null,2).slice(0,u)}\u2026`):t}catch{}return e});return Dt({...e,data:{...e.data,arguments:o,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return Dt(e)}(t);n&&xt(e,n)}(e,t))}function Un(e){return!!e.category}function Fn(){const e=r.getCurrentScope().getPropagationContext().dsc;e&&delete e.replay_id;const t=r.getActiveSpan();if(t){delete r.getDynamicSamplingContextFromSpan(t).replay_id}}function Nn(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!Cn(t)&&!En(t)&&!xn(t))return t;if(!e.checkAndHandleExpiredSession())return Fn(),t;if(xn(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:Fe.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1))}(e,t),t;if(function(e,t){return!(e.type||!e.exception?.values?.length)&&!!t.originalException?.__rrweb__}(t,n)&&!e.getOptions()._experiments.captureExceptions)return en&&on.log("Ignoring error from rrweb internals",t),null;const r=function(e,t){return"buffer"===e.recordingMode&&t.message!==s&&!(!t.exception||t.type)&&hn(e.getOptions().errorSampleRate)}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t},{id:"Replay"})}function Pn(e,t){return t.map(t=>{let{type:n,start:r,end:o,name:i,data:a}=t;const s=e.throttledAddEvent({type:Fe.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:a}}});return"string"===typeof s?Promise.resolve(null):s})}function Rn(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Pn(e,[n]),!1)))}}function Ln(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!en||!e.getOptions()._experiments.traceInternals)&&r.isSentryRequestUrl(t,r.getClient())}(e,t.name)||e.addUpdate(()=>(Pn(e,[t]),!0)))}function On(e){if(!e)return;const t=new TextEncoder;try{if("string"===typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=o.serializeFormData(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Dn(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Mn(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Qn(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:a,request:s,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:a,request:s,response:l}}}function jn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Hn(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:i}=function(e){if(!e||"string"!==typeof e)return{body:e};const t=e.length>c,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,c);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}(n);return r.body=o,i?.length&&(r._meta={warnings:i}),r}function zn(e,t){return Object.entries(e).reduce((n,r)=>{let[o,i]=r;const a=o.toLowerCase();return t.includes(a)&&e[o]&&(n[a]=i),n},{})}function Vn(e,t){const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(i.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return r.stringMatchesSomePattern(n,t)}async function Kn(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:a=r}=t,{url:s,method:l,status_code:A=0,request_body_size:c,response_body_size:u}=e.data,d=Vn(s,n.networkDetailAllowUrls)&&!Vn(s,n.networkDetailDenyUrls),p=d?function(e,t,n){let{networkCaptureBodies:r,networkRequestHeaders:i}=e;const a=t?function(e,t){if(1===e.length&&"string"!==typeof e[0])return Gn(e[0],t);if(2===e.length)return Gn(e[1],t);return{}}(t,i):{};if(!r)return Hn(a,n,void 0);const s=o.getFetchRequestArgBody(t),[l,A]=o.getBodyString(s,on),c=Hn(a,n,l);if(A)return Mn(c,A);return c}(n,t.input,c):jn(c),h=await async function(e,t,n,r){let{networkCaptureBodies:i,networkResponseHeaders:a}=t;if(!e&&void 0!==r)return jn(r);const s=n?Wn(n.headers,a):{};if(!n||!i&&void 0!==r)return Hn(s,r,void 0);const[l,A]=await async function(e){const t=function(e){try{return e.clone()}catch(t){en&&on.exception(t,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise((t,n)=>{const r=o.setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);(async function(e){return await e.text()})(e).then(e=>t(e),e=>n(e)).finally(()=>clearTimeout(r))})}(t);return[e]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(en&&on.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(en&&on.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(n),c=function(e,t){let{networkCaptureBodies:n,responseBodySize:r,captureDetails:o,headers:i}=t;try{const t=e?.length&&void 0===r?On(e):r;return o?Hn(i,t,n?e:void 0):jn(t)}catch(a){return en&&on.exception(a,"Failed to serialize response body"),Hn(i,r,void 0)}}(l,{networkCaptureBodies:i,responseBodySize:r,captureDetails:e,headers:s});if(A)return Mn(c,A);return c}(d,n,t.response,u);return{startTimestamp:i,endTimestamp:a,url:s,method:l,statusCode:A,request:p,response:h}}(e,t,n),i=Qn("resource.fetch",r);Ln(n.replay,i)}catch(r){en&&on.exception(r,"Failed to capture fetch breadcrumb")}}function Wn(e,t){const n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function Gn(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Wn(n,t):Array.isArray(n)?{}:zn(n,t):{}}async function $n(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:a=r,input:s,xhr:l}=t,{url:A,method:c,status_code:u=0,request_body_size:d,response_body_size:p}=e.data;if(!A)return null;if(!l||!Vn(A,n.networkDetailAllowUrls)||Vn(A,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:a,url:A,method:c,statusCode:u,request:jn(d),response:jn(p)}}const h=l[o.SENTRY_XHR_DATA_KEY],f=h?zn(h.request_headers,n.networkRequestHeaders):{},g=zn(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{const[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e},{})}(l),n.networkResponseHeaders),[m,y]=n.networkCaptureBodies?o.getBodyString(s,on):[void 0],[v,b]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return function(e,t){try{if("string"===typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return en&&on.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return en&&on.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(n){t.push(n)}return en&&on.warn("Failed to get xhr response body",...t),[void 0]}(l):[void 0],w=Hn(f,d,m),S=Hn(g,p,v);return{startTimestamp:i,endTimestamp:a,url:A,method:c,statusCode:u,request:y?Mn(w,y):w,response:b?Mn(S,b):S}}(e,t,n),i=Qn("resource.xhr",r);Ln(n.replay,i)}catch(r){en&&on.exception(r,"Failed to capture xhr breadcrumb")}}function qn(e,t){const{xhr:n,input:r}=t;if(!n)return;const o=On(r),i=n.getResponseHeader("content-length")?Dn(n.getResponseHeader("content-length")):function(e,t){try{return On("json"===t&&e&&"object"===typeof e?JSON.stringify(e):e)}catch{return}}(n.response,n.responseType);void 0!==o&&(e.data.request_body_size=o),void 0!==i&&(e.data.response_body_size=i)}function Yn(e){const t=r.getClient();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s}=e.getOptions(),l={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e?.xhr}(n)&&(qn(t,n),$n(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e?.response}(n)&&(!function(e,t){const{input:n,response:r}=t,i=On(n?o.getFetchRequestArgBody(n):void 0),a=r?Dn(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,n),Kn(t,n,e))}catch(r){en&&on.exception(r,"Error when enriching network breadcrumb")}}(l,e,t))}catch{}}function Jn(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}const Xn=r.GLOBAL_OBJ.navigator;function Zn(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(en&&on.warn("Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&Ot(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!Sn(e,n,o))return!0;if(!o)return!1;const t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;Sn(e,function(e){const t=e.getOptions();return{type:Fe.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),"buffer"===e.recordingMode&&t&&e.eventBuffer){const n=e.eventBuffer.getEarliestTimestamp();n&&(en&&on.log(`Updating session start time to earliest event in buffer to ${new Date(n)}`),t.started=n,e.getOptions().stickySession&&fn(t))}return t?.previousSessionId||"session"===e.recordingMode&&e.flush(),!0})}}async function er(e){let{recordingData:t,replayId:n,segmentId:o,eventContext:i,timestamp:a,session:l}=e;const A=function(e){let t,{recordingData:n,headers:r}=e;const o=`${JSON.stringify(r)}\n`;if("string"===typeof n)t=`${o}${n}`;else{const e=(new TextEncoder).encode(o);t=new Uint8Array(e.length+n.length),t.set(e),t.set(n,e.length)}return t}({recordingData:t,headers:{segment_id:o}}),{urls:c,errorIds:u,traceIds:d,initialTimestamp:p}=i,h=r.getClient(),f=r.getCurrentScope(),g=h?.getTransport(),m=h?.getDsn();if(!h||!g||!m||!l.sampled)return r.resolvedSyncPromise({});const y={type:"replay_event",replay_start_timestamp:p/1e3,timestamp:a/1e3,error_ids:u,trace_ids:d,urls:c,replay_id:n,segment_id:o,replay_type:l.sampled},v=await async function(e){let{client:t,scope:n,replayId:o,event:i}=e;const a={event_id:o,integrations:"object"!==typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit("preprocessEvent",i,a);const s=await r.prepareEvent(t.getOptions(),i,a,n,t,r.getIsolationScope());if(!s)return null;t.emit("postprocessEvent",s,a),s.platform=s.platform||"javascript";const l=t.getSdkMetadata(),{name:A,version:c}=l?.sdk||{};return s.sdk={...s.sdk,name:A||"sentry.javascript.unknown",version:c||"0.0.0"},s}({scope:f,client:h,replayId:n,event:y});if(!v)return h.recordDroppedEvent("event_processor","replay"),en&&on.log("An event processor returned `null`, will not send event."),r.resolvedSyncPromise({});delete v.sdkProcessingMetadata;const b=function(e,t,n,o){return r.createEnvelope(r.createEventEnvelopeHeaders(e,r.getSdkMetadataForEnvelopeHeader(e),o,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"===typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(v,A,m,h.getOptions().tunnel);let w;try{w=await g.send(b)}catch(pr){const t=new Error(s);try{t.cause=pr}catch{}throw t}if("number"===typeof w.statusCode&&(w.statusCode<200||w.statusCode>=300))throw new tr(w.statusCode);const S=r.updateRateLimits({},w);if(r.isRateLimited(S,"replay"))throw new nr(S);return w}class tr extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class nr extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3};const{recordingData:n,onError:i}=e;if(n.length)try{return await er(e),!0}catch(pr){if(pr instanceof tr||pr instanceof nr)throw pr;if(r.setContext("Replays",{_retryCount:t.count}),i&&i(pr),t.count>=3){const e=new Error(`${s} - max retries exceeded`);try{e.cause=pr}catch{}throw e}return t.interval*=++t.count,new Promise((r,i)=>{o.setTimeout(async()=>{try{await rr(e,t),r(!0)}catch(n){i(n)}},t.interval)})}}const or="__THROTTLED";function ir(e,t,n){const r=new Map;let o=!1;return function(){const i=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach((e,n)=>{n<t&&r.delete(n)})})(i),[...r.values()].reduce((e,t)=>e+t,0)>=t){const e=o;return o=!0,e?"__SKIPPED":or}o=!1;const a=r.get(i)||0;return r.set(i,a+1),e(...arguments)}}class ar{constructor(e){let{options:t,recordingOptions:n}=e;this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=function(e,t,n){return r.debounce(e,t,{...n,setTimeoutImpl:o.setTimeout})}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=ir((e,t)=>function(e,t,n){return Bn(e,t)?_n(e,t,n):Promise.resolve(null)}(this,e,t),300,5);const{slowClickTimeout:a,slowClickIgnoreSelectors:s}=this.getOptions(),l=a?{threshold:Math.min(3e3,a),timeout:a,scrollTimeout:300,ignoreSelector:s?s.join(","):""}:void 0;if(l&&(this.clickDetector=new Pt(this,l)),en){const e=t._experiments;on.setConfig({captureExceptions:!!e.captureExceptions,traceInternals:!!e.traceInternals})}this._handleVisibilityChange=()=>{"visible"===i.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const e=Dt({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{const e=Dt({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{Vt(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(e){en&&on.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",en&&on.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):en&&on.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(en&&on.log("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(en&&on.log("Buffering is in progress, call `flush()` to save the replay"));en&&on.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=wn({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(en&&on.log("Buffering is in progress, call `flush()` to save the replay"));en&&on.infoTick("Starting replay in buffer mode");const e=wn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=St({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Zn(this),.../iPhone|iPad|iPod/i.test(Xn?.userAgent??"")||/Macintosh/i.test(Xn?.userAgent??"")&&Xn?.maxTouchPoints&&Xn?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(pr){this.handleException(pr)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(pr){return this.handleException(pr),!1}}async stop(){let{forceFlush:e=!1,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{en&&on.log("Stopping Replay"+(t?` triggered by ${t}`:"")),Fn(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,pn(this)}catch(pr){this.handleException(pr)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),en&&on.log("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),en&&on.log("Resuming replay"))}async sendBufferedReplayOrFlush(){let{continueRecording:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();en&&on.log("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&yn(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${i.location.pathname}${i.location.hash}${i.location.search}`,t=`${i.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===or){const e=Dt({category:"replay.throttled"});this.addUpdate(()=>!Sn(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){const e=this.lastActiveSpan||r.getActiveSpan(),t=e&&r.getRootSpan(e),n=(t&&r.spanToJSON(t).data||{})[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(t&&n&&["route","custom"].includes(n))return r.spanToJSON(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=un({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=wn({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!bn(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{i.document.addEventListener("visibilitychange",this._handleVisibilityChange),i.addEventListener("blur",this._handleWindowBlur),i.addEventListener("focus",this._handleWindowFocus),i.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=r.getClient();o.addClickKeypressInstrumentationHandler(Ht(e)),o.addHistoryInstrumentationHandler(Rn(e)),kn(e),Yn(e);const n=Nn(e);r.addEventProcessor(n),t&&(t.on("beforeSendEvent",Tn(e)),t.on("afterSendEvent",In(e)),t.on("createDsc",t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)}),t.on("spanStart",t=>{e.lastActiveSpan=t}),t.on("spanEnd",t=>{e.lastActiveSpan=t}),t.on("beforeSendFeedback",async(t,n)=>{const r=e.getSessionId();n?.includeReplay&&e.isEnabled()&&r&&t.contexts?.feedback&&("api"===t.contexts.feedback.source&&await e.sendBufferedReplayOrFlush(),t.contexts.feedback.replay_id=r)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}(this),this._hasInitializedCoreListeners=!0)}catch(pr){this.handleException(pr)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){let{entries:n}=e;n.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(e=>{r.push(o.addPerformanceInstrumentationHandler(e,n))}),r.push(o.addLcpInstrumentationHandler(Wt(qt,e)),o.addClsInstrumentationHandler(Wt(Jt,e)),o.addInpInstrumentationHandler(Wt(Xt,e))),()=>{r.forEach(e=>e())}}(this)}_removeListeners(){try{i.document.removeEventListener("visibilitychange",this._handleVisibilityChange),i.removeEventListener("blur",this._handleWindowBlur),i.removeEventListener("focus",this._handleWindowFocus),i.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(pr){this.handleException(pr)}}_doChangeToBackgroundTasks(e){if(!this.session)return;vn(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):en&&on.log("Document has become active, but session has expired")}_updateUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}_updateSessionActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Fe.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=(t=this.performanceEntries,t.map(Gt).filter(Boolean)).concat(this.replayPerformanceEntries);var t;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter(e=>e.start>=t)}return Promise.all(Pn(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer?.hasEvents&&(await async function(e){try{return Promise.all(Pn(e,[Jn(i.performance.memory)]))}catch{return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await rr({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(pr){this.handleException(pr),this.stop({reason:"sendReplay"});const t=r.getClient();if(t){const n=pr instanceof nr?"ratelimit_backoff":"send_error";t.recordDroppedEvent(n,"replay")}}}else en&&on.error("No session or eventBuffer found to flush.")}async _flush(){let{force:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(en&&on.error("Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return en&&on.log(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());const i=this.eventBuffer;i&&0===this.session.segmentId&&!i.hasCheckout&&en&&on.log("Flushing initial segment without checkout.");const a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(pr){this.handleException(pr)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&fn(this.session)}_onMutationHandler(e){const{ignoreMutations:t}=this._options._experiments;if(t?.length&&e.some(e=>{const n=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}(e.target),r=t.join(",");return n?.matches(r)}))return!1;const n=e.length,r=this._options.mutationLimit,o=r&&n>r;if(n>this._options.mutationBreadcrumbLimit||o){const e=Dt({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(e)}return!o||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function sr(e,t){return[...e,...t].join(",")}const lr='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Ar=["content-length","content-type","accept"];let cr=!1;class ur{constructor(){let{flushMinDelay:e=l,flushMaxDelay:t=A,minReplayDuration:n=p,maxReplayDuration:o=h,stickySession:i=!0,useCompression:a=!0,workerUrl:s,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:g=750,mutationLimit:m=1e4,slowClickTimeout:y=7e3,slowClickIgnoreSelectors:v=[],networkDetailAllowUrls:b=[],networkDetailDenyUrls:w=[],networkCaptureBodies:S=!0,networkRequestHeaders:_=[],networkResponseHeaders:B=[],mask:C=[],maskAttributes:E=["title","placeholder","aria-label"],unmask:x=[],block:I=[],unblock:T=[],ignore:k=[],maskFn:U,beforeAddRecordingEvent:F,beforeErrorSampling:N,onError:P}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="Replay";const R=function(e){let{mask:t,unmask:n,block:r,unblock:o,ignore:i}=e;return{maskTextSelector:sr(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:sr(n,[]),blockSelector:sr(r,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:sr(o,[]),ignoreSelector:sr(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:C,unmask:x,block:I,unblock:T,ignore:k});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:U,maskInputFn:U,maskAttributeFn:(e,t,n)=>function(e){let{el:t,key:n,maskAttributes:r,maskAllText:o,privacyOptions:i,value:a}=e;return o?i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?a:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a:a}({maskAttributes:E,maskAllText:u,privacyOptions:R,key:e,value:t,el:n}),...R,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch{}},recordCrossOriginIframes:Boolean(c.recordCrossOriginIframes)},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(o,h),stickySession:i,useCompression:a,workerUrl:s,blockAllMedia:f,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:g,mutationLimit:m,slowClickTimeout:y,slowClickIgnoreSelectors:v,networkDetailAllowUrls:b,networkDetailDenyUrls:w,networkCaptureBodies:S,networkRequestHeaders:dr(_),networkResponseHeaders:dr(B),beforeAddRecordingEvent:F,beforeErrorSampling:N,onError:P,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${lr}`:lr),this._isInitialized&&r.isBrowser())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return cr}set _isInitialized(e){cr=e}afterAllSetup(e){r.isBrowser()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=function(e,t){const n=t.getOptions(),o={sessionSampleRate:0,errorSampleRate:0,...e},i=r.parseSampleRate(n.replaysSessionSampleRate),a=r.parseSampleRate(n.replaysOnErrorSampleRate);null==i&&null==a&&r.consoleSandbox(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")});null!=i&&(o.sessionSampleRate=i);null!=a&&(o.errorSampleRate=a);return o}(this._initialOptions,e);this._replay=new ar({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}}function dr(e){return[...Ar,...e.map(e=>e.toLowerCase())]}t.getReplay=function(){const e=r.getClient();return e?.getIntegrationByName("Replay")},t.replayIntegration=e=>new ur(e)},509:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425);function o(e,t,n,o){const i={filename:e,function:"<anonymous>"===t?r.UNKNOWN_FUNCTION:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==o&&(i.colno=o),i}const i=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,a=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=/at (.+?) ?\(data:(.+?),/,A=[30,e=>{const t=e.match(l);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=i.exec(e);if(n){const[,e,t,i]=n;return o(e,r.UNKNOWN_FUNCTION,+t,+i)}const A=a.exec(e);if(A){if(A[2]&&0===A[2].indexOf("eval")){const e=s.exec(A[2]);e&&(A[2]=e[1],A[3]=e[2],A[4]=e[3])}const[e,t]=w(A[1]||r.UNKNOWN_FUNCTION,A[2]);return o(t,e,A[3]?+A[3]:void 0,A[4]?+A[4]:void 0)}}],c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=[50,e=>{const t=c.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=u.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||r.UNKNOWN_FUNCTION;return[n,e]=w(n,e),o(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],p=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h=[40,e=>{const t=p.exec(e);return t?o(t[2],t[1]||r.UNKNOWN_FUNCTION,+t[3],t[4]?+t[4]:void 0):void 0}],f=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,g=[10,e=>{const t=f.exec(e);return t?o(t[2],t[3]||r.UNKNOWN_FUNCTION,+t[1]):void 0}],m=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,y=[20,e=>{const t=m.exec(e);return t?o(t[5],t[3]||t[4]||r.UNKNOWN_FUNCTION,+t[1],+t[2]):void 0}],v=[A,d],b=r.createStackParser(...v),w=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return n||o?[-1!==e.indexOf("@")?e.split("@")[0]:r.UNKNOWN_FUNCTION,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};t.chromeStackLineParser=A,t.defaultStackLineParsers=v,t.defaultStackParser=b,t.geckoStackLineParser=d,t.opera10StackLineParser=g,t.opera11StackLineParser=y,t.winjsStackLineParser=h},536:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(354);t.reactRouterV7BrowserTracingIntegration=function(e){return r.createReactRouterV6CompatibleTracingIntegration(e,"7")},t.withSentryReactRouterV7Routing=function(e){return r.createV6CompatibleWithSentryReactRouterRouting(e,"7")},t.wrapCreateBrowserRouterV7=function(e){return r.createV6CompatibleWrapCreateBrowserRouter(e,"7")},t.wrapCreateMemoryRouterV7=function(e){return r.createV6CompatibleWrapCreateMemoryRouter(e,"7")},t.wrapUseRoutesV7=function(e){return r.createV6CompatibleWrapUseRoutes(e,"7")}},539:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4283),o=n(3447),i=n(5866),a=n(3971),s=n(3348),l=n(5613),A=n(4447),c=n(6624),u=n(2729),d=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],p=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],h={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},f=["select","insert","upsert","update","delete"];function g(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function m(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function v(e,t){if(""===t||"*"===t)return"select(*)";if("select"===e)return`select(${t})`;if("or"===e||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let o;return o=n?.startsWith("fts")?"textSearch":n?.startsWith("plfts")?"textSearch[plain]":n?.startsWith("phfts")?"textSearch[phrase]":n?.startsWith("wfts")?"textSearch[websearch]":n&&h[n]||"filter",`${o}(${e}, ${r.join(".")})`}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Proxy(e,{apply:(n,r,o)=>u.startSpan({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.db.supabase",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},e=>Reflect.apply(n,r,o).then(t=>(t&&"object"===typeof t&&"error"in t&&t.error?(e.setStatus({code:c.SPAN_STATUS_ERROR}),i.captureException(t.error,{mechanism:{handled:!1}})):e.setStatus({code:c.SPAN_STATUS_OK}),e.end(),t)).catch(t=>{throw e.setStatus({code:c.SPAN_STATUS_ERROR}),e.end(),i.captureException(t,{mechanism:{handled:!1}}),t}).then(...o))})}function w(e){m(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(e,t,n){const r=Reflect.apply(e,t,n);return function(e){for(const t of f)m(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(e,n,r){const i=Reflect.apply(e,n,r),a=i.constructor;return o.DEBUG_BUILD&&l.debug.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),S(a),i}}),g(e.prototype[t]))}(r.constructor),r}}),g(e.prototype.from))}function S(e){m(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(e,t,n){const o=f,a=t,l=y(a.method,a.headers);if(!o.includes(l))return Reflect.apply(e,t,n);if(!a?.url?.pathname||"string"!==typeof a.url.pathname)return Reflect.apply(e,t,n);const d=a.url.pathname.split("/"),p=d.length>0?d[d.length-1]:"",h=[];for(const[r,i]of a.url.searchParams.entries())h.push(v(r,i));const g=Object.create(null);if(A.isPlainObject(a.body))for(const[r,i]of Object.entries(a.body))g[r]=i;const m=`${"select"===l?"":`${l}${g?"(...) ":""}`}${h.join(" ")} from(${p})`,b={"db.table":p,"db.schema":a.schema,"db.url":a.url.origin,"db.sdk":a.headers["X-Client-Info"],"db.system":"postgresql","db.operation":l,[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.db.supabase",[s.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"db"};return h.length&&(b["db.query"]=h),Object.keys(g).length&&(b["db.body"]=g),u.startSpan({name:m,attributes:b},o=>Reflect.apply(e,t,[]).then(e=>{if(o&&(e&&"object"===typeof e&&"status"in e&&c.setHttpStatus(o,e.status||500),o.end()),e.error){const t=new Error(e.error.message);e.error.code&&(t.code=e.error.code),e.error.details&&(t.details=e.error.details);const n={};h.length&&(n.query=h),Object.keys(g).length&&(n.body=g),i.captureException(t,{contexts:{supabase:n}})}const t={type:"supabase",category:`db.${l}`,message:m},n={};return h.length&&(n.query=h),Object.keys(g).length&&(n.body=g),Object.keys(n).length&&(t.data=n),r.addBreadcrumb(t),e},e=>{throw o&&(c.setHttpStatus(o,500),o.end()),e}).then(...n))}}),g(e.prototype.then))}const _=e=>{if(!e)return void(o.DEBUG_BUILD&&l.debug.warn("Supabase integration was not installed because no Supabase client was provided."));w(e.constructor===Function?e:e.constructor),function(e){const t=e.auth;if(t&&!m(e.auth)){for(const n of d){const r=t[n];r&&"function"===typeof e.auth[n]&&(e.auth[n]=b(r))}for(const n of p){const r=t.admin[n];r&&"function"===typeof e.auth.admin[n]&&(e.auth.admin[n]=b(r,!0))}g(e.auth)}}(e)},B=a.defineIntegration(e=>{return t=e.supabaseClient,{setupOnce(){_(t)},name:"Supabase"};var t});t.DB_OPERATIONS_TO_INSTRUMENT=f,t.FILTER_MAPPINGS=h,t.extractOperation=y,t.instrumentSupabaseClient=_,t.supabaseIntegration=B,t.translateFiltersIntoMethods=v},579:(e,t,n)=>{"use strict";e.exports=n(1153)},653:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.CLIENT_ADDRESS_ATTRIBUTE="client.address",t.CLIENT_PORT_ATTRIBUTE="client.port",t.MCP_FUNCTION_ORIGIN_VALUE="auto.function.mcp_server",t.MCP_LOGGING_DATA_TYPE_ATTRIBUTE="mcp.logging.data_type",t.MCP_LOGGING_LEVEL_ATTRIBUTE="mcp.logging.level",t.MCP_LOGGING_LOGGER_ATTRIBUTE="mcp.logging.logger",t.MCP_LOGGING_MESSAGE_ATTRIBUTE="mcp.logging.message",t.MCP_METHOD_NAME_ATTRIBUTE="mcp.method.name",t.MCP_NOTIFICATION_CLIENT_TO_SERVER_OP_VALUE="mcp.notification.client_to_server",t.MCP_NOTIFICATION_ORIGIN_VALUE="auto.mcp.notification",t.MCP_NOTIFICATION_SERVER_TO_CLIENT_OP_VALUE="mcp.notification.server_to_client",t.MCP_PROMPT_NAME_ATTRIBUTE="mcp.prompt.name",t.MCP_PROTOCOL_VERSION_ATTRIBUTE="mcp.protocol.version",t.MCP_REQUEST_ARGUMENT="mcp.request.argument",t.MCP_REQUEST_ID_ATTRIBUTE="mcp.request.id",t.MCP_RESOURCE_URI_ATTRIBUTE="mcp.resource.uri",t.MCP_ROUTE_SOURCE_VALUE="route",t.MCP_SERVER_NAME_ATTRIBUTE="mcp.server.name",t.MCP_SERVER_OP_VALUE="mcp.server",t.MCP_SERVER_TITLE_ATTRIBUTE="mcp.server.title",t.MCP_SERVER_VERSION_ATTRIBUTE="mcp.server.version",t.MCP_SESSION_ID_ATTRIBUTE="mcp.session.id",t.MCP_TOOL_NAME_ATTRIBUTE="mcp.tool.name",t.MCP_TOOL_RESULT_CONTENT_ATTRIBUTE="mcp.tool.result.content",t.MCP_TOOL_RESULT_CONTENT_COUNT_ATTRIBUTE="mcp.tool.result.content_count",t.MCP_TOOL_RESULT_IS_ERROR_ATTRIBUTE="mcp.tool.result.is_error",t.MCP_TRANSPORT_ATTRIBUTE="mcp.transport",t.NETWORK_PROTOCOL_VERSION_ATTRIBUTE="network.protocol.version",t.NETWORK_TRANSPORT_ATTRIBUTE="network.transport"},658:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(1789),i=r.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,i,a){const s=a.getOptions();r.applyAggregateErrorsToEvent(o.exceptionFromError,s.stackParser,n,t,e,i)}}});t.linkedErrorsIntegration=i},676:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(4575),i=n(5613),a=n(4447),s=n(7778);function l(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{r.DEBUG_BUILD&&i.debug.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function A(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,l(e,"__sentry_original__",t)}catch{}}function c(e){if(a.isError(e))return{message:e.message,name:e.name,stack:e.stack,...d(e)};if(a.isEvent(e)){const t={type:e.type,target:u(e.target),currentTarget:u(e.currentTarget),...d(e)};return"undefined"!==typeof CustomEvent&&a.isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}return e}function u(e){try{return a.isElement(e)?o.htmlTreeAsString(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function d(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function p(e,t){if(null===e||"object"!==typeof e)return e;const n=t.get(e);if(void 0!==n)return n;if(Array.isArray(e)){const n=[];return t.set(e,n),e.forEach(e=>{n.push(p(e,t))}),n}if(function(e){const t=e.constructor;return t===Object||void 0===t}(e)){const n={};t.set(e,n);return Object.keys(e).forEach(r=>{const o=e[r];void 0!==o&&(n[r]=p(o,t))}),n}return e}t.addNonEnumerableProperty=l,t.convertToPlainObject=c,t.dropUndefinedKeys=function(e){return p(e,new Map)},t.extractExceptionKeysForMessage=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const n=Object.keys(c(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return s.truncate(r,t);for(let o=n.length;o>0;o--){const e=n.slice(0,o).join(", ");if(!(e.length>t))return o===n.length?e:s.truncate(e,t)}return""},t.fill=function(e,t,n){if(!(t in e))return;const o=e[t];if("function"!==typeof o)return;const a=n(o);"function"===typeof a&&A(a,o);try{e[t]=a}catch{r.DEBUG_BUILD&&i.debug.log(`Failed to replace method "${t}" in object`,e)}},t.getOriginalFunction=function(e){return e.__sentry_original__},t.markFunctionWrapped=A,t.objectify=function(e){let t;switch(!0){case void 0==e:t=new String(e);break;case"symbol"===typeof e||"bigint"===typeof e:t=Object(e);break;case a.isPrimitive(e):t=new e.constructor(e);break;default:t=e}return t}},687:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.runOnce=e=>{let t=!1;return()=>{t||(e(),t=!0)}}},693:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399),o=n(5230),i=n(8395),a=n(9221);t.initMetric=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=a.getNavigationEntry();let s="navigate";n&&(r.WINDOW.document?.prerendering||i.getActivationStart()>0?s="prerender":r.WINDOW.document?.wasDiscarded?s="restore":n.type&&(s=n.type.replace(/_/g,"-")));return{name:e,value:t,rating:"good",delta:0,entries:[],id:o.generateUniqueID(),navigationType:s}}},778:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(1817),i={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},a=o.WINDOW;t.lazyLoadIntegration=async function(e,t){const n=i[e],s=a.Sentry=a.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const l=s[e];if("function"===typeof l&&!("_isShim"in l))return l;const A=function(e){const t=r.getClient(),n=t?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${r.SDK_VERSION}/${e}.min.js`,n).toString()}(n),c=o.WINDOW.document.createElement("script");c.src=A,c.crossOrigin="anonymous",c.referrerPolicy="strict-origin",t&&c.setAttribute("nonce",t);const u=new Promise((e,t)=>{c.addEventListener("load",()=>e()),c.addEventListener("error",t)}),d=o.WINDOW.document.currentScript,p=o.WINDOW.document.body||o.WINDOW.document.head||d?.parentElement;if(!p)throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);p.appendChild(c);try{await u}catch{throw new Error(`Error when loading integration: ${e}`)}const h=s[e];if("function"!==typeof h)throw new Error(`Could not load integration: ${e}`);return h}},780:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7778);function o(e){return"string"===typeof e||e instanceof RegExp}t.reparentChildSpans=function(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const o of e)o.parent_span_id===r&&(o.parent_span_id=n)},t.shouldIgnoreSpan=function(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(o(n)){if(r.isMatchingPattern(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const t=!n.name||r.isMatchingPattern(e.description,n.name),i=!n.op||e.op&&r.isMatchingPattern(e.op,n.op);if(t&&i)return!0}return!1}},844:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447),o=n(7287),i=n(9288),a=n(676);function s(e,t){return e(t.stack||"",1)}function l(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=s(e,t);return r.length&&(n.stacktrace={frames:r}),n}function A(e){if("name"in e&&"string"===typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"===typeof e.message&&(t+=` with message '${e.message}'`),t}if("message"in e&&"string"===typeof e.message)return e.message;const t=a.extractExceptionKeysForMessage(e);if(r.isErrorEvent(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;const n=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e);return`${n&&"Object"!==n?`'${n}'`:"Object"} captured as exception with keys: ${t}`}function c(e,t,n,o){if(r.isError(n))return[n,void 0];if(t.synthetic=!0,r.isPlainObject(n)){const t=e?.getOptions().normalizeDepth,r={__serialized__:i.normalizeToSize(n,t)},a=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(n);if(a)return[a,r];const s=A(n),l=o?.syntheticException||new Error(s);return l.message=s,[l,r]}const a=o?.syntheticException||new Error(n);return a.message=`${n}`,[a,void 0]}t.eventFromMessage=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const l={event_id:i?.event_id,level:n};if(a&&i?.syntheticException){const n=s(e,i.syntheticException);n.length&&(l.exception={values:[{value:t,stacktrace:{frames:n}}]},o.addExceptionMechanism(l,{synthetic:!0}))}if(r.isParameterizedString(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return l.logentry={message:e,params:n},l}return l.message=t,l},t.eventFromUnknownInput=function(e,t,n,r){const i=r?.data&&r.data.mechanism||{handled:!0,type:"generic"},[a,s]=c(e,i,n,r),A={exception:{values:[l(t,a)]}};return s&&(A.extra=s),o.addExceptionTypeValue(A,void 0,void 0),o.addExceptionMechanism(A,i),{...A,event_id:r?.event_id}},t.exceptionFromError=l,t.parseStackFrames=s},883:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=r.GLOBAL_OBJ,i=o.document,a=o.navigator,s="Report a Bug",l="Cancel",A="Send Bug Report",c="Confirm",u="Report a Bug",d="your.email@example.org",p="Email",h="What's the bug? What did you expect?",f="Description",g="Your Name",m="Name",y="Thank you for your report!",v="(required)",b="Add a screenshot",w="Remove screenshot",S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeReplay:!0};if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=r.getClient();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&r.getCurrentScope().setTags(e.tags);const o=r.captureFeedback({source:"api",url:r.getLocationHref(),...e},t);return new Promise((e,t)=>{const r=setTimeout(()=>t("Unable to determine if Feedback was correctly sent."),3e4),i=n.on("afterSendEvent",(n,a)=>{if(n.event_id===o)return clearTimeout(r),i(),a?.statusCode&&a.statusCode>=200&&a.statusCode<300?e(o):t(403===a?.statusCode?"Unable to send feedback. This could be because this domain is not in your list of allowed domains.":"Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},_="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function B(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function C(e,t){return Object.entries(t).forEach(t=>{let[n,r]=t;e.setAttributeNS(null,n,r)}),e}function E(e){let{triggerLabel:t,triggerAriaLabel:n,shadow:r,styleNonce:a}=e;const l=i.createElement("button");if(l.type="button",l.className="widget__actor",l.ariaHidden="false",l.ariaLabel=n||t||s,l.appendChild(function(){const e=e=>o.document.createElementNS("http://www.w3.org/2000/svg",e),t=C(e("svg"),{width:"20",height:"20",viewBox:"0 0 20 20",fill:"var(--actor-color, var(--foreground))"}),n=C(e("g"),{clipPath:"url(#clip0_57_80)"}),r=C(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const i=e("defs"),a=C(e("clipPath"),{id:"clip0_57_80"}),s=C(e("rect"),{width:"20",height:"20",fill:"white"});return a.appendChild(s),i.appendChild(a),t.appendChild(i).appendChild(a).appendChild(s),t}()),t){const e=i.createElement("span");e.appendChild(i.createTextNode(t)),l.appendChild(e)}const A=function(e){const t=i.createElement("style");return t.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',e&&t.setAttribute("nonce",e),t}(a);return{el:l,appendToDom(){r.appendChild(A),r.appendChild(l)},removeFromDom(){l.remove(),A.remove()},show(){l.ariaHidden="false"},hide(){l.ariaHidden="true"}}}const x="rgba(88, 74, 192, 1)",I={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:x,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},T={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:x,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function k(e){return`\n  --foreground: ${e.foreground};\n  --background: ${e.background};\n  --accent-foreground: ${e.accentForeground};\n  --accent-background: ${e.accentBackground};\n  --success-color: ${e.successColor};\n  --error-color: ${e.errorColor};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n  --outline: ${e.outline};\n  --interactive-filter: ${e.interactiveFilter};\n  `}var U,F,N,P,R,L,O,D={},M=[],Q=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,j=Array.isArray;function H(e,t){for(var n in t)e[n]=t[n];return e}function z(e){var t=e.parentNode;t&&t.removeChild(e)}function V(e,t,n){var r,o,i,a={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?U.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return K(e,a,r,o,null)}function K(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++N:o,__i:-1,__u:0};return null==o&&null!=F.vnode&&F.vnode(i),i}function W(e){return e.children}function G(e,t){this.props=e,this.context=t}function $(e,t){if(null==t)return e.__?$(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?$(e):null}function q(e,t,n){var r,o=e.__v,i=o.__e,a=e.__P;if(a)return(r=H({},o)).__v=o.__v+1,F.vnode&&F.vnode(r),ae(a,r,o,e.__n,void 0!==a.ownerSVGElement,32&o.__u?[i]:null,t,null==i?$(o):i,!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Y(r),r}function Y(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Y(e)}}function J(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!X.__r++||R!==F.debounceRendering)&&((R=F.debounceRendering)||L)(X)}function X(){var e,t,n,r=[],o=[];for(P.sort(O);e=P.shift();)e.__d&&(n=P.length,t=q(e,r,o)||t,0===n||P.length>n?(se(r,t,o),o.length=r.length=0,t=void 0,P.sort(O)):t&&F.__c&&F.__c(t,M));t&&se(r,t,o),X.__r=0}function Z(e,t,n,r,o,i,a,s,l,A,c){var u,d,p,h,f,g=r&&r.__k||M,m=t.length;for(n.__d=l,function(e,t,n){var r,o,i,a,s,l=t.length,A=n.length,c=A,u=0;for(e.__k=[],r=0;r<l;r++)null!=(o=e.__k[r]=null==(o=t[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?K(null,o,null,null,o):j(o)?K(W,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?K(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=e,o.__b=e.__b+1,s=te(o,n,a=r+u,c),o.__i=s,i=null,-1!==s&&(c--,(i=n[s])&&(i.__u|=131072)),null==i||null===i.__v?(-1==s&&u--,"function"!=typeof o.type&&(o.__u|=65536)):s!==a&&(s===a+1?u++:s>a?c>l-a?u+=s-a:u--:u=s<a&&s==a-1?s-a:0,s!==r+u&&(o.__u|=65536))):(i=n[r])&&null==i.key&&i.__e&&(i.__e==e.__d&&(e.__d=$(i)),ce(i,i,!1),n[r]=null,c--);if(c)for(r=0;r<A;r++)null!=(i=n[r])&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=$(i)),ce(i,i))}(n,t,g),l=n.__d,u=0;u<m;u++)null!=(p=n.__k[u])&&"boolean"!=typeof p&&"function"!=typeof p&&(d=-1===p.__i?D:g[p.__i]||D,p.__i=u,ae(e,p,d,o,i,a,s,l,A,c),h=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&Ae(d.ref,null,p),c.push(p.ref,p.__c||h,p)),null==f&&null!=h&&(f=h),65536&p.__u||d.__k===p.__k?l=ee(p,l,e):"function"==typeof p.type&&void 0!==p.__d?l=p.__d:h&&(l=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=f}function ee(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=ee(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function te(e,t,n,r){var o=e.key,i=e.type,a=n-1,s=n+1,l=t[n];if(null===l||l&&o==l.key&&i===l.type)return n;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;a>=0||s<t.length;){if(a>=0){if((l=t[a])&&0==(131072&l.__u)&&o==l.key&&i===l.type)return a;a--}if(s<t.length){if((l=t[s])&&0==(131072&l.__u)&&o==l.key&&i===l.type)return s;s++}}return-1}function ne(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Q.test(t)?n:n+"px"}function re(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ne(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ne(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?ie:oe,i)):e.removeEventListener(t,i?ie:oe,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function oe(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(F.event?F.event(e):e)}}function ie(e){if(this.l)return this.l[e.type+!0](F.event?F.event(e):e)}function ae(e,t,n,r,o,i,a,s,l,A){var c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),i=[s=t.__e=n.__e]),(c=F.__b)&&c(t);e:if("function"==typeof C)try{if(m=t.props,y=(c=C.contextType)&&r[c.__c],v=c?y?y.props.value:c.__:r,n.__c?g=(u=t.__c=n.__c).__=u.__E:("prototype"in C&&C.prototype.render?t.__c=u=new C(m,v):(t.__c=u=new G(m,v),u.constructor=C,u.render=ue),y&&y.sub(u),u.props=m,u.state||(u.state={}),u.context=v,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=C.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=H({},u.__s)),H(u.__s,C.getDerivedStateFromProps(m,u.__s))),p=u.props,h=u.state,u.__v=t,d)null==C.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==C.getDerivedStateFromProps&&m!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(m,v),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(m,u.__s,v)||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=m,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[],u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(m,u.__s,v),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(p,h,f)})}if(u.context=v,u.props=m,u.__P=e,u.__e=!1,w=F.__r,S=0,"prototype"in C&&C.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(t),c=u.render(u.props,u.state,u.context),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[]}else do{u.__d=!1,w&&w(t),c=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++S<25);u.state=u.__s,null!=u.getChildContext&&(r=H(H({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(p,h)),Z(e,j(B=null!=c&&c.type===W&&null==c.key?c.props.children:c)?B:[B],t,n,r,o,i,a,s,l,A),u.base=t.__e,t.__u&=-161,u.__h.length&&a.push(u),g&&(u.__E=u.__=null)}catch(e){t.__v=null,l||null!=i?(t.__e=s,t.__u|=l?160:32,i[i.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),F.__e(e,t,n)}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=le(n.__e,t,n,r,o,i,a,l,A);(c=F.diffed)&&c(t)}function se(e,t,n){for(var r=0;r<n.length;r++)Ae(n[r],n[++r],n[++r]);F.__c&&F.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){F.__e(e,t.__v)}})}function le(e,t,n,r,o,i,a,s,l){var A,c,u,d,p,h,f,g=n.props,m=t.props,y=t.type;if("svg"===y&&(o=!0),null!=i)for(A=0;A<i.length;A++)if((p=i[A])&&"setAttribute"in p==!!y&&(y?p.localName===y:3===p.nodeType)){e=p,i[A]=null;break}if(null==e){if(null===y)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,m.is&&m),i=null,s=!1}if(null===y)g===m||s&&e.data===m||(e.data=m);else{if(i=i&&U.call(e.childNodes),g=n.props||D,!s&&null!=i)for(g={},A=0;A<e.attributes.length;A++)g[(p=e.attributes[A]).name]=p.value;for(A in g)p=g[A],"children"==A||("dangerouslySetInnerHTML"==A?u=p:"key"===A||A in m||re(e,A,null,p,o));for(A in m)p=m[A],"children"==A?d=p:"dangerouslySetInnerHTML"==A?c=p:"value"==A?h=p:"checked"==A?f=p:"key"===A||s&&"function"!=typeof p||g[A]===p||re(e,A,p,g[A],o);if(c)s||u&&(c.__html===u.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(u&&(e.innerHTML=""),Z(e,j(d)?d:[d],t,n,r,o&&"foreignObject"!==y,i,a,i?i[0]:n.__k&&$(n,0),s,l),null!=i)for(A=i.length;A--;)null!=i[A]&&z(i[A]);s||(A="value",void 0!==h&&(h!==e[A]||"progress"===y&&!h||"option"===y&&h!==g[A])&&re(e,A,h,g[A],!1),A="checked",void 0!==f&&f!==e[A]&&re(e,A,f,g[A],!1))}return e}function Ae(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){F.__e(e,n)}}function ce(e,t,n){var r,o;if(F.unmount&&F.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ae(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){F.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&ce(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||z(e.__e),e.__=e.__e=e.__d=void 0}function ue(e,t,n){return this.constructor(e,n)}U=M.slice,F={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},N=0,G.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=H({},this.state),"function"==typeof e&&(e=e(H({},n),this.props)),e&&H(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),J(this))},G.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),J(this))},G.prototype.render=W,P=[],L="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,O=function(e,t){return e.__v.__b-t.__v.__b},X.__r=0;var de,pe,he,fe,ge=0,me=[],ye=[],ve=F,be=ve.__b,we=ve.__r,Se=ve.diffed,_e=ve.__c,Be=ve.unmount,Ce=ve.__;function Ee(e,t){ve.__h&&ve.__h(pe,e,ge||t),ge=0;var n=pe.__H||(pe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ye}),n.__[e]}function xe(e){return ge=1,Ie(De,e)}function Ie(e,t,n){var r=Ee(de++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):De(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=pe,!pe.u)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!i||i.call(this,e,t,n);var a=!1;return o.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}}),!(!a&&r.__c.props===e)&&(!i||i.call(this,e,t,n))};pe.u=!0;var i=pe.shouldComponentUpdate,a=pe.componentWillUpdate;pe.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}a&&a.call(this,e,t,n)},pe.shouldComponentUpdate=o}return r.__N||r.__}function Te(e,t){var n=Ee(de++,4);!ve.__s&&Oe(n.__H,t)&&(n.__=e,n.i=t,pe.__h.push(n))}function ke(e,t){var n=Ee(de++,7);return Oe(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ue(e,t){return ge=8,ke(function(){return e},t)}function Fe(){for(var e;e=me.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Re),e.__H.__h.forEach(Le),e.__H.__h=[]}catch(de){e.__H.__h=[],ve.__e(de,e.__v)}}ve.__b=function(e){pe=null,be&&be(e)},ve.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ce&&Ce(e,t)},ve.__r=function(e){we&&we(e),de=0;var t=(pe=e.__c).__H;t&&(he===pe?(t.__h=[],pe.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=ye,e.__N=e.i=void 0})):(t.__h.forEach(Re),t.__h.forEach(Le),t.__h=[],de=0)),he=pe},ve.diffed=function(e){Se&&Se(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==me.push(t)&&fe===ve.requestAnimationFrame||((fe=ve.requestAnimationFrame)||Pe)(Fe)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==ye&&(e.__=e.__V),e.i=void 0,e.__V=ye})),he=pe=null},ve.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Re),e.__h=e.__h.filter(function(e){return!e.__||Le(e)})}catch(pe){t.some(function(e){e.__h&&(e.__h=[])}),t=[],ve.__e(pe,e.__v)}}),_e&&_e(e,t)},ve.unmount=function(e){Be&&Be(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{Re(e)}catch(e){t=e}}),n.__H=void 0,t&&ve.__e(t,n.__v))};var Ne="function"==typeof requestAnimationFrame;function Pe(e){var t,n=function(){clearTimeout(r),Ne&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Ne&&(t=requestAnimationFrame(n))}function Re(e){var t=pe,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),pe=t}function Le(e){var t=pe;e.__c=e.__(),pe=t}function Oe(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function De(e,t){return"function"==typeof t?t(e):t}const Me=Object.defineProperty({__proto__:null,useCallback:Ue,useContext:function(e){var t=pe.context[e.__c],n=Ee(de++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(pe)),t.props.value):e.__},useDebugValue:function(e,t){ve.useDebugValue&&ve.useDebugValue(t?t(e):e)},useEffect:function(e,t){var n=Ee(de++,3);!ve.__s&&Oe(n.__H,t)&&(n.__=e,n.i=t,pe.__H.__h.push(n))},useErrorBoundary:function(e){var t=Ee(de++,10),n=xe();return t.__=e,pe.componentDidCatch||(pe.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:function(){var e=Ee(de++,11);if(!e.__){for(var t=pe.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},useImperativeHandle:function(e,t,n){ge=6,Te(function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},null==n?n:n.concat(e))},useLayoutEffect:Te,useMemo:ke,useReducer:Ie,useRef:function(e){return ge=5,ke(function(){return{current:e}},[])},useState:xe},Symbol.toStringTag,{value:"Module"});function Qe(){const e=e=>i.createElementNS("http://www.w3.org/2000/svg",e),t=C(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=C(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function je(e){let{options:t}=e;const n=ke(()=>({__html:Qe().outerHTML}),[]);return V("h2",{class:"dialog__header"},V("span",{class:"dialog__title"},t.formTitle),t.showBranding?V("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:n}):null)}function He(e,t){const n=e.get(t);return"string"===typeof n?n.trim():""}function ze(e){let{options:t,defaultEmail:n,defaultName:o,onFormClose:i,onSubmit:a,onSubmitSuccess:s,onSubmitError:l,showEmail:A,showName:c,screenshotInput:u}=e;const{tags:d,addScreenshotButtonLabel:p,removeScreenshotButtonLabel:h,cancelButtonLabel:f,emailLabel:g,emailPlaceholder:m,isEmailRequired:y,isNameRequired:v,messageLabel:b,messagePlaceholder:w,nameLabel:S,namePlaceholder:B,submitButtonLabel:C,isRequiredLabel:E}=t,[x,I]=xe(!1),[T,k]=xe(null),[U,F]=xe(!1),N=u?.input,[P,R]=xe(null),L=Ue(e=>{R(e),F(!1)},[]),O=Ue(e=>{const t=function(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}(e,{emailLabel:g,isEmailRequired:y,isNameRequired:v,messageLabel:b,nameLabel:S});return t.length>0?k(`Please enter in the following required fields: ${t.join(", ")}`):k(null),0===t.length},[g,y,v,b,S]),D=Ue(async e=>{I(!0);try{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;const t=new FormData(e.target),n=await(u&&U?u.value():void 0),o={name:He(t,"name"),email:He(t,"email"),message:He(t,"message"),attachments:n?[n]:void 0};if(!O(o))return;try{const e=await a({name:o.name,email:o.email,message:o.message,source:"widget",tags:d},{attachments:o.attachments});s(o,e)}catch(T){_&&r.debug.error(T),k(T),l(T)}}finally{I(!1)}},[u&&U,s,l]);return V("form",{class:"form",onSubmit:D},N&&U?V(N,{onError:L}):null,V("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:x},V("div",{class:"form__top"},T?V("div",{class:"form__error-container"},T):null,c?V("label",{for:"name",class:"form__label"},V(Ve,{label:S,isRequiredLabel:E,isRequired:v}),V("input",{class:"form__input",defaultValue:o,id:"name",name:"name",placeholder:B,required:v,type:"text"})):V("input",{"aria-hidden":!0,value:o,name:"name",type:"hidden"}),A?V("label",{for:"email",class:"form__label"},V(Ve,{label:g,isRequiredLabel:E,isRequired:y}),V("input",{class:"form__input",defaultValue:n,id:"email",name:"email",placeholder:m,required:y,type:"email"})):V("input",{"aria-hidden":!0,value:n,name:"email",type:"hidden"}),V("label",{for:"message",class:"form__label"},V(Ve,{label:b,isRequiredLabel:E,isRequired:!0}),V("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:w,required:!0,rows:5})),N?V("label",{for:"screenshot",class:"form__label"},V("button",{class:"btn btn--default",disabled:x,type:"button",onClick:()=>{R(null),F(e=>!e)}},U?h:p),P?V("div",{class:"form__error-container"},P.message):null):null),V("div",{class:"btn-group"},V("button",{class:"btn btn--primary",disabled:x,type:"submit"},C),V("button",{class:"btn btn--default",disabled:x,type:"button",onClick:i},f))))}function Ve(e){let{label:t,isRequired:n,isRequiredLabel:r}=e;return V("span",{class:"form__label__text"},t,n&&V("span",{class:"form__label__text--required"},r))}function Ke(){const e=e=>o.document.createElementNS("http://www.w3.org/2000/svg",e),t=C(e("svg"),{width:"16",height:"17",viewBox:"0 0 16 17",fill:"inherit"}),n=C(e("g"),{clipPath:"url(#clip0_57_156)"}),r=C(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=C(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);const a=e("defs"),s=C(e("clipPath"),{id:"clip0_57_156"}),l=C(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return s.appendChild(l),a.appendChild(s),t.appendChild(a).appendChild(s).appendChild(l),t}function We(e){let{open:t,onFormSubmitted:n,...r}=e;const o=r.options,i=ke(()=>({__html:Ke().outerHTML}),[]),[a,s]=xe(null),l=Ue(()=>{a&&(clearTimeout(a),s(null)),n()},[a]),A=Ue((e,t)=>{r.onSubmitSuccess(e,t),s(setTimeout(()=>{n(),s(null)},5e3))},[n]);return V(W,null,a?V("div",{class:"success__position",onClick:l},V("div",{class:"success__content"},o.successMessageText,V("span",{class:"success__icon",dangerouslySetInnerHTML:i}))):V("dialog",{class:"dialog",onClick:o.onFormClose,open:t},V("div",{class:"dialog__position"},V("div",{class:"dialog__content",onClick:e=>{e.stopPropagation()}},V(je,{options:o}),V(ze,{...r,onSubmitSuccess:A})))))}function Ge(e){const t=i.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ${n};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${n} 8px,\n      ${n} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${r} 15px,\n      ${r} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n`,e&&t.setAttribute("nonce",e),t}function $e(e){let{hooks:t}=e;return function(e){let{onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:s,onError:l}=e;const A=function(){const[e,n]=t.useState(o.devicePixelRatio??1);return t.useEffect(()=>{const e=()=>{n(o.devicePixelRatio)},t=matchMedia(`(resolution: ${o.devicePixelRatio}dppx)`);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}},[]),e}();t.useEffect(()=>{(async()=>{n();const e=await a.mediaDevices.getDisplayMedia({video:{width:o.innerWidth*A,height:o.innerHeight*A},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),t=i.createElement("video");await new Promise((n,o)=>{t.srcObject=e,t.onloadedmetadata=()=>{r(t,A),e.getTracks().forEach(e=>e.stop()),n()},t.play().catch(o)}),s()})().catch(l)},[])}}function qe(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function Ye(e,t){qe(e,{alpha:!0},(e,n)=>{n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height)})}function Je(e,t,n){qe(e,{alpha:!0},(e,r)=>{n.length&&(r.fillStyle="rgba(0, 0, 0, 0.25)",r.fillRect(0,0,e.width,e.height)),n.forEach(e=>{!function(e,t,n){switch(e.type){case"highlight":t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break;case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h)}}(e,r,t)})})}function Xe(e){let{h:t,hooks:n,outputBuffer:r,dialog:a,options:s}=e;const l=$e({hooks:n}),A=function(e){let{h:t}=e;return function(e){let{action:n,setAction:r}=e;return t("div",{class:"editor__tool-container"},t("div",{class:"editor__tool-bar"},t("button",{type:"button",class:"editor__tool "+("highlight"===n?"editor__tool--active":""),onClick:()=>{r("highlight"===n?"":"highlight")}},"Highlight"),t("button",{type:"button",class:"editor__tool "+("hide"===n?"editor__tool--active":""),onClick:()=>{r("hide"===n?"":"hide")}},"Hide")))}}({h:t}),c=function(e){let{h:t}=e;return function(){return t("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},t("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),t("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),t("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),t("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}({h:t}),u={__html:Ge(s.styleNonce).innerText},d=a.el.style,p=e=>{let{screenshot:a}=e;const[l,d]=n.useState("highlight"),[p,h]=n.useState([]),f=n.useRef(null),g=n.useRef(null),m=n.useRef(null),y=n.useRef(null),[v,b]=n.useState(1),w=n.useMemo(()=>{const e=i.getElementById(s.id);if(!e)return"white";const t=getComputedStyle(e);return t.getPropertyValue("--button-primary-background")||t.getPropertyValue("--accent-background")},[s.id]);n.useLayoutEffect(()=>{const e=()=>{const t=f.current;t&&(qe(a.canvas,{alpha:!1},e=>{const n=Math.min(t.clientWidth/e.width,t.clientHeight/e.height);b(n)}),0!==t.clientHeight&&0!==t.clientWidth||setTimeout(e,0))};return e(),o.addEventListener("resize",e),()=>{o.removeEventListener("resize",e)}},[a]);const S=n.useCallback((e,t)=>{qe(e,{alpha:!0},(e,n)=>{n.scale(t,t),e.width=a.canvas.width,e.height=a.canvas.height})},[a]);n.useEffect(()=>{S(g.current,a.dpi),Ye(g.current,a.canvas)},[a]),n.useEffect(()=>{S(m.current,a.dpi),qe(m.current,{alpha:!0},(e,t)=>{t.clearRect(0,0,e.width,e.height)}),Je(m.current,w,p)},[p,w]),n.useEffect(()=>{S(r,a.dpi),Ye(r,a.canvas),qe(i.createElement("canvas"),{alpha:!0},(e,t)=>{t.scale(a.dpi,a.dpi),e.width=a.canvas.width,e.height=a.canvas.height,Je(e,w,p),Ye(r,e)})},[p,a,w]);const _=n.useCallback(e=>t=>{t.preventDefault(),t.stopPropagation(),h(t=>{const n=[...t];return n.splice(e,1),n})},[]),B={width:a.canvas.width*v+"px",height:a.canvas.height*v+"px"},C=e=>{e.stopPropagation()};return t("div",{class:"editor"},t("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:u}),t("div",{class:"editor__image-container"},t("div",{class:"editor__canvas-container",ref:f},t("canvas",{ref:g,id:"background",style:B}),t("canvas",{ref:m,id:"foreground",style:B}),t("div",{ref:y,onMouseDown:e=>{if(!l||!y.current)return;const t=y.current.getBoundingClientRect(),n={type:l,x:e.offsetX/v,y:e.offsetY/v},r=(e,n)=>{const r=(n.clientX-t.x)/v,o=(n.clientY-t.y)/v;return{type:e.type,x:Math.min(e.x,r),y:Math.min(e.y,o),w:Math.abs(r-e.x),h:Math.abs(o-e.y)}},o=e=>{qe(m.current,{alpha:!0},(e,t)=>{t.clearRect(0,0,e.width,e.height)}),Je(m.current,w,[...p,r(n,e)])},a=e=>{const t=r(n,e);t.w*v>=1&&t.h*v>=1&&h(e=>[...e,t]),i.removeEventListener("mousemove",o),i.removeEventListener("mouseup",a)};i.addEventListener("mousemove",o),i.addEventListener("mouseup",a)},style:B},p.map((e,n)=>t("div",{key:n,class:"editor__rect",style:{top:e.y*v+"px",left:e.x*v+"px",width:e.w*v+"px",height:e.h*v+"px"}},t("button",{"aria-label":"Remove",onClick:_(n),onMouseDown:C,onMouseUp:C,type:"button"},t(c,null))))))),t(A,{action:l,setAction:d}))};return function(e){let{onError:o}=e;const[a,s]=n.useState();return l({onBeforeScreenshot:n.useCallback(()=>{d.display="none"},[]),onScreenshot:n.useCallback((e,t)=>{qe(i.createElement("canvas"),{alpha:!1},(n,r)=>{r.scale(t,t),n.width=e.videoWidth,n.height=e.videoHeight,r.drawImage(e,0,0,n.width,n.height),s({canvas:n,dpi:t})}),r.width=e.videoWidth,r.height=e.videoHeight},[]),onAfterScreenshot:n.useCallback(()=>{d.display="block"},[]),onError:n.useCallback(e=>{d.display="block",o(e)},[])}),a?t(p,{screenshot:a}):t("div",null)}}t.buildFeedbackIntegration=e=>{let{lazyLoadIntegration:t,getModalIntegration:n,getScreenshotIntegration:o}=e;return function(){let{id:e="sentry-feedback",autoInject:C=!0,showBranding:x=!0,isEmailRequired:U=!1,isNameRequired:F=!1,showEmail:N=!0,showName:P=!0,enableScreenshot:R=!0,useSentryUser:L={email:"email",name:"username"},tags:O,styleNonce:D,scriptNonce:M,colorScheme:Q="system",themeLight:j={},themeDark:H={},addScreenshotButtonLabel:z=b,cancelButtonLabel:V=l,confirmButtonLabel:K=c,emailLabel:W=p,emailPlaceholder:G=d,formTitle:$=u,isRequiredLabel:q=v,messageLabel:Y=f,messagePlaceholder:J=h,nameLabel:X=m,namePlaceholder:Z=g,removeScreenshotButtonLabel:ee=w,submitButtonLabel:te=A,successMessageText:ne=y,triggerLabel:re=s,triggerAriaLabel:oe="",onFormOpen:ie,onFormClose:ae,onSubmitSuccess:se,onSubmitError:le,onFormSubmitted:Ae}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const ce={id:e,autoInject:C,showBranding:x,isEmailRequired:U,isNameRequired:F,showEmail:N,showName:P,enableScreenshot:R,useSentryUser:L,tags:O,styleNonce:D,scriptNonce:M,colorScheme:Q,themeDark:H,themeLight:j,triggerLabel:re,triggerAriaLabel:oe,cancelButtonLabel:V,submitButtonLabel:te,confirmButtonLabel:K,formTitle:$,emailLabel:W,emailPlaceholder:G,messageLabel:Y,messagePlaceholder:J,nameLabel:X,namePlaceholder:Z,successMessageText:ne,isRequiredLabel:q,addScreenshotButtonLabel:z,removeScreenshotButtonLabel:ee,onFormClose:ae,onFormOpen:ie,onSubmitError:le,onSubmitSuccess:se,onFormSubmitted:Ae};let ue=null,de=[];const pe=e=>{if(!ue){const t=i.createElement("div");t.id=String(e.id),i.body.appendChild(t),ue=t.attachShadow({mode:"open"}),ue.appendChild(function(e){let{colorScheme:t,themeDark:n,themeLight:r,styleNonce:o}=e;const a=i.createElement("style");return a.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==t?"color-scheme: only light;":""}\n\n  ${k("dark"===t?{...T,...n}:{...I,...r})}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${k({...T,...n})}\n  }\n}`:""}\n}\n`,o&&a.setAttribute("nonce",o),a}(e))}return ue},he=async e=>{const i=e.enableScreenshot&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a.userAgent)&&!(/Macintosh/i.test(a.userAgent)&&a.maxTouchPoints&&a.maxTouchPoints>1)&&!!isSecureContext;let s,l;try{s=(n?n():await t("feedbackModalIntegration",M))(),r.addIntegration(s)}catch{throw _&&r.debug.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const e=i?o?o():await t("feedbackScreenshotIntegration",M):void 0;e&&(l=e(),r.addIntegration(l))}catch{_&&r.debug.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const A=s.createDialog({options:{...e,onFormClose:()=>{A?.close(),e.onFormClose?.()},onFormSubmitted:()=>{A?.close(),e.onFormSubmitted?.()}},screenshotIntegration:l,sendFeedback:S,shadow:pe(e)});return A},fe=function(e){const t=B(ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n="string"===typeof e?i.querySelector(e):"function"===typeof e.addEventListener?e:null;if(!n)throw _&&r.debug.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let o=null;const a=async()=>{o||(o=await he({...t,onFormSubmitted:()=>{o?.removeFromDom(),t.onFormSubmitted?.()}})),o.appendToDom(),o.open()};n.addEventListener("click",a);const s=()=>{de=de.filter(e=>e!==s),o?.removeFromDom(),o=null,n.removeEventListener("click",a)};return de.push(s),s},ge=function(){const e=B(ce,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=pe(e),n=E({triggerLabel:e.triggerLabel,triggerAriaLabel:e.triggerAriaLabel,shadow:t,styleNonce:D});return fe(n.el,{...e,onFormOpen(){n.hide()},onFormClose(){n.show()},onFormSubmitted(){n.show()}}),n};return{name:"Feedback",setupOnce(){r.isBrowser()&&ce.autoInject&&("loading"===i.readyState?i.addEventListener("DOMContentLoaded",()=>ge().appendToDom()):ge().appendToDom())},attachTo:fe,createWidget(){const e=ge(B(ce,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}));return e.appendToDom(),e},async createForm(){return he(B(ce,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}))},remove(){ue&&(ue.parentElement?.remove(),ue=null),de.forEach(e=>e()),de=[]}}}},t.feedbackModalIntegration=()=>({name:"FeedbackModal",setupOnce(){},createDialog:e=>{let{options:t,screenshotIntegration:n,sendFeedback:o,shadow:a}=e;const s=a,l=t.useSentryUser,A=function(){const e=r.getCurrentScope().getUser(),t=r.getIsolationScope().getUser(),n=r.getGlobalScope().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}(),c=i.createElement("div"),u=function(e){const t=i.createElement("style");return t.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",e&&t.setAttribute("nonce",e),t}(t.styleNonce);let d="";const p={get el(){return c},appendToDom(){s.contains(u)||s.contains(c)||(s.appendChild(u),s.appendChild(c))},removeFromDom(){c.remove(),u.remove(),i.body.style.overflow=d},open(){f(!0),t.onFormOpen?.(),r.getClient()?.emit("openFeedbackWidget"),d=i.body.style.overflow,i.body.style.overflow="hidden"},close(){f(!1),i.body.style.overflow=d}},h=n?.createInput({h:V,hooks:Me,dialog:p,options:t}),f=e=>{!function(e,t){var n,r,o;F.__&&F.__(e,t),n=t.__k,r=[],o=[],ae(t,e=t.__k=V(W,null,[e]),n||D,D,void 0!==t.ownerSVGElement,n?null:t.firstChild?U.call(t.childNodes):null,r,n?n.__e:t.firstChild,!1,o),e.__d=void 0,se(r,e,o)}(V(We,{options:t,screenshotInput:h,showName:t.showName||t.isNameRequired,showEmail:t.showEmail||t.isEmailRequired,defaultName:l&&A?.[l.name]||"",defaultEmail:l&&A?.[l.email]||"",onFormClose:()=>{f(!1),t.onFormClose?.()},onSubmit:o,onSubmitSuccess:(e,n)=>{f(!1),t.onSubmitSuccess?.(e,n)},onSubmitError:e=>{t.onSubmitError?.(e)},onFormSubmitted:()=>{t.onFormSubmitted?.()},open:e}),c)};return p}}),t.feedbackScreenshotIntegration=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:e=>{let{h:t,hooks:n,dialog:r,options:o}=e;const a=i.createElement("canvas");return{input:Xe({h:t,hooks:n,outputBuffer:a,dialog:r,options:o}),value:async()=>{const e=await new Promise(e=>{a.toBlob(e,"image/png")});if(e){return{data:new Uint8Array(await e.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}}),t.getFeedback=function(){const e=r.getClient();return e?.getIntegrationByName("Feedback")},t.sendFeedback=S},962:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},1094:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5613),o=n(676),i=n(7752),a=n(162);function s(){"console"in i.GLOBAL_OBJ&&r.CONSOLE_LEVELS.forEach(function(e){e in i.GLOBAL_OBJ.console&&o.fill(i.GLOBAL_OBJ.console,e,function(t){return r.originalConsoleMethods[e]=t,function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];const s={args:n,level:e};a.triggerHandlers("console",s);const l=r.originalConsoleMethods[e];l?.apply(i.GLOBAL_OBJ.console,n)}})})}t.addConsoleInstrumentationHandler=function(e){const t="console";a.addHandler(t,e),a.maybeInstrument(t,s)}},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,i={},A=null,c=null;for(r in void 0!==n&&(A=""+n),void 0!==t.key&&(A=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:A,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=A,t.jsxs=A},1207:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3307),o=n(7752);t.isBrowser=function(){return"undefined"!==typeof window&&(!r.isNodeEnv()||function(){const e=o.GLOBAL_OBJ.process;return"renderer"===e?.type}())}},1220:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5866),o=n(5613),i=n(7341),a=n(7752);async function s(e){try{o.debug.log("Flushing events..."),await r.flush(e),o.debug.log("Done flushing events")}catch(t){o.debug.log("Error while flushing events:\n",t)}}t.flushIfServerless=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{timeout:t=2e3}=e;if("cloudflareWaitUntil"in e&&"function"===typeof e?.cloudflareWaitUntil)return void e.cloudflareWaitUntil(s(t));if("cloudflareCtx"in e&&"function"===typeof e.cloudflareCtx?.waitUntil)return void e.cloudflareCtx.waitUntil(s(t));if(a.GLOBAL_OBJ[Symbol.for("@vercel/request-context")])return void i.vercelWaitUntil(s(t));if("undefined"===typeof process)return;(!!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.FUNCTIONS_WORKER_RUNTIME||!!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.LAMBDA_TASK_ROOT||!!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.K_SERVICE||!!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.CF_PAGES||!!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.VERCEL||!!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.NETLIFY)&&await s(t)}},1273:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3348),i=n(9262),a=n(6624),s=n(4447),l=n(8397),A=n(1893),c=n(4867),u=n(2729),d=n(7842),p=n(3866);function h(e,t,n){const r=d.getTraceData({span:n}),o=r["sentry-trace"],i=r.baggage;if(!o)return;const a=t.headers||(s.isRequest(e)?e.headers:void 0);if(a){if(l=a,"undefined"!==typeof Headers&&s.isInstanceOf(l,Headers)){const e=new Headers(a);if(e.get("sentry-trace")||e.set("sentry-trace",o),i){const t=e.get("baggage");t?f(t)||e.set("baggage",`${t},${i}`):e.set("baggage",i)}return e}if(Array.isArray(a)){const e=[...a];a.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",o]);const t=a.find(e=>"baggage"===e[0]&&f(e[1]));return i&&!t&&e.push(["baggage",i]),e}{const e="sentry-trace"in a?a["sentry-trace"]:void 0,t="baggage"in a?a.baggage:void 0,n=t?Array.isArray(t)?[...t]:[t]:[],r=t&&(Array.isArray(t)?t.find(e=>f(e)):f(t));return i&&!r&&n.push(i),{...a,"sentry-trace":e??o,baggage:n.length>0?n.join(","):void 0}}}return{...r};var l}function f(e){return e.split(",").some(e=>e.trim().startsWith(A.SENTRY_BAGGAGE_KEY_PREFIX))}function g(e,t,n){const r=p.parseStringToURLObject(e);return{name:r?`${t} ${p.getSanitizedUrlStringFromUrlObject(r)}`:t,attributes:m(e,r,t,n)}}function m(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:r,[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"};return t&&(p.isURLObjectRelative(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}t._addTracingHeadersToFetchRequest=h,t.instrumentFetchRequest=function(e,t,n,o){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto.http.browser";if(!e.fetchData)return;const{method:A,url:d}=e.fetchData,p=l.hasSpansEnabled()&&t(d);if(e.endTimestamp&&p){const t=e.fetchData.__span;if(!t)return;const n=o[t];return void(n&&(!function(e,t){if(t.response){a.setHttpStatus(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:a.SPAN_STATUS_ERROR,message:"internal_error"});e.end()}(n,e),delete o[t]))}const f=!!i.getActiveSpan(),m=p&&f?u.startInactiveSpan(g(d,A,s)):new c.SentryNonRecordingSpan;if(e.fetchData.__span=m.spanContext().spanId,o[m.spanContext().spanId]=m,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},r=h(t,n,l.hasSpansEnabled()&&f?m:void 0);r&&(e.args[1]=n,n.headers=r)}const y=r.getClient();if(y){const t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};y.emit("beforeOutgoingRequestSpan",m,t)}return m}},1274:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/\(error: (.*)\)/,r=/captureMessage|captureException/;function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const o=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=[],s=e.split("\n");for(let i=t;i<s.length;i++){let e=s[i];e.length>1024&&(e=e.slice(0,1024));const t=n.test(e)?e.replace(n,"$1"):e;if(!t.match(/\S*Error: /)){for(const e of o){const n=e(t);if(n){a.push(n);break}}if(a.length>=50+r)break}}return i(a.slice(r))}}function i(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(a(t).function||"")&&t.pop(),t.reverse(),r.test(a(t).function||"")&&(t.pop(),r.test(a(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||a(t).filename,function:e.function||"?"}))}function a(e){return e[e.length-1]||{}}const s="<anonymous>";t.UNKNOWN_FUNCTION="?",t.createStackParser=o,t.getFramesFromEvent=function(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch{return}}},t.getFunctionName=function(e){try{return e&&"function"===typeof e&&e.name||s}catch{return s}},t.stackParserFromStackParserOptions=function(e){return Array.isArray(e)?o(...e):e},t.stripSentryFramesAndReverse=i},1335:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(4528),i=n(6399),a={};function s(e){const t=a[e];if(t)return t;let n=i.WINDOW[e];if(r.isNativeFunction(n))return a[e]=n.bind(i.WINDOW);const s=i.WINDOW.document;if(s&&"function"===typeof s.createElement)try{const t=s.createElement("iframe");t.hidden=!0,s.head.appendChild(t);const r=t.contentWindow;r?.[e]&&(n=r[e]),s.head.removeChild(t)}catch(l){o.DEBUG_BUILD&&r.debug.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,l)}return n?a[e]=n.bind(i.WINDOW):n}t.clearCachedImplementation=function(e){a[e]=void 0},t.fetch=function(){return s("fetch")(...arguments)},t.getNativeImplementation=s,t.setTimeout=function(){return s("setTimeout")(...arguments)}},1432:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7752),o=n(162);let i=null;function a(){i=r.GLOBAL_OBJ.onerror,r.GLOBAL_OBJ.onerror=function(e,t,n,r,a){const s={column:r,error:a,line:n,msg:e,url:t};return o.triggerHandlers("error",s),!!i&&i.apply(this,arguments)},r.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}t.addGlobalErrorInstrumentationHandler=function(e){const t="error";o.addHandler(t,e),o.maybeInstrument(t,a)}},1617:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});class n extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";super(e),this.message=e,this.logLevel=t}}t.SentryError=n},1672:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1817),a=1e6,s=String(0),l=i.WINDOW.navigator;let A="",c="",u="",d=l?.userAgent||"",p="";const h=l?.language||l?.languages?.[0]||"";const f=l?.userAgentData;var g;function m(e){return function(e){return!("thread_metadata"in e)}(e)?v(e):e}function y(e,t,n,a){if("transaction"!==a.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(void 0===n||null===n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const l=function(e){const t=e.contexts?.trace?.trace_id;return"string"===typeof t&&32!==t.length&&o.DEBUG_BUILD&&r.debug.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!==typeof t?"":t}(a),f=m(n),g=t||("number"===typeof a.start_timestamp?1e3*a.start_timestamp:1e3*r.timestampInSeconds()),y="number"===typeof a.timestamp?1e3*a.timestamp:1e3*r.timestampInSeconds();return{event_id:e,timestamp:new Date(g).toISOString(),platform:"javascript",version:"1",release:a.release||"",environment:a.environment||r.DEFAULT_ENVIRONMENT,runtime:{name:"javascript",version:i.WINDOW.navigator.userAgent},os:{name:A,version:c,build_number:d},device:{locale:h,model:p,manufacturer:d,architecture:u,is_emulator:!1},debug_meta:{images:b(n.resources)},profile:f,transactions:[{name:a.transaction||"",id:a.event_id||r.uuid4(),trace_id:l,active_thread_id:s,relative_start_ns:"0",relative_end_ns:(1e6*(y-g)).toFixed(0)}]}}function v(e){let t,n=0;const o={samples:[],stacks:[],frames:[],thread_metadata:{[s]:{name:"main"}}},i=e.samples[0];if(!i)return o;const l=i.timestamp,A=r.browserPerformanceTimeOrigin(),c="number"===typeof performance.timeOrigin?performance.timeOrigin:A||0,u=c-(A||c);return e.samples.forEach((r,i)=>{if(void 0===r.stackId)return void 0===t&&(t=n,o.stacks[t]=[],n++),void(o.samples[i]={elapsed_since_start_ns:((r.timestamp+u-l)*a).toFixed(0),stack_id:t,thread_id:s});let A=e.stacks[r.stackId];const c=[];for(;A;){c.push(A.frameId);const t=e.frames[A.frameId];t&&void 0===o.frames[A.frameId]&&(o.frames[A.frameId]={function:t.name,abs_path:"number"===typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),A=void 0===A.parentId?void 0:e.stacks[A.parentId]}const d={elapsed_since_start_ns:((r.timestamp+u-l)*a).toFixed(0),stack_id:n,thread_id:s};o.stacks[n]=c,o.samples[i]=d,n++}),o}function b(e){const t=r.getClient(),n=t?.getOptions(),o=n?.stackParser;return o?r.getDebugImagesForResources(o,e):[]}function w(e){return"number"!==typeof e&&"boolean"!==typeof e||"number"===typeof e&&isNaN(e)?(o.DEBUG_BUILD&&r.debug.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!0===e||!1===e||(!(e<0||e>1)||(o.DEBUG_BUILD&&r.debug.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1))}"object"===typeof(g=f)&&null!==g&&"getHighEntropyValues"in g&&f.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(A=e.platform||"",u=e.architecture||"",p=e.model||"",c=e.platformVersion||"",e.fullVersionList?.length){const t=e.fullVersionList[e.fullVersionList.length-1];d=`${t.brand} ${t.version}`}}).catch(e=>{});let S=!1;const _=new Map;t.MAX_PROFILE_DURATION_MS=3e4,t.addProfileToGlobalCache=function(e,t){if(_.set(e,t),_.size>30){const e=_.keys().next().value;_.delete(e)}},t.addProfilesToEnvelope=function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e},t.applyDebugMetadata=b,t.convertJSSelfProfileToSampledFormat=v,t.createProfilePayload=y,t.createProfilingEvent=function(e,t,n,i){return function(e){return e.samples.length<2?(o.DEBUG_BUILD&&r.debug.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(o.DEBUG_BUILD&&r.debug.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?y(e,t,n,i):null},t.enrichWithThreadInformation=m,t.findProfiledTransactionsFromEnvelope=function(e){const t=[];return r.forEachEnvelopeItem(e,(e,n)=>{if("transaction"===n)for(let r=1;r<e.length;r++){const n=e[r];n?.contexts?.profile?.profile_id&&t.push(e[r])}}),t},t.getActiveProfilesCount=function(){return _.size},t.isAutomatedPageLoadSpan=function(e){return"pageload"===r.spanToJSON(e).op},t.isValidSampleRate=w,t.shouldProfileSpan=function(e){if(S)return o.DEBUG_BUILD&&r.debug.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return o.DEBUG_BUILD&&r.debug.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=r.getClient(),n=t?.getOptions();if(!n)return o.DEBUG_BUILD&&r.debug.log("[Profiling] Profiling disabled, no options found."),!1;const i=n.profilesSampleRate;return w(i)?i?!!(!0===i||Math.random()<i)||(o.DEBUG_BUILD&&r.debug.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(i)})`),!1):(o.DEBUG_BUILD&&r.debug.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(o.DEBUG_BUILD&&r.debug.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)},t.startJSSelfProfile=function(){const e=i.WINDOW.Profiler;if("function"!==typeof e)return void(o.DEBUG_BUILD&&r.debug.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(3e3);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(n){o.DEBUG_BUILD&&(r.debug.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),r.debug.log("[Profiling] Disabling profiling for current user session.")),S=!0}},t.takeProfileFromGlobalCache=function(e){const t=_.get(e);return t&&_.delete(e),t}},1766:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=r.GLOBAL_OBJ,i=new WeakMap,a=r.defineIntegration(function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).types||["crash","deprecation","intervention"];function t(e){if(i.has(r.getClient()))for(const t of e)r.withScope(e=>{e.setExtra("url",t.url);const n=`ReportingObserver [${t.type}]`;let o="No details available";if(t.body){const n={};for(const e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){const e=t.body;o=[e.crashId||"",e.reason||""].join(" ").trim()||o}else{o=t.body.message||o}}r.captureMessage(`${n}: ${o}`)})}return{name:"ReportingObserver",setupOnce(){if(!r.supportsReportingObserver())return;new o.ReportingObserver(t,{buffered:!0,types:e}).observe()},setup(e){i.set(e,!0)}}});t.reportingObserverIntegration=a},1776:(e,t,n)=>{"use strict";n.d(t,{cY:()=>p,FA:()=>U,g:()=>k,u:()=>s,Uj:()=>a,tD:()=>M,bD:()=>P,hp:()=>D,T9:()=>u,Tj:()=>c,XA:()=>d,mS:()=>l,Ku:()=>H,ZQ:()=>v,sr:()=>_,zJ:()=>h,c1:()=>S,Im:()=>N,lT:()=>C,zW:()=>I,jZ:()=>b,lV:()=>B,nr:()=>E,Ov:()=>x,gE:()=>f,Am:()=>L,I9:()=>O,P1:()=>y,eX:()=>T});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,a=i?e[o+1]:0,s=o+2<e.length,l=s?e[o+2]:0,A=t>>2,c=(3&t)<<4|a>>4;let u=(15&a)<<2|l>>6,d=63&l;s||(d=64,i||(u=64)),r.push(n[A],n[c],n[u],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const l=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==a||null==s||null==l)throw new i;const A=t<<2|a>>4;if(r.push(A),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const A=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},c=e=>A()?.emulatorHosts?.[e],u=()=>A()?.config,d=e=>A()?.[`_${e}`];class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function h(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f(e){return(await fetch(e,{credentials:"include"})).ok}const g={};let m=!1;function y(e,t){if("undefined"===typeof window||"undefined"===typeof document||!h(window.location.host)||g[e]===t||g[e]||m)return;function n(e){return`__firebase__banner__${e}`}g[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(g))g[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{m=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),A=n("preprendIcon"),c=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,A),t.append(c,a,l,n),document.body.appendChild(t)}o?(a.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function w(){const e=A()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function S(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function _(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return!w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return!w()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}function T(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}class k extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(F,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",i=`${this.serviceName}: ${o} (${n}).`;return new k(n,i,t)}}const F=/\{\$([^}]+)}/g;function N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function P(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(R(n)&&R(i)){if(!P(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function R(e){return null!==e&&"object"===typeof e}function L(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function O(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function M(e,t){const n=new Q(e,t);return n.subscribe.bind(n)}class Q{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j(){}function H(e){return e&&e._delegate?e._delegate:e}},1787:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650),i=n(962),a=r.defineIntegration(function(){const e={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return{name:"HttpClient",setup(t){!function(e,t){if(!r.supportsNativeFetch())return;r.addFetchInstrumentationHandler(n=>{if(r.getClient()!==e)return;const{response:o,args:i,error:a,virtualError:l}=n,[A,p]=i;o&&function(e,t,n,o,i){if(c(e,n.status,n.url)){const e=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t)}(t,o);let a,l,A,c;d()&&([a,A]=s("Cookie",e),[l,c]=s("Set-Cookie",n));const p=u({url:e.url,method:e.method,status:n.status,requestHeaders:a,responseHeaders:l,requestCookies:A,responseCookies:c,error:i});r.captureEvent(p)}}(t,A,o,p,a||l)},!1)}(t,e),function(e,t){if(!("XMLHttpRequest"in r.GLOBAL_OBJ))return;o.addXhrInstrumentationHandler(n=>{if(r.getClient()!==e)return;const{error:a,virtualError:s}=n,l=n.xhr,p=l[o.SENTRY_XHR_DATA_KEY];if(!p)return;const{method:h,request_headers:f}=p;try{!function(e,t,n,o,i){if(c(e,t.status,t.responseURL)){let e,a,s;if(d()){try{const e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(a=A(e))}catch{}try{s=function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{const[n,r]=t.split(": ");return n&&r&&(e[n]=r),e},{})}(t)}catch{}e=o}const l=u({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:s,responseCookies:a,error:i});r.captureEvent(l)}}(t,l,h,f,a||s)}catch(g){i.DEBUG_BUILD&&r.debug.warn("Error while extracting response event form XHR response",g)}})}(t,e)}}});function s(e,t){const n=function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(t.headers);let r;try{const t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=A(t))}catch{}return[n,r]}function l(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function A(e){return e.split("; ").reduce((e,t)=>{const[n,r]=t.split("=");return n&&r&&(e[n]=r),e},{})}function c(e,t,n){return function(e,t){return e.some(e=>"number"===typeof e?e===t:t>=e[0]&&t<=e[1])}(e.failedRequestStatusCodes,t)&&(o=e.failedRequestTargets,i=n,o.some(e=>"string"===typeof e?i.includes(e):e.test(i)))&&!r.isSentryRequestUrl(n,r.getClient());var o,i}function u(e){const t=r.getClient(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,o=n&&t?t.getOptions().stackParser(n,0,1):void 0,i=`HTTP Client Error with status code: ${e.status}`,a={message:i,exception:{values:[{type:"Error",value:i,stacktrace:o?{frames:o}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:l(e.responseHeaders)}}};return r.addExceptionMechanism(a,{type:"http.client",handled:!1}),a}function d(){const e=r.getClient();return!!e&&Boolean(e.getOptions().sendDefaultPii)}t.httpClientIntegration=a},1789:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425);function o(e,t){const n=s(e,t),r={type:c(t),value:u(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function i(e,t,n,i){const a=r.getClient(),l=a?.getOptions().normalizeDepth,A=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),c={__serialized__:r.normalizeToSize(t,l)};if(A)return{exception:{values:[o(e,A)]},extra:c};const u={exception:{values:[{type:r.isEvent(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:h(t,{isUnhandledRejection:i})}]},extra:c};if(n){const t=s(e,n);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}function a(e,t){return{exception:{values:[o(e,t)]}}}function s(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&l.test(e.message))return 1;return 0}(t),o=function(e){if("number"===typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,o)}catch{}return[]}const l=/Minified React error #\d+;/i;function A(e){return"undefined"!==typeof WebAssembly&&"undefined"!==typeof WebAssembly.Exception&&e instanceof WebAssembly.Exception}function c(e){const t=e?.name;if(!t&&A(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function u(e){const t=e?.message;return A(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function d(e,t,n,o,s){let l;if(r.isErrorEvent(t)&&t.error){return a(e,t.error)}if(r.isDOMError(t)||r.isDOMException(t)){const i=t;if("stack"in t)l=a(e,t);else{const t=i.name||(r.isDOMError(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;l=p(e,a,n,o),r.addExceptionTypeValue(l,a)}return"code"in i&&(l.tags={...l.tags,"DOMException.code":`${i.code}`}),l}if(r.isError(t))return a(e,t);if(r.isPlainObject(t)||r.isEvent(t)){return l=i(e,t,n,s),r.addExceptionMechanism(l,{synthetic:!0}),l}return l=p(e,t,n,o),r.addExceptionTypeValue(l,`${t}`,void 0),r.addExceptionMechanism(l,{synthetic:!0}),l}function p(e,t,n,o){const i={};if(o&&n){const o=s(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]}),r.addExceptionMechanism(i,{synthetic:!0})}if(r.isParameterizedString(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function h(e,t){let{isUnhandledRejection:n}=t;const o=r.extractExceptionKeysForMessage(e),i=n?"promise rejection":"exception";if(r.isErrorEvent(e))return`Event \`ErrorEvent\` captured as ${i} with message \`${e.message}\``;if(r.isEvent(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${i}`}return`Object captured as ${i} with keys: ${o}`}t.eventFromException=function(e,t,n,o){const i=d(e,t,n?.syntheticException||void 0,o);return r.addExceptionMechanism(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),r.resolvedSyncPromise(i)},t.eventFromMessage=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const a=p(e,t,o?.syntheticException||void 0,i);return a.level=n,o?.event_id&&(a.event_id=o.event_id),r.resolvedSyncPromise(a)},t.eventFromUnknownInput=d,t.exceptionFromError=o,t.extractMessage=u,t.extractType=c},1798:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425);var o=Object.defineProperty,i=(e,t,n)=>((e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n);class a{constructor(){i(this,"idNodeMap",new Map),i(this,"nodeMetaMap",new WeakMap)}getId(e){if(!e)return-1;const t=this.getMeta(e)?.id;return t??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:s(e.parentNode,t,n,r+1):-1}function l(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"===typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch{return!1}}}const A="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let c={map:{},getId:()=>(console.error(A),-1),getNode:()=>(console.error(A),null),removeNodeFromMap(){console.error(A)},has:()=>(console.error(A),!1),reset(){console.error(A)}};function u(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){m(()=>{n.set.call(this,e)},0),i&&i.set&&i.set.call(this,e)}}),()=>u(e,t,i||{},!0)}function d(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"===typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}function p(e,t,n,r,o){if(!e)return!1;const i=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}(e);if(!i)return!1;const a=l(t,n);if(!o){const e=r&&i.matches(r);return a(i)&&!e}const A=s(i,a);let c=-1;return!(A<0)&&(r&&(c=s(i,l(null,r))),A>-1&&c<0||A<c)}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(c=new Proxy(c,{get:(e,t,n)=>("map"===t&&console.error(A),Reflect.get(e,t,n))})),Date.now().toString();const h={};function f(e){const t=h[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(o){}return h[e]=r.bind(window)}function g(){return f("requestAnimationFrame")(...arguments)}function m(){return f("setTimeout")(...arguments)}var y=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(y||{});let v;const b=e=>{if(!v)return e;return function(){try{return e(...arguments)}catch(t){if(v&&!0===v(t))return()=>{};throw t}}};for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S="undefined"===typeof Uint8Array?[]:new Uint8Array(256),_=0;_<64;_++)S[w.charCodeAt(_)]=_;const B=new Map;const C=(e,t,n)=>{if(!e||!I(e,t)&&"object"!==typeof e)return;const r=function(e,t){let n=B.get(e);return n||(n=new Map,B.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let o=r.indexOf(e);return-1===o&&(o=r.length,r.push(e)),o};function E(e,t,n){if(e instanceof Array)return e.map(e=>E(e,t,n));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=w[n[t]>>2],o+=w[(3&n[t])<<4|n[t+1]>>4],o+=w[(15&n[t+1])<<2|n[t+2]>>6],o+=w[63&n[t+2]];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o}(e)}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[E(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[E(e.data,t,n),e.width,e.height]}}if(I(e,t)||"object"===typeof e){return{rr_type:e.constructor.name,index:C(e,t,n)}}return e}const x=(e,t,n)=>e.map(e=>E(e,t,n)),I=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"===typeof t[e]);return Boolean(n.find(n=>e instanceof t[n]))};function T(e,t,n,r,o){const i=[];try{const a=d(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];if(!p(this,t,n,r,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),o&&["webgl","webgl2"].includes(e))if(s[0]&&"object"===typeof s[0]){const e=s[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else s.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...s])}});i.push(a)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(e=>e())}}function k(e,t,n,r,o,i,a,s){const l=[],A=Object.getOwnPropertyNames(e);for(const c of A)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if("function"!==typeof e[c])continue;const a=d(e,c,function(e){return function(){for(var a=arguments.length,l=new Array(a),A=0;A<a;A++)l[A]=arguments[A];const u=e.apply(this,l);if(C(u,s,this),"tagName"in this.canvas&&!p(this.canvas,r,o,i,!0)){const e=x(l,s,this),r={type:t,property:c,args:e};n(this.canvas,r)}return u}});l.push(a)}catch{const r=u(e,c,{set(e){n(this.canvas,{type:t,property:c,args:[e],setter:!0})}});l.push(r)}return l}class U{constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:s,dataURLOptions:l,errorHandler:A}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,A&&(v=A),(s&&"number"===typeof t||e.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),e.enableManualSnapshot||b(()=>{s&&"all"===t&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),s&&"number"===typeof t&&this.initCanvasFPSObserver(t,r,o,i,a,{dataURLOptions:l})})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(e){const{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(e)){if(a)return this.windowsSet.add(e),void this.windows.push(new WeakRef(e));b(()=>{if(i&&"all"===t&&this.initCanvasMutationObserver(e,n,r,o),i&&"number"===typeof t){const t=T(e,n,r,o,!0);this.restoreHandlers.push(()=>{t()})}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e))}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const e=new Worker(function(){const e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());return e.onmessage=e=>{const t=e.data,{id:n}=t;if(this.snapshotInProgressMap.set(n,!1),!("base64"in t))return;const{base64:r,type:o,width:i,height:a}=t;this.mutationCb({id:n,type:y["2D"],commands:[{property:"clearRect",args:[0,0,i,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:o}]},0,0,i,a]}]})},e}initCanvasFPSObserver(e,t,n,r,o,i){const a=this.takeSnapshot(!1,e,t,n,r,o,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(e,t,n,r){const o=T(e,t,n,r,!1),i=function(e,t,n,r,o){const i=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of a)try{if("function"!==typeof t.CanvasRenderingContext2D.prototype[s])continue;const a=d(t.CanvasRenderingContext2D.prototype,s,function(i){return function(){for(var a=arguments.length,l=new Array(a),A=0;A<a;A++)l[A]=arguments[A];return p(this.canvas,n,r,o,!0)||m(()=>{const n=x(l,t,this);e(this.canvas,{type:y["2D"],property:s,args:n})},0),i.apply(this,l)}});i.push(a)}catch{const n=u(t.CanvasRenderingContext2D.prototype,s,{set(t){e(this.canvas,{type:y["2D"],property:s,args:[t],setter:!0})}});i.push(n)}return()=>{i.forEach(e=>e())}}(this.processMutation.bind(this),e,t,n,r),a=function(e,t,n,r,o){const i=[];return i.push(...k(t.WebGLRenderingContext.prototype,y.WebGL,e,n,r,o,0,t)),"undefined"!==typeof t.WebGL2RenderingContext&&i.push(...k(t.WebGL2RenderingContext.prototype,y.WebGL2,e,n,r,o,0,t)),()=>{i.forEach(e=>e())}}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.restoreHandlers.push(()=>{cancelAnimationFrame(n)})}takeSnapshot(e,t,n,r,o,i,a,s){const l=1e3/t;let A;const c=e=>{if(e)return[e];const t=[],i=e=>{e.querySelectorAll("canvas").forEach(e=>{p(e,n,r,o,!0)||t.push(e)})};for(const n of this.windows){const e=n.deref();let t;try{t=e&&e.document}catch{}t&&i(t)}for(const n of this.shadowDoms){const e=n.deref();e&&i(e)}return t},u=t=>{this.windows.length&&(this.lastSnapshotTime&&t-this.lastSnapshotTime<l?A=g(u):(this.lastSnapshotTime=t,c(s).forEach(t=>{if(!this.mirror.hasNode(t))return;const n=this.mirror.getId(t);if(!this.snapshotInProgressMap.get(n)&&t.width&&t.height){if(this.snapshotInProgressMap.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===e?.getContextAttributes()?.preserveDrawingBuffer&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then(e=>{this.worker?.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:i},[e])}).catch(e=>{b(()=>{throw e})()})}}),e||(A=g(u))))};return A=g(u),A}startPendingCanvasMutationFlusher(){g(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,g(e)};g(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),g(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map(e=>{const{type:t,...n}=e;return n}),{type:o}=n[0];this.mutationCb({id:t,type:o,commands:r}),this.pendingCanvasMutations.delete(e)}}try{if(2!==Array.from([1],e=>2*e)[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(O){console.debug("Unable to override Array.from",O)}var F,N;new a,(N=F||(F={}))[N.NotStarted=0]="NotStarted",N[N.Running=1]="Running",N[N.Stopped=2]="Stopped";const P={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},R=1280,L=r.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,R):R,n?Math.min(n,R):R]};let o;const i=new Promise(e=>o=e);return{name:"ReplayCanvas",getOptions(){const{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{const r=new U({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"===typeof e&&(e.__rrweb__=!0)}catch{}}});return o(r),r},...P[e]||P.medium}},async snapshot(e){(await i).snapshot(e)}}});t.replayCanvasIntegration=L},1817:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=r.GLOBAL_OBJ;let i=0;function a(){i++,setTimeout(()=>{i--})}t.WINDOW=o,t.getHttpRequestData=function(){const e=r.getLocationHref(),{referrer:t}=o.document||{},{userAgent:n}=o.navigator||{};return{url:e,headers:{...t&&{Referer:t},...n&&{"User-Agent":n}}}},t.ignoreNextOnError=a,t.shouldIgnoreOnError=function(){return i>0},t.wrap=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(e){return"function"===typeof e}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"===typeof e?e:t;if(r.getOriginalFunction(t))return t}catch{return t}const o=function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];try{const r=i.map(t=>e(t,n));return t.apply(this,r)}catch(l){throw a(),r.withScope(e=>{e.addEventProcessor(e=>(n.mechanism&&(r.addExceptionTypeValue(e,void 0,void 0),r.addExceptionMechanism(e,n.mechanism)),e.extra={...e.extra,arguments:i},e)),r.captureException(l)}),l}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}catch{}r.markFunctionWrapped(o,t),r.addNonEnumerableProperty(t,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>t.name})}catch{}return o}},1820:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(676),o="_sentrySpan";t._getSpanForScope=function(e){return e[o]},t._setSpanForScope=function(e,t){t?r.addNonEnumerableProperty(e,o,t):delete e[o]}},1821:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(6399),i=n(210);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>e&&setTimeout(e,0))}t.extractNetworkProtocol=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}},t.getBrowserPerformanceAPI=function(){return o.WINDOW.addEventListener&&o.WINDOW.performance},t.isMeasurementValue=function(e){return"number"===typeof e&&isFinite(e)},t.listenForWebVitalReportEvents=function(e,t){let n,r=!1;function o(e){!r&&n&&t(e,n),r=!0}i.onHidden(()=>{o("pagehide")});const s=e.on("beforeStartNavigationSpan",(e,t)=>{t?.isRedirect||(o("navigation"),a(s,l))}),l=e.on("afterStartPageLoadSpan",e=>{n=e.spanContext().spanId,a(l)})},t.msToSec=function(e){return e/1e3},t.startAndEndSpan=function(e,t,n,o){let{...i}=o;const a=r.spanToJSON(e).start_timestamp;return a&&a>t&&"function"===typeof e.updateStartTime&&e.updateStartTime(t),r.withActiveSpan(e,()=>{const e=r.startInactiveSpan({startTime:t,...i});return e&&e.end(n),e})},t.startStandaloneWebVitalSpan=function(e){const t=r.getClient();if(!t)return;const{name:n,transaction:i,attributes:a,startTime:s}=e,{release:l,environment:A,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),d=u?.getReplayId(),p=r.getCurrentScope(),h=p.getUser(),f=void 0!==h?h.email||h.id||h.ip_address:void 0;let g;try{g=p.getScopeData().contexts.profile.profile_id}catch{}const m={release:l,environment:A,user:f||void 0,profile_id:g||void 0,replay_id:d||void 0,transaction:i,"user_agent.original":o.WINDOW.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...a};return r.startInactiveSpan({name:n,attributes:m,startTime:s,experimental:{standalone:!0}})},t.supportsWebVital=function(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}},1893:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(4447),a="sentry-",s=/^sentry-/;function l(e){if(e&&(i.isString(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>{const n=A(t);return Object.entries(n).forEach(t=>{let[n,r]=t;e[n]=r}),e},{}):A(e)}function A(e){return e.split(",").map(e=>e.split("=").map(e=>{try{return decodeURIComponent(e.trim())}catch{return}})).reduce((e,t)=>{let[n,r]=t;return n&&r&&(e[n]=r),e},{})}function c(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,t,n)=>{let[i,a]=t;const s=`${encodeURIComponent(i)}=${encodeURIComponent(a)}`,l=0===n?s:`${e},${s}`;return l.length>8192?(r.DEBUG_BUILD&&o.debug.warn(`Not adding key: ${i} with val: ${a} to baggage header due to exceeding baggage size limits.`),e):l},"")}t.MAX_BAGGAGE_STRING_LENGTH=8192,t.SENTRY_BAGGAGE_KEY_PREFIX=a,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=s,t.baggageHeaderToDynamicSamplingContext=function(e){const t=l(e);if(!t)return;const n=Object.entries(t).reduce((e,t)=>{let[n,r]=t;if(n.match(s)){e[n.slice(7)]=r}return e},{});return Object.keys(n).length>0?n:void 0},t.dynamicSamplingContextToSentryBaggageHeader=function(e){if(!e)return;return c(Object.entries(e).reduce((e,t)=>{let[n,r]=t;return r&&(e[`${a}${n}`]=r),e},{}))},t.objectToBaggageHeader=c,t.parseBaggageHeader=l},1988:(e,t,n)=>{"use strict";n.d(t,{DA:()=>c,bW:()=>u,is:()=>d,jj:()=>A,saveBrandSetupDetails:()=>l,savePlanSelectionDetails:()=>s,saveUserProfileDetails:()=>a,vv:()=>o,yi:()=>i});const r=n(377).A.PYTHON_API_URL;console.log("\ud83d\udd25 Initializing new database helpers");const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if("number"!==typeof e||isNaN(e))return`${t}0.00`;return`${t}${parseFloat(e.toFixed(n)).toLocaleString("en-US",{minimumFractionDigits:n,maximumFractionDigits:n})}`},i=(e,t)=>{if("number"!==typeof e||"number"!==typeof t)return 0;return parseFloat((e*t).toFixed(2))},a=async(e,t)=>{const n={userId:e,timestamp:(new Date).toISOString(),userProfile:t,metadata:{source:"frontend",version:"1.0"}},o=await fetch(`${r}/UserProfileDetails`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!o.ok)throw new Error(`HTTP ${o.status}`);return!0},s=async(e,t)=>{const n=new FormData;n.append("userId",e),n.append("planId",t.planId||""),n.append("planName",t.planName||""),n.append("paymentId",t.paymentId||""),n.append("paymentStatus",t.paymentStatus||"pending"),n.append("subscriptionType",t.subscriptionType||"new"),n.append("subscriptionStartDate",t.subscriptionStartDate?t.subscriptionStartDate instanceof Date?t.subscriptionStartDate.toISOString():t.subscriptionStartDate:""),n.append("subscriptionEndDate",t.subscriptionEndDate?t.subscriptionEndDate instanceof Date?t.subscriptionEndDate.toISOString():t.subscriptionEndDate:""),n.append("totalPrice",String(t.totalPrice||0)),n.append("basePrice",String(t.basePrice||0)),n.append("additionalAdPrice4",String(t.additionalAdPrice||0)),n.append("totalAds",String(t.totalAds||1)),n.append("validityDays",String(t.validityDays||30)),n.append("isActive",String(!1!==t.isActive)),n.append("selectedFeatures",Array.isArray(t.selectedFeatures)?t.selectedFeatures.join(","):""),n.append("createdAt",t.createdAt||(new Date).toISOString()),n.append("updatedAt",(new Date).toISOString()),n.append("max_ads_per_month",String(t.max_ads_per_month||4));const o=await fetch(`${r}/save-plan-selection`,{method:"POST",body:n});if(!o.ok)throw new Error(`HTTP ${o.status}`);return!0},l=async(e,t)=>{var n;const o=new FormData;o.append("userId",e),o.append("timestamp",(new Date).toISOString()),o.append("brandName",t.brandName||""),o.append("tagline",t.tagline||""),o.append("brandDescription",t.brandDescription||""),o.append("industryCategory",t.industryCategory||""),o.append("targetAudience",t.targetAudience||""),o.append("primaryColor",t.primaryColor||""),o.append("secondaryColor",t.secondaryColor||""),o.append("accentColor",t.accentColor||""),o.append("colorPalette",JSON.stringify(t.colorPalette||[])),o.append("toneOfVoice",t.toneOfVoice||""),o.append("customTone",t.customTone||""),o.append("communicationStyle",t.communicationStyle||""),o.append("brandVoice",t.brandVoice||""),o.append("keyMessages",JSON.stringify(t.keyMessages||[])),o.append("isComplete",String(null===(n=t.isComplete)||void 0===n||n)),o.append("completionPercentage",String(t.completionPercentage||100)),o.append("lastUpdated",(new Date).toISOString()),o.append("dataVersion","1.0"),o.append("source","brand-setup"),o.append("apiEndpoint","branddata-form"),o.append("submissionSource","frontend"),o.append("systemMetadata",JSON.stringify({savedVia:"frontend",ts:Date.now()}));const i=Array.isArray(t.logos)?t.logos:t.logo?[t.logo]:[],a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logo.png";try{if(e instanceof File)return e;if((null===e||void 0===e?void 0:e.file)instanceof File)return e.file;const n=(null===e||void 0===e?void 0:e.preview)||(null===e||void 0===e?void 0:e.dataUrl)||(null===e||void 0===e?void 0:e.url);if("string"===typeof n&&n.startsWith("data:")){const[e,r]=n.split(","),o=e.match(/data:(.*?);/),i=o&&o[1]||"image/png",a=atob(r),s=new Uint8Array(a.length);for(let t=0;t<a.length;t++)s[t]=a.charCodeAt(t);return new File([s],t,{type:i})}}catch{}return null},s=Math.min(i.length,3);for(let r=0;r<s;r++){const e=a(i[r],`logoFiles_${r}.png`);e&&(o.append(`logoFiles_${r}`,e,e.name||`logoFiles_${r}.png`),o.append(`logoFiles_${r}_metadata`,JSON.stringify({name:e.name,size:e.size,type:e.type})))}o.append("logoCount",String(s||0));const l=await fetch(`${r}/branddata-form`,{method:"POST",body:o});if(!l.ok)throw new Error(`HTTP ${l.status}`);return!0},A=async()=>{throw new Error("saveUserFile disabled on frontend. Use server-side storage via app.py endpoints.")},c=async function(e){let{fileType:t,limit:n=50}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Missing userId");const o=new URLSearchParams;t&&o.set("fileType",t),n&&o.set("limit",String(n));const i=`${r}/get-user-files/${encodeURIComponent(e)}${o.toString()?`?${o.toString()}`:""}`,a=await fetch(i,{headers:{Accept:"application/json"}});if(404===a.status)return[];if(!a.ok){let e=`HTTP ${a.status}`;try{const t=await a.json();null!==t&&void 0!==t&&t.detail&&(e+=`: ${t.detail}`)}catch{}throw new Error(e)}const s=await a.json();return Array.isArray(s.files)?s.files:[]},u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new Error("Missing fileId");const n=[t?`${r}/delete-user-file/${encodeURIComponent(t)}/${encodeURIComponent(e)}`:null,`${r}/delete-file/${encodeURIComponent(e)}`].filter(Boolean);console.log("\ud83d\uddd1\ufe0f Attempting to delete file with ID:",e),console.log("\ud83d\uddd1\ufe0f Will try endpoints:",n);for(const r of n){console.log("\ud83d\uddd1\ufe0f Trying endpoint:",r);try{const e=await fetch(r,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("\ud83d\uddd1\ufe0f Response status:",e.status,"for URL:",r),404===e.status){console.log("\ud83d\uddd1\ufe0f Endpoint not found, trying next...");continue}if(!e.ok){let t=`HTTP ${e.status}`;try{const n=await e.json();console.log("\ud83d\uddd1\ufe0f Error response:",n),null!==n&&void 0!==n&&n.detail&&(t+=`: ${n.detail}`),null!==n&&void 0!==n&&n.error&&(t+=`: ${n.error}`)}catch{}throw new Error(t)}const t=await e.json();return console.log("\ud83d\uddd1\ufe0f Delete successful via:",r,t),t}catch(o){if(o.message.includes("HTTP"))throw o;console.log("\ud83d\uddd1\ufe0f Network error for",r,":",o.message);continue}}throw new Error("All delete endpoints failed. Available endpoints in backend: /delete-user-file/{user_id}/{file_id}, /delete-file/{file_id}, /delete-media-file/{brand_id}/{file_id}")},d=async()=>{throw new Error("addSampleUserFiles disabled")}},1989:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447);t.handleCallbackErrors=function(e,t){let n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};try{n=e()}catch(i){throw t(i),o(),i}return function(e,t,n){if(r.isThenable(e))return e.then(e=>(n(),e),e=>{throw t(e),n(),e});return n(),e}(n,t,o)}},1992:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399);t.whenActivated=e=>{r.WINDOW.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()}},2019:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.merge=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!n||"object"!==typeof n||r<=0)return n;if(t&&0===Object.keys(n).length)return t;const o={...t};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=e(o[i],n[i],r-1));return o}},2040:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(3348),i=n(5613),a=n(9262);t.setMeasurement=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.getActiveSpan();const l=s&&a.getRootSpan(s);l&&(r.DEBUG_BUILD&&i.debug.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),l.addEvent(e,{[o.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t,[o.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:n}))},t.timedEventsToMeasurements=function(e){if(!e||0===e.length)return;const t={};return e.forEach(e=>{const n=e.attributes||{},r=n[o.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],i=n[o.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];"string"===typeof r&&"number"===typeof i&&(t[e.name]={value:i,unit:r})}),t}},2051:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t,n){let r,o,i;const a=n?.maxWait?Math.max(n.maxWait,t):0,s=n?.setTimeoutImpl||setTimeout;function l(){return A(),r=e(),r}function A(){void 0!==o&&clearTimeout(o),void 0!==i&&clearTimeout(i),o=i=void 0}function c(){return o&&clearTimeout(o),o=s(l,t),a&&void 0===i&&(i=s(l,a)),r}return c.cancel=A,c.flush=function(){return void 0!==o||void 0!==i?l():r},c}},2109:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(9262);t.logSpanEnd=function(e){if(!r.DEBUG_BUILD)return;const{description:t="< unknown name >",op:n="< unknown op >"}=i.spanToJSON(e),{spanId:a}=e.spanContext(),s=`[Tracing] Finishing "${n}" ${i.getRootSpan(e)===e?"root ":""}span "${t}" with ID ${a}`;o.debug.log(s)},t.logSpanStart=function(e){if(!r.DEBUG_BUILD)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:a}=i.spanToJSON(e),{spanId:s}=e.spanContext(),l=i.spanIsSampled(e),A=i.getRootSpan(e),c=A===e,u=`[Tracing] Starting ${l?"sampled":"unsampled"} ${c?"root ":""}span`,d=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(a&&d.push(`parent ID: ${a}`),!c){const{op:e,description:t}=i.spanToJSON(A);d.push(`root ID: ${A.spanContext().spanId}`),e&&d.push(`root op: ${e}`),t&&d.push(`root description: ${t}`)}o.debug.log(`${u}\n  ${d.join("\n  ")}`)}},2149:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5613),o=n(1893),i=n(8802),a=n(7948),s=n(6586),l=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function A(e){if(!e)return;const t=e.match(l);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}t.TRACEPARENT_REGEXP=l,t.extractTraceparentData=A,t.generateSentryTraceHeader=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.generateTraceId(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.generateSpanId(),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`},t.propagationContextFromHeaders=function(e,t){const n=A(e),r=o.baggageHeaderToDynamicSamplingContext(t);if(!n?.traceId)return{traceId:s.generateTraceId(),sampleRand:Math.random()};const i=function(e,t){const n=a.parseSampleRate(t?.sample_rand);if(void 0!==n)return n;const r=a.parseSampleRate(t?.sample_rate);return r&&void 0!==e?.parentSampled?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=i.toString());const{traceId:l,parentSpanId:c,parentSampled:u}=n;return{traceId:l,parentSpanId:c,sampled:u,dsc:r||{},sampleRand:i}},t.shouldContinueTrace=function(e,t){const n=i.extractOrgIdFromClient(e);return t&&n&&t!==n?(r.debug.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):!(e.getOptions().strictTraceContinuation||!1)||!(t&&!n||!t&&n)||(r.debug.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1)}},2154:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(5866),i=n(6624),a=n(2729),s=n(8232),l=n(9867),A=n(3462),c=n(427);function u(e,t,n){if(!t||"object"!==typeof t)return;const r=t;if(c.isChatCompletionResponse(r)){if(function(e,t,n){if(c.setCommonResponseAttributes(e,t.id,t.model,t.created),t.usage&&c.setTokenUsageAttributes(e,t.usage.prompt_tokens,t.usage.completion_tokens,t.usage.total_tokens),Array.isArray(t.choices)){const r=t.choices.map(e=>e.finish_reason).filter(e=>null!==e);if(r.length>0&&e.setAttributes({[s.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(r)}),n){const n=t.choices.map(e=>e.message?.tool_calls).filter(e=>Array.isArray(e)&&e.length>0).flat();n.length>0&&e.setAttributes({[s.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(n)})}}}(e,r,n),n&&r.choices?.length){const t=r.choices.map(e=>e.message?.content||"");e.setAttributes({[s.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:JSON.stringify(t)})}}else c.isResponsesApiResponse(r)&&(!function(e,t,n){if(c.setCommonResponseAttributes(e,t.id,t.model,t.created_at),t.status&&e.setAttributes({[s.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify([t.status])}),t.usage&&c.setTokenUsageAttributes(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.total_tokens),n){const n=t;if(Array.isArray(n.output)&&n.output.length>0){const t=n.output.filter(e=>"object"===typeof e&&null!==e&&"function_call"===e.type);t.length>0&&e.setAttributes({[s.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(t)})}}}(e,r,n),n&&r.output_text&&e.setAttributes({[s.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:r.output_text}))}function d(e,t){"messages"in t&&e.setAttributes({[s.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:JSON.stringify(t.messages)}),"input"in t&&e.setAttributes({[s.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE]:JSON.stringify(t.input)})}function p(e,t,n,p){return async function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];const m=p||function(){const e=r.getCurrentScope().getClient(),t=e?.getIntegrationByName(l.OPENAI_INTEGRATION_NAME),n=!!t&&Boolean(e?.getOptions().sendDefaultPii);return{recordInputs:t?.options?.recordInputs??n,recordOutputs:t?.options?.recordOutputs??n}}(),y=function(e,t){const n={[s.GEN_AI_SYSTEM_ATTRIBUTE]:"openai",[s.GEN_AI_OPERATION_NAME_ATTRIBUTE]:c.getOperationName(t)};if(e.length>0&&"object"===typeof e[0]&&null!==e[0]){const t=e[0],r=[...Array.isArray(t.tools)?t.tools:[],...t.web_search_options&&"object"===typeof t.web_search_options?[{type:"web_search_options",...t.web_search_options}]:[]];r.length>0&&(n[s.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE]=JSON.stringify(r))}if(e.length>0&&"object"===typeof e[0]&&null!==e[0]){const t=e[0];n[s.GEN_AI_REQUEST_MODEL_ATTRIBUTE]=t.model??"unknown","temperature"in t&&(n[s.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE]=t.temperature),"top_p"in t&&(n[s.GEN_AI_REQUEST_TOP_P_ATTRIBUTE]=t.top_p),"frequency_penalty"in t&&(n[s.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE]=t.frequency_penalty),"presence_penalty"in t&&(n[s.GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE]=t.presence_penalty),"stream"in t&&(n[s.GEN_AI_REQUEST_STREAM_ATTRIBUTE]=t.stream)}else n[s.GEN_AI_REQUEST_MODEL_ATTRIBUTE]="unknown";return n}(f,t),v=y[s.GEN_AI_REQUEST_MODEL_ATTRIBUTE]||"unknown",b=c.getOperationName(t),w=f[0];return w&&"object"===typeof w&&!0===w.stream?a.startSpanManual({name:`${b} ${v} stream-response`,op:c.getSpanOperation(t),attributes:y},async t=>{try{m.recordInputs&&f[0]&&"object"===typeof f[0]&&d(t,f[0]);const r=await e.apply(n,f);return A.instrumentStream(r,t,m.recordOutputs??!1)}catch(r){throw t.setStatus({code:i.SPAN_STATUS_ERROR,message:"internal_error"}),o.captureException(r,{mechanism:{handled:!1}}),t.end(),r}}):a.startSpan({name:`${b} ${v}`,op:c.getSpanOperation(t),attributes:y},async t=>{try{m.recordInputs&&f[0]&&"object"===typeof f[0]&&d(t,f[0]);const r=await e.apply(n,f);return u(t,r,m.recordOutputs),r}catch(r){throw o.captureException(r),r}})}}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return new Proxy(e,{get(e,r){const o=e[r],i=c.buildMethodPath(t,String(r));return"function"===typeof o&&c.shouldInstrument(i)?p(o,i,e,n):"function"===typeof o?o.bind(e):o&&"object"===typeof o?h(o,i,n):o}})}t.instrumentOpenAiClient=function(e,t){return h(e,"",t)}},2196:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4283),o=n(4937),i=n(1094),a=n(3971),s=n(5613),l=n(5260),A=n(7778),c=n(7752),u=a.defineIntegration(function(){const e=new Set((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).levels||s.CONSOLE_LEVELS);return{name:"Console",setup(t){i.addConsoleInstrumentationHandler(n=>{let{args:r,level:i}=n;o.getClient()===t&&e.has(i)&&d(i,r)})}}});function d(e,t){const n={category:"console",data:{arguments:t,logger:"console"},level:l.severityLevelFromString(e),message:p(t)};if("assert"===e){if(!1!==t[0])return;{const e=t.slice(1);n.message=e.length>0?`Assertion failed: ${p(e)}`:"Assertion failed",n.data.arguments=e}}r.addBreadcrumb(n,{input:t,level:e})}function p(e){return"util"in c.GLOBAL_OBJ&&"function"===typeof c.GLOBAL_OBJ.util.format?c.GLOBAL_OBJ.util.format(...e):A.safeJoin(e," ")}t.addConsoleBreadcrumb=d,t.consoleIntegration=u},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2291:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399),o=n(6185),i=n(693),a=n(2642),s=n(2426),l=n(7751),A=n(687),c=n(3997),u=[.1,.25];t.CLSThresholds=u,t.onCLS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c.onFCP(A.runOnce(()=>{const n=i.initMetric("CLS",0);let A;const c=a.initUnique(t,s.LayoutShiftManager),d=e=>{for(const t of e)c._processEntry(t);c._sessionValue>n.value&&(n.value=c._sessionValue,n.entries=c._sessionEntries,A())},p=l.observe("layout-shift",d);p&&(A=o.bindReporter(e,n,u,t.reportAllChanges),r.WINDOW.document?.addEventListener("visibilitychange",()=>{"hidden"===r.WINDOW.document?.visibilityState&&(d(p.takeRecords()),A(!0))}),r.WINDOW?.setTimeout?.(A))}))}},2349:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.AI_MODEL_ID_ATTRIBUTE="ai.model.id",t.AI_MODEL_PROVIDER_ATTRIBUTE="ai.model.provider",t.AI_PROMPT_ATTRIBUTE="ai.prompt",t.AI_PROMPT_MESSAGES_ATTRIBUTE="ai.prompt.messages",t.AI_PROMPT_TOOLS_ATTRIBUTE="ai.prompt.tools",t.AI_RESPONSE_OBJECT_ATTRIBUTE="ai.response.object",t.AI_RESPONSE_PROVIDER_METADATA_ATTRIBUTE="ai.response.providerMetadata",t.AI_RESPONSE_TEXT_ATTRIBUTE="ai.response.text",t.AI_RESPONSE_TOOL_CALLS_ATTRIBUTE="ai.response.toolCalls",t.AI_TELEMETRY_FUNCTION_ID_ATTRIBUTE="ai.telemetry.functionId",t.AI_TOOL_CALL_ARGS_ATTRIBUTE="ai.toolCall.args",t.AI_TOOL_CALL_ID_ATTRIBUTE="ai.toolCall.id",t.AI_TOOL_CALL_NAME_ATTRIBUTE="ai.toolCall.name",t.AI_TOOL_CALL_RESULT_ATTRIBUTE="ai.toolCall.result",t.AI_USAGE_COMPLETION_TOKENS_ATTRIBUTE="ai.usage.completionTokens",t.AI_USAGE_PROMPT_TOKENS_ATTRIBUTE="ai.usage.promptTokens",t.GEN_AI_RESPONSE_MODEL_ATTRIBUTE="gen_ai.response.model",t.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE="gen_ai.usage.input_tokens",t.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE="gen_ai.usage.output_tokens"},2394:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3344),o=n(4937),i=n(9160),a=n(7745),s=n(304),l=n(3647),A=n(7287),c=n(9288),u=n(7778),d=n(4082);function p(e,t){const{environment:n,release:o,dist:i,maxValueLength:a=250}=t;e.environment=e.environment||n||r.DEFAULT_ENVIRONMENT,!e.release&&o&&(e.release=o),!e.dist&&i&&(e.dist=i);const s=e.request;s?.url&&(s.url=u.truncate(s.url,a))}function h(e,t){const n=l.getFilenameToDebugIdMap(t);e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.filename&&(e.debug_id=n[e.filename])})})}function f(e){const t={};if(e.exception?.values?.forEach(e=>{e.stacktrace?.frames?.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})}),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(e=>{let[t,r]=e;n.push({type:"sourcemap",code_file:t,debug_id:r})})}function g(e,t){if(!t)return e;const n=e?e.clone():new a.Scope;return n.update(t),n}const m=["user","level","extra","contexts","tags","fingerprint","propagationContext"];t.applyClientOptions=p,t.applyDebugIds=h,t.applyDebugMeta=f,t.parseEventHintOrCaptureContext=function(e){if(e)return function(e){return e instanceof a.Scope||"function"===typeof e}(e)||function(e){return Object.keys(e).some(e=>m.includes(e))}(e)?{captureContext:e}:e},t.prepareEvent=function(e,t,n,r,a,l){const{normalizeDepth:u=3,normalizeMaxBreadth:m=1e3}=e,y={...t,event_id:t.event_id||n.event_id||A.uuid4(),timestamp:t.timestamp||d.dateTimestampInSeconds()},v=n.integrations||e.integrations.map(e=>e.name);p(y,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(y,v),a&&a.emit("applyFrameMetadata",t),void 0===t.type&&h(y,e.stackParser);const b=g(r,n.captureContext);n.mechanism&&A.addExceptionMechanism(y,n.mechanism);const w=a?a.getEventProcessors():[],S=o.getGlobalScope().getScopeData();if(l){const e=l.getScopeData();s.mergeScopeData(S,e)}if(b){const e=b.getScopeData();s.mergeScopeData(S,e)}const _=[...n.attachments||[],...S.attachments];_.length&&(n.attachments=_),s.applyScopeDataToEvent(y,S);const B=[...w,...S.eventProcessors];return i.notifyEventProcessors(B,y,n).then(e=>(e&&f(e),"number"===typeof u&&u>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:c.normalize(e.data,t,n)}}))},...e.user&&{user:c.normalize(e.user,t,n)},...e.contexts&&{contexts:c.normalize(e.contexts,t,n)},...e.extra&&{extra:c.normalize(e.extra,t,n)}};e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=c.normalize(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:c.normalize(e.data,t,n)}})));e.contexts?.flags&&r.contexts&&(r.contexts.flags=c.normalize(e.contexts.flags,3,n));return r}(e,u,m):e))}},2399:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(1817),i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=r.defineIntegration(function(){const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&r.fill(o.WINDOW,"setTimeout",s),e.setInterval&&r.fill(o.WINDOW,"setInterval",s),e.requestAnimationFrame&&r.fill(o.WINDOW,"requestAnimationFrame",l),e.XMLHttpRequest&&"XMLHttpRequest"in o.WINDOW&&r.fill(XMLHttpRequest.prototype,"send",A);const t=e.eventTarget;if(t){(Array.isArray(t)?t:i).forEach(t=>function(e,t){const n=o.WINDOW,i=n[e]?.prototype;if(!i?.hasOwnProperty?.("addEventListener"))return;r.fill(i,"addEventListener",function(n){return function(i,a,s){try{"function"===typeof a.handleEvent&&(a.handleEvent=o.wrap(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:r.getFunctionName(a),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&function(e,t,n){e&&"object"===typeof e&&"removeEventListener"in e&&"function"===typeof e.removeEventListener&&e.removeEventListener(t,n)}(this,i,a),n.apply(this,[i,o.wrap(a,{mechanism:{data:{function:"addEventListener",handler:r.getFunctionName(a),target:e},handled:!1,type:"instrument"}}),s])}}),r.fill(i,"removeEventListener",function(e){return function(t,n,r){try{const o=n.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch{}return e.call(this,t,n,r)}})}(t,e))}}}});function s(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const a=n[0];return n[0]=o.wrap(a,{mechanism:{data:{function:r.getFunctionName(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function l(e){return function(t){return e.apply(this,[o.wrap(t,{mechanism:{data:{function:"requestAnimationFrame",handler:r.getFunctionName(e)},handled:!1,type:"instrument"}})])}}function A(e){return function(){const t=this;["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in t&&"function"===typeof t[e]&&r.fill(t,e,function(t){const n={mechanism:{data:{function:e,handler:r.getFunctionName(t)},handled:!1,type:"instrument"}},i=r.getOriginalFunction(t);return i&&(n.mechanism.data.handler=r.getFunctionName(i)),o.wrap(t,n)})});for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,i)}}t.browserApiErrorsIntegration=a},2422:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1817);t.checkAndWarnIfIsEmbeddedBrowserExtension=function(){return!!function(){if("undefined"===typeof i.WINDOW.window)return!1;const e=i.WINDOW;if(e.nw)return!1;const t=e.chrome||e.browser;if(!t?.runtime?.id)return!1;const n=r.getLocationHref(),o=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(i.WINDOW===i.WINDOW.top&&o.some(e=>n.startsWith(`${e}://`)))}()&&(o.DEBUG_BUILD&&r.consoleSandbox(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0)}},2426:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});class n{constructor(){n.prototype.__init.call(this),n.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const t=this._sessionEntries[0],n=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}t.LayoutShiftManager=n},2442:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getBreadcrumbLogLevelFromHttpStatusCode=function(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}},2529:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9153),o=n(8802),i=n(7379);function a(e,t){let n;return i.forEachEnvelopeItem(e,(e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n)),n}function s(e,t){return i.createEnvelope(t?{...e[0],dsn:t}:e[0],e[1])}t.eventFromEnvelope=a,t.makeMultiplexedTransport=function(e,t){return n=>{const i=e(n),l=new Map;function A(t,i){const s=i?`${t}:${i}`:t;let A=l.get(s);if(!A){const c=o.dsnFromString(t);if(!c)return;const u=r.getEnvelopeEndpointWithUrlEncodedAuth(c,n.tunnel);A=i?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=a(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,i)({...n,url:u}):e({...n,url:u}),l.set(s,A)}return[t,A]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){return a(e,t?.length?t:["event"])}}).map(e=>"string"===typeof e?A(e,void 0):A(e.dsn,e.release)).filter(e=>!!e),r=n.length?n:[["",i]],o=await Promise.all(r.map(t=>{let[n,r]=t;return r.send(s(e,n))}));return o[0]},flush:async function(e){const t=[...l.values(),i];return(await Promise.all(t.map(t=>t.flush(e)))).every(e=>e)}}}}},2539:()=>{const e=window.WebSocket;window.WebSocket=function(){return console.log("\u26a0\ufe0f WebSocket connection attempt blocked by configuration"),{send:()=>{},close:()=>{},addEventListener:()=>{},removeEventListener:()=>{},readyState:3}},window.WebSocket._original=e,window.enableWebSocket=function(){window.WebSocket=window.WebSocket._original,console.log("\u2705 WebSocket functionality restored")},console.log("\ud83d\udeab WebSocket connections disabled")},2547:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(1094),a=n(3971),s=n(3348),l=n(5613),A=n(4447),c=n(9288),u=n(7752),d=n(6858),p={[s.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.console.logging"},h=a.defineIntegration(function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).levels||l.CONSOLE_LEVELS;return{name:"ConsoleLogs",setup(t){const{enableLogs:n,normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=t.getOptions();n?i.addConsoleInstrumentationHandler(n=>{let{args:o,level:i}=n;if(r.getClient()!==t||!e.includes(i))return;if("assert"===i){if(!o[0]){const e=o.slice(1),t=e.length>0?`Assertion failed: ${f(e,a,s)}`:"Assertion failed";d._INTERNAL_captureLog({level:"error",message:t,attributes:p})}return}const l="log"===i;d._INTERNAL_captureLog({level:l?"info":i,message:f(o,a,s),severityNumber:l?10:void 0,attributes:p})}):o.DEBUG_BUILD&&l.debug.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled")}}});function f(e,t,n){return"util"in u.GLOBAL_OBJ&&"function"===typeof u.GLOBAL_OBJ.util.format?u.GLOBAL_OBJ.util.format(...e):function(e,t,n){return e.map(e=>A.isPrimitive(e)?String(e):JSON.stringify(c.normalize(e,t,n))).join(" ")}(e,t,n)}t.consoleLoggingIntegration=h},2556:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2893),o=n(9326),i=n(9638),a=n(8425),s=n(1817),l=n(7317),A=n(8751),c=n(509),u=n(1789),d=n(6702),p=n(2924),h=n(6497),f=n(8772),g=n(7446),m=n(7245),y=n(658),v=n(2399),b=n(778),w=n(1766),S=n(1787),_=n(6842),B=n(8e3),C=n(475),E=n(1798),x=n(883),I=n(7128),T=n(5205),k=n(3396),U=n(8295),F=n(5865),N=n(6208),P=n(101),R=n(7481),L=n(3915),O=n(5392),D=n(7911),M=n(3082);t.feedbackAsyncIntegration=r.feedbackAsyncIntegration,t.feedbackIntegration=o.feedbackSyncIntegration,t.feedbackSyncIntegration=o.feedbackSyncIntegration,t.logger=i,t.SDK_VERSION=a.SDK_VERSION,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=a.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=a.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.Scope=a.Scope,t.addBreadcrumb=a.addBreadcrumb,t.addEventProcessor=a.addEventProcessor,t.addIntegration=a.addIntegration,t.captureConsoleIntegration=a.captureConsoleIntegration,t.captureEvent=a.captureEvent,t.captureException=a.captureException,t.captureFeedback=a.captureFeedback,t.captureMessage=a.captureMessage,t.captureSession=a.captureSession,t.close=a.close,t.consoleLoggingIntegration=a.consoleLoggingIntegration,t.continueTrace=a.continueTrace,t.createTransport=a.createTransport,t.dedupeIntegration=a.dedupeIntegration,t.endSession=a.endSession,t.eventFiltersIntegration=a.eventFiltersIntegration,t.extraErrorDataIntegration=a.extraErrorDataIntegration,t.featureFlagsIntegration=a.featureFlagsIntegration,t.flush=a.flush,t.functionToStringIntegration=a.functionToStringIntegration,t.getActiveSpan=a.getActiveSpan,t.getClient=a.getClient,t.getCurrentScope=a.getCurrentScope,t.getGlobalScope=a.getGlobalScope,t.getIsolationScope=a.getIsolationScope,t.getRootSpan=a.getRootSpan,t.getSpanDescendants=a.getSpanDescendants,t.getSpanStatusFromHttpCode=a.getSpanStatusFromHttpCode,t.getTraceData=a.getTraceData,t.inboundFiltersIntegration=a.inboundFiltersIntegration,t.instrumentSupabaseClient=a.instrumentSupabaseClient,t.isEnabled=a.isEnabled,t.isInitialized=a.isInitialized,t.lastEventId=a.lastEventId,t.makeMultiplexedTransport=a.makeMultiplexedTransport,t.moduleMetadataIntegration=a.moduleMetadataIntegration,t.parameterize=a.parameterize,t.registerSpanErrorInstrumentation=a.registerSpanErrorInstrumentation,t.rewriteFramesIntegration=a.rewriteFramesIntegration,t.setContext=a.setContext,t.setCurrentClient=a.setCurrentClient,t.setExtra=a.setExtra,t.setExtras=a.setExtras,t.setHttpStatus=a.setHttpStatus,t.setMeasurement=a.setMeasurement,t.setTag=a.setTag,t.setTags=a.setTags,t.setUser=a.setUser,t.spanToBaggageHeader=a.spanToBaggageHeader,t.spanToJSON=a.spanToJSON,t.spanToTraceHeader=a.spanToTraceHeader,t.startInactiveSpan=a.startInactiveSpan,t.startNewTrace=a.startNewTrace,t.startSession=a.startSession,t.startSpan=a.startSpan,t.startSpanManual=a.startSpanManual,t.supabaseIntegration=a.supabaseIntegration,t.suppressTracing=a.suppressTracing,t.thirdPartyErrorFilterIntegration=a.thirdPartyErrorFilterIntegration,t.updateSpanName=a.updateSpanName,t.withActiveSpan=a.withActiveSpan,t.withIsolationScope=a.withIsolationScope,t.withScope=a.withScope,t.zodErrorsIntegration=a.zodErrorsIntegration,t.WINDOW=s.WINDOW,t.BrowserClient=l.BrowserClient,t.makeFetchTransport=A.makeFetchTransport,t.chromeStackLineParser=c.chromeStackLineParser,t.defaultStackLineParsers=c.defaultStackLineParsers,t.defaultStackParser=c.defaultStackParser,t.geckoStackLineParser=c.geckoStackLineParser,t.opera10StackLineParser=c.opera10StackLineParser,t.opera11StackLineParser=c.opera11StackLineParser,t.winjsStackLineParser=c.winjsStackLineParser,t.eventFromException=u.eventFromException,t.eventFromMessage=u.eventFromMessage,t.exceptionFromError=u.exceptionFromError,t.createUserFeedbackEnvelope=d.createUserFeedbackEnvelope,t.forceLoad=p.forceLoad,t.getDefaultIntegrations=p.getDefaultIntegrations,t.init=p.init,t.onLoad=p.onLoad,t.showReportDialog=h.showReportDialog,t.breadcrumbsIntegration=f.breadcrumbsIntegration,t.globalHandlersIntegration=g.globalHandlersIntegration,t.httpContextIntegration=m.httpContextIntegration,t.linkedErrorsIntegration=y.linkedErrorsIntegration,t.browserApiErrorsIntegration=v.browserApiErrorsIntegration,t.lazyLoadIntegration=b.lazyLoadIntegration,t.reportingObserverIntegration=w.reportingObserverIntegration,t.httpClientIntegration=S.httpClientIntegration,t.contextLinesIntegration=_.contextLinesIntegration,t.graphqlClientIntegration=B.graphqlClientIntegration,t.getReplay=C.getReplay,t.replayIntegration=C.replayIntegration,t.replayCanvasIntegration=E.replayCanvasIntegration,t.getFeedback=x.getFeedback,t.sendFeedback=x.sendFeedback,t.defaultRequestInstrumentationOptions=I.defaultRequestInstrumentationOptions,t.instrumentOutgoingRequests=I.instrumentOutgoingRequests,t.browserTracingIntegration=T.browserTracingIntegration,t.startBrowserTracingNavigationSpan=T.startBrowserTracingNavigationSpan,t.startBrowserTracingPageLoadSpan=T.startBrowserTracingPageLoadSpan,t.makeBrowserOfflineTransport=k.makeBrowserOfflineTransport,t.browserProfilingIntegration=U.browserProfilingIntegration,t.spotlightBrowserIntegration=F.spotlightBrowserIntegration,t.browserSessionIntegration=N.browserSessionIntegration,t.buildLaunchDarklyFlagUsedHandler=P.buildLaunchDarklyFlagUsedHandler,t.launchDarklyIntegration=P.launchDarklyIntegration,t.OpenFeatureIntegrationHook=R.OpenFeatureIntegrationHook,t.openFeatureIntegration=R.openFeatureIntegration,t.unleashIntegration=L.unleashIntegration,t.statsigIntegration=O.statsigIntegration,t.diagnoseSdkConnectivity=D.diagnoseSdkConnectivity,t.registerWebWorker=M.registerWebWorker,t.webWorkerIntegration=M.webWorkerIntegration},2561:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1817),a=n(1672);t.startProfileForSpan=function(e){let t;a.isAutomatedPageLoadSpan(e)&&(t=1e3*r.timestampInSeconds());const n=a.startJSSelfProfile();if(!n)return;o.DEBUG_BUILD&&r.debug.log(`[Profiling] started profiling span: ${r.spanToJSON(e).description}`);const s=r.uuid4();async function l(){if(e&&n)return n.stop().then(t=>{A&&(i.WINDOW.clearTimeout(A),A=void 0),o.DEBUG_BUILD&&r.debug.log(`[Profiling] stopped profiling of span: ${r.spanToJSON(e).description}`),t?a.addProfileToGlobalCache(s,t):o.DEBUG_BUILD&&r.debug.log(`[Profiling] profiler returned null profile for: ${r.spanToJSON(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started")}).catch(e=>{o.DEBUG_BUILD&&r.debug.log("[Profiling] error while stopping profiler:",e)})}r.getCurrentScope().setContext("profile",{profile_id:s,start_timestamp:t});let A=i.WINDOW.setTimeout(()=>{o.DEBUG_BUILD&&r.debug.log("[Profiling] max profile duration elapsed, stopping profiling for:",r.spanToJSON(e).description),l()},a.MAX_PROFILE_DURATION_MS);const c=e.end.bind(e);e.end=function(){return e?(l().then(()=>{c()},()=>{c()}),e):c()}}},2580:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425),i=n(5043),a=n(5304),s=n(3600),l="unknown";class A extends i.Component{constructor(e){super(e);const{name:t,disabled:n=!1}=this.props;n||(this._mountSpan=r.startInactiveSpan({name:`<${t}>`,onlyIfParent:!0,op:a.REACT_MOUNT_OP,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.react.profiler","ui.component_name":t}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate(e){let{updateProps:t,includeUpdates:n=!0}=e;if(n&&this._mountSpan&&t!==this.props.updateProps){const e=Object.keys(t).filter(e=>t[e]!==this.props.updateProps[e]);if(e.length>0){const t=o.timestampInSeconds();this._updateSpan=o.withActiveSpan(this._mountSpan,()=>r.startInactiveSpan({name:`<${this.props.name}>`,onlyIfParent:!0,op:a.REACT_UPDATE_OP,startTime:t,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":e}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const e=o.timestampInSeconds(),{name:t,includeRender:n=!0}=this.props;if(this._mountSpan&&n){const n=o.spanToJSON(this._mountSpan).timestamp;o.withActiveSpan(this._mountSpan,()=>{const i=r.startInactiveSpan({onlyIfParent:!0,name:`<${t}>`,op:a.REACT_RENDER_OP,startTime:n,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.react.profiler","ui.component_name":t}});i&&i.end(e)})}}render(){return this.props.children}}Object.assign(A,{defaultProps:{disabled:!1,includeRender:!0,includeUpdates:!0}}),t.Profiler=A,t.UNKNOWN_COMPONENT=l,t.useProfiler=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{disabled:!1,hasRenderSpan:!0};const[n]=i.useState(()=>{if(!t?.disabled)return r.startInactiveSpan({name:`<${e}>`,onlyIfParent:!0,op:a.REACT_MOUNT_OP,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.react.profiler","ui.component_name":e}})});i.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const t=o.spanToJSON(n).timestamp,i=o.timestampInSeconds(),s=r.startInactiveSpan({name:`<${e}>`,onlyIfParent:!0,op:a.REACT_RENDER_OP,startTime:t,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.react.profiler","ui.component_name":e}});s&&s.end(i)}}),[])},t.withProfiler=function(e,t){const n=t?.name||e.displayName||e.name||l,r=r=>i.createElement(A,{...t,name:n,updateProps:r},i.createElement(e,{...r}));return r.displayName=`profiler(${n})`,s.hoistNonReactStatics(r,e),r}},2642:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=new WeakMap;t.initUnique=function(e,t){return n.get(e)||n.set(e,new t),n.get(e)}},2676:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399),o=n(6185),i=n(8395),a=n(8011),s=n(693),l=n(2642),A=n(2843),c=n(7751),u=n(687),d=n(1992),p=n(5880),h=[2500,4e3];t.LCPThresholds=h,t.onLCP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d.whenActivated(()=>{const n=a.getVisibilityWatcher(),d=s.initMetric("LCP");let f;const g=l.initUnique(t,A.LCPEntryManager),m=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)g._processEntry(t),t.startTime<n.firstHiddenTime&&(d.value=Math.max(t.startTime-i.getActivationStart(),0),d.entries=[t],f())},y=c.observe("largest-contentful-paint",m);if(y){f=o.bindReporter(e,d,h,t.reportAllChanges);const n=u.runOnce(()=>{m(y.takeRecords()),y.disconnect(),f(!0)});for(const e of["keydown","click","visibilitychange"])r.WINDOW.document&&addEventListener(e,()=>p.whenIdleOrHidden(n),{capture:!0,once:!0})}})}},2729:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4913),o=n(6893),i=n(4937),a=n(3447),s=n(3348),l=n(1893),A=n(5613),c=n(1989),u=n(8397),d=n(7948),p=n(6586),h=n(1820),f=n(9262),g=n(2149),m=n(5625),y=n(2109),v=n(9687),b=n(4867),w=n(7989),S=n(6624),_=n(5649),B="__SENTRY_SUPPRESS_TRACING__";function C(e,t){const n=T();return n.withActiveSpan?n.withActiveSpan(e,t):i.withScope(n=>(h._setSpanForScope(n,e||void 0),t(n)))}function E(e){return i.withScope(t=>(t.setPropagationContext({traceId:p.generateTraceId(),sampleRand:Math.random()}),a.DEBUG_BUILD&&A.debug.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),C(null,e)))}function x(e){let{parentSpan:t,spanArguments:n,forceTransaction:r,scope:o}=e;if(!u.hasSpansEnabled()){const e=new b.SentryNonRecordingSpan;if(r||!t){const t={sampled:"false",sample_rate:"0",transaction:n.name,...m.getDynamicSamplingContextFromSpan(e)};m.freezeDscOnSpan(e,t)}return e}const a=i.getIsolationScope();let s;if(t&&!r)s=function(e,t,n){const{spanId:r,traceId:o}=e.spanContext(),a=!t.getScopeData().sdkProcessingMetadata[B]&&f.spanIsSampled(e),s=a?new w.SentrySpan({...n,parentSpanId:r,traceId:o,sampled:a}):new b.SentryNonRecordingSpan({traceId:o});f.addChildSpanToSpan(e,s);const l=i.getClient();l&&(l.emit("spanStart",s),n.endTimestamp&&l.emit("spanEnd",s));return s}(t,o,n),f.addChildSpanToSpan(t,s);else if(t){const e=m.getDynamicSamplingContextFromSpan(t),{traceId:r,spanId:i}=t.spanContext(),a=f.spanIsSampled(t);s=k({traceId:r,parentSpanId:i,...n},o,a),m.freezeDscOnSpan(s,e)}else{const{traceId:e,dsc:t,parentSpanId:r,sampled:i}={...a.getPropagationContext(),...o.getPropagationContext()};s=k({traceId:e,parentSpanId:r,...n},o,i),t&&m.freezeDscOnSpan(s,t)}return y.logSpanStart(s),_.setCapturedScopesOnSpan(s,o,a),s}function I(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=f.spanTimeInputToSeconds(e.startTime),delete n.startTime,n}return t}function T(){const e=o.getMainCarrier();return r.getAsyncContextStrategy(e)}function k(e,t,n){const r=i.getClient(),o=r?.getOptions()||{},{name:l=""}=e,c={spanAttributes:{...e.attributes},spanName:l,parentSampled:n};r?.emit("beforeSampling",c,{decision:!1});const u=c.parentSampled??n,p=c.spanAttributes,h=t.getPropagationContext(),[f,g,m]=t.getScopeData().sdkProcessingMetadata[B]?[!1]:v.sampleSpan(o,{name:l,parentSampled:u,attributes:p,parentSampleRate:d.parseSampleRate(h.dsc?.sample_rate)},h.sampleRand),y=new w.SentrySpan({...e,attributes:{[s.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[s.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:void 0!==g&&m?g:void 0,...p},sampled:f});return!f&&r&&(a.DEBUG_BUILD&&A.debug.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",y),y}function U(e,t){if(t)return t;if(null===t)return;const n=h._getSpanForScope(e);if(!n)return;const r=i.getClient();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?f.getRootSpan(n):n}function F(e){return void 0!==e?t=>C(e,t):e=>e()}t.continueTrace=(e,t)=>{const n=o.getMainCarrier(),a=r.getAsyncContextStrategy(n);if(a.continueTrace)return a.continueTrace(e,t);const{sentryTrace:s,baggage:A}=e,c=i.getClient(),u=l.baggageHeaderToDynamicSamplingContext(A);return c&&!g.shouldContinueTrace(c,u?.org_id)?E(t):i.withScope(e=>{const n=g.propagationContextFromHeaders(s,A);return e.setPropagationContext(n),t()})},t.startInactiveSpan=function(e){const t=T();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=I(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?t=>i.withScope(e.scope,t):void 0!==o?e=>C(o,e):e=>e())(()=>{const t=i.getCurrentScope(),a=U(t,o);return e.onlyIfParent&&!a?new b.SentryNonRecordingSpan:x({parentSpan:a,spanArguments:n,forceTransaction:r,scope:t})})},t.startNewTrace=E,t.startSpan=function(e,t){const n=T();if(n.startSpan)return n.startSpan(e,t);const r=I(e),{forceTransaction:o,parentSpan:a,scope:s}=e,l=s?.clone();return i.withScope(l,()=>F(a)(()=>{const n=i.getCurrentScope(),s=U(n,a),l=e.onlyIfParent&&!s?new b.SentryNonRecordingSpan:x({parentSpan:s,spanArguments:r,forceTransaction:o,scope:n});return h._setSpanForScope(n,l),c.handleCallbackErrors(()=>t(l),()=>{const{status:e}=f.spanToJSON(l);!l.isRecording()||e&&"ok"!==e||l.setStatus({code:S.SPAN_STATUS_ERROR,message:"internal_error"})},()=>{l.end()})}))},t.startSpanManual=function(e,t){const n=T();if(n.startSpanManual)return n.startSpanManual(e,t);const r=I(e),{forceTransaction:o,parentSpan:a,scope:s}=e,l=s?.clone();return i.withScope(l,()=>F(a)(()=>{const n=i.getCurrentScope(),s=U(n,a),l=e.onlyIfParent&&!s?new b.SentryNonRecordingSpan:x({parentSpan:s,spanArguments:r,forceTransaction:o,scope:n});return h._setSpanForScope(n,l),c.handleCallbackErrors(()=>t(l,()=>l.end()),()=>{const{status:e}=f.spanToJSON(l);!l.isRecording()||e&&"ok"!==e||l.setStatus({code:S.SPAN_STATUS_ERROR,message:"internal_error"})})}))},t.suppressTracing=function(e){const t=T();return t.suppressTracing?t.suppressTracing(e):i.withScope(t=>{t.setSDKProcessingMetadata({[B]:!0});const n=e();return t.setSDKProcessingMetadata({[B]:void 0}),n})},t.withActiveSpan=C},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){A(e,t),A(e+"Capture",t)}function A(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function f(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!u.call(h,e)||!u.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,y);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,O=Object.assign;function D(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var M=!1;function Q(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&"string"===typeof A.stack){for(var o=A.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function j(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1);case 11:return e=Q(e.type.render,!1);case 1:return e=Q(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case C:return"Profiler";case B:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case U:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ae,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ae=Ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var me=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Be=null;function Ce(e){if(e=bo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ee(e){_e?Be?Be.push(e):Be=[e]:_e=e}function xe(){if(_e){var e=_e,t=Be;if(Be=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Te(){}var ke=!1;function Ue(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ie(e,t,n)}finally{ke=!1,(null!==_e||null!==Be)&&(Te(),xe())}}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Ne=!1}function Re(e,t,n,r,o,i,a,s,l){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(c){this.onError(c)}}var Le=!1,Oe=null,De=!1,Me=null,Qe={onError:function(e){Le=!0,Oe=e}};function je(e,t,n,r,o,i,a,s,l){Le=!1,Oe=null,Re.apply(Qe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ve(o),e;if(a===r)return Ve(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,qe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Je=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var At=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ut(s):0!==(i&=a)&&(r=ut(i))}else 0!==(a=n&~o)?r=ut(a):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=At;return 0===(4194240&(At<<=1))&&(At=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,_t,Bt,Ct,Et=!1,xt=[],It=null,Tt=null,kt=null,Ut=new Map,Ft=new Map,Nt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Lt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ot(e){var t=vo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){Dt(e)&&n.delete(t)}function Qt(){Et=!1,null!==It&&Dt(It)&&(It=null),null!==Tt&&Dt(Tt)&&(Tt=null),null!==kt&&Dt(kt)&&(kt=null),Ut.forEach(Mt),Ft.forEach(Mt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Qt)))}function Ht(e){function t(t){return jt(t,e)}if(0<xt.length){jt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&jt(It,e),null!==Tt&&jt(Tt,e),null!==kt&&jt(kt,e),Ut.forEach(t),Ft.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Nt.shift()}var zt=b.ReactCurrentBatchConfig,Vt=!0;function Kt(e,t,n,r){var o=vt,i=zt.transition;zt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=o,zt.transition=i}}function Wt(e,t,n,r){var o=vt,i=zt.transition;zt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=o,zt.transition=i}}function Gt(e,t,n,r){if(Vt){var o=qt(e,t,n,r);if(null===o)Vr(e,t,r,$t,n),Rt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return It=Lt(It,e,t,n,r,o),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,o),!0;case"mouseover":return kt=Lt(kt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ut.set(i,Lt(Ut.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ft.set(i,Lt(Ft.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==o;){var i=bo(o);if(null!==i&&wt(i),null===(i=qt(e,t,n,r))&&Vr(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var $t=null;function qt(e,t,n,r){if($t=null,null!==(e=vo(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(An),un=O({},An,{view:0,detail:0}),dn=on(un),pn=O({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),fn=on(O({},pn,{dataTransfer:0})),gn=on(O({},un,{relatedTarget:0})),mn=on(O({},An,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=O({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(yn),bn=on(O({},An,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Bn}var En=O({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(En),In=on(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(O({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),kn=on(O({},An,{propertyName:0,elapsedTime:0,pseudoElement:0})),Un=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=on(Un),Nn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,On=c&&(!Pn||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),Mn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function $n(e){Dr(e,0)}function qn(e){if(G(wo(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&qn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Ue($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Gn)}function ir(e,t){if("click"===e)return qn(t)}function ar(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!u.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function Ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=Ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ar(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var a=cr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Br={};function Cr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Br)return _r[e]=n[t];return e}c&&(Br=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Cr("animationend"),xr=Cr("animationiteration"),Ir=Cr("animationstart"),Tr=Cr("transitionend"),kr=new Map,Ur="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){kr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Ur.length;Nr++){var Pr=Ur[Nr];Fr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Fr(Er,"onAnimationEnd"),Fr(xr,"onAnimationIteration"),Fr(Ir,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Tr,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,A){if(je.apply(this,arguments),Le){if(!Le)throw Error(i(198));var c=Oe;Le=!1,Oe=null,De||(De=!0,Me=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,A=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Or(o,s,A),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,A=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Or(o,s,A),i=l}}}if(De)throw e=Me,De=!1,Me=null,e}function Mr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[jr]){e[jr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Qr(t,!1,e),Qr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Qr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var o=Kt;break;case 4:o=Wt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=vo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Ue(function(){var r=i,o=we(n),a=[];e:{var s=kr.get(e);if(void 0!==s){var l=cn,A=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":A="focus",l=gn;break;case"focusout":A="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case xr:case Ir:l=mn;break;case Tr:l=kn;break;case"scroll":l=dn;break;case"wheel":l=Fn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),u=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var f=(p=h).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==d&&(null!=(f=Fe(h,d))&&c.push(Kr(h,f,p)))),u)break;h=h.return}0<c.length&&(s=new l(s,A,null,n,o),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(A=n.relatedTarget||n.fromElement)||!vo(A)&&!A[fo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(A=(A=n.relatedTarget||n.toElement)?vo(A):null)&&(A!==(u=He(A))||5!==A.tag&&6!==A.tag)&&(A=null)):(l=null,A=r),l!==A)){if(c=hn,f="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,f="onPointerLeave",d="onPointerEnter",h="pointer"),u=null==l?s:wo(l),p=null==A?s:wo(A),(s=new c(f,h+"leave",l,n,o)).target=u,s.relatedTarget=p,f=null,vo(o)===r&&((c=new c(d,h+"enter",A,n,o)).target=p,c.relatedTarget=u,f=c),u=f,l&&A)e:{for(d=A,h=0,p=c=l;p;p=Gr(p))h++;for(p=0,f=d;f;f=Gr(f))p++;for(;0<h-p;)c=Gr(c),h--;for(;0<p-h;)d=Gr(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&$r(a,s,l,c,!1),null!==A&&null!==u&&$r(a,u,A,c,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Vn(s))if(Jn)g=ar;else{g=or;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Kn(a,g,n,o):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?wo(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(a,n,o);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(a,n,o)}var y;if(Pn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Qn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(On&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(y=en()):(Xt="value"in(Jt=o)?Jt.value:Jt.textContent,Hn=!0)),0<(m=Wr(r,v)).length&&(v=new bn(v,e,null,n,o),a.push({event:v,listeners:m}),y?v.data=y:null!==(y=jn(n))&&(v.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Pn&&Qn(e,t)?(e=en(),Zt=Xt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Dr(a,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Fe(e,n))&&r.unshift(Kr(e,i,o)),null!=(i=Fe(e,t))&&r.push(Kr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,A=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==A&&(s=A,o?null!=(l=Fe(n,i))&&a.unshift(Kr(n,l,s)):o||null!=(l=Fe(n,i))&&a.push(Kr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function Ao(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),po="__reactFiber$"+uo,ho="__reactProps$"+uo,fo="__reactContainer$"+uo,go="__reactEvents$"+uo,mo="__reactListeners$"+uo,yo="__reactHandles$"+uo;function vo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[po])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[po]||e[fo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[ho]||null}var _o=[],Bo=-1;function Co(e){return{current:e}}function Eo(e){0>Bo||(e.current=_o[Bo],_o[Bo]=null,Bo--)}function xo(e,t){Bo++,_o[Bo]=e.current,e.current=t}var Io={},To=Co(Io),ko=Co(!1),Uo=Io;function Fo(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Po(){Eo(ko),Eo(To)}function Ro(e,t,n){if(To.current!==Io)throw Error(i(168));xo(To,t),xo(ko,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,z(e)||"Unknown",o));return O({},n,r)}function Oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,Uo=To.current,xo(To,e),xo(ko,ko.current),!0}function Do(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Lo(e,t,Uo),r.__reactInternalMemoizedMergedChildContext=e,Eo(ko),Eo(To),xo(To,e)):Eo(ko),xo(ko,n)}var Mo=null,Qo=!1,jo=!1;function Ho(e){null===Mo?Mo=[e]:Mo.push(e)}function zo(){if(!jo&&null!==Mo){jo=!0;var e=0,t=vt;try{var n=Mo;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mo=null,Qo=!1}catch(o){throw null!==Mo&&(Mo=Mo.slice(e+1)),Ge(Ze,zo),o}finally{vt=t,jo=!1}}return null}var Vo=[],Ko=0,Wo=null,Go=0,$o=[],qo=0,Yo=null,Jo=1,Xo="";function Zo(e,t){Vo[Ko++]=Go,Vo[Ko++]=Wo,Wo=e,Go=t}function ei(e,t,n){$o[qo++]=Jo,$o[qo++]=Xo,$o[qo++]=Yo,Yo=e;var r=Jo;e=Xo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Jo=1<<32-at(t)+o|n<<o|r,Xo=i+e}else Jo=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Vo[--Ko],Vo[Ko]=null,Go=Vo[--Ko],Vo[Ko]=null;for(;e===Yo;)Yo=$o[--qo],$o[qo]=null,Xo=$o[--qo],$o[qo]=null,Jo=$o[--qo],$o[qo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=UA(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=Ao(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=UA(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function Ai(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(Ai(e))throw Error(i(418));t=Ao(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(Ai(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return ui(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(Ai(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=Ao(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=Ao(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?Ao(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=Ao(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function fi(e){null===ai?ai=[e]:ai.push(e)}var gi=b.ReactCurrentBatchConfig;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=NA(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=OA(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function A(e,t,n,r){var i=n.type;return i===_?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===F&&vi(i)===t.type)?((r=o(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=PA(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=DA(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=RA(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=OA(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=PA(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case S:return(t=DA(t,e.mode,n)).return=e,t;case F:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=RA(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?A(e,t,n,r):null;case S:return n.key===o?c(e,t,n,r):null;case F:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||R(n))return null!==o?null:u(e,t,n,r,null);yi(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return A(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case F:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||R(r))return u(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function f(o,i,s,l){for(var A=null,c=null,u=i,f=i=0,g=null;null!==u&&f<s.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var m=p(o,u,s[f],l);if(null===m){null===u&&(u=g);break}e&&u&&null===m.alternate&&t(o,u),i=a(m,i,f),null===c?A=m:c.sibling=m,c=m,u=g}if(f===s.length)return n(o,u),ii&&Zo(o,f),A;if(null===u){for(;f<s.length;f++)null!==(u=d(o,s[f],l))&&(i=a(u,i,f),null===c?A=u:c.sibling=u,c=u);return ii&&Zo(o,f),A}for(u=r(o,u);f<s.length;f++)null!==(g=h(u,o,f,s[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),i=a(g,i,f),null===c?A=g:c.sibling=g,c=g);return e&&u.forEach(function(e){return t(o,e)}),ii&&Zo(o,f),A}function g(o,s,l,A){var c=R(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var u=c=null,f=s,g=s=0,m=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(m=f,f=null):m=f.sibling;var v=p(o,f,y.value,A);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(o,f),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,f=m}if(y.done)return n(o,f),ii&&Zo(o,g),c;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=d(o,y.value,A))&&(s=a(y,s,g),null===u?c=y:u.sibling=y,u=y);return ii&&Zo(o,g),c}for(f=r(o,f);!y.done;g++,y=l.next())null!==(y=h(f,o,g,y.value,A))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),s=a(y,s,g),null===u?c=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(o,e)}),ii&&Zo(o,g),c}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var A=a.key,c=i;null!==c;){if(c.key===A){if((A=a.type)===_){if(7===c.tag){n(r,c.sibling),(i=o(c,a.props.children)).return=r,r=i;break e}}else if(c.elementType===A||"object"===typeof A&&null!==A&&A.$$typeof===F&&vi(A)===c.type){n(r,c.sibling),(i=o(c,a.props)).ref=mi(r,c,a),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===_?((i=RA(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=PA(a.type,a.key,a.props,null,r.mode,l)).ref=mi(r,i,a),l.return=r,r=l)}return s(r);case S:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=DA(a,r.mode,l)).return=r,r=i}return s(r);case F:return e(r,i,(c=a._init)(a._payload),l)}if(te(a))return f(r,i,a,l);if(R(a))return g(r,i,a,l);yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=OA(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var wi=bi(!0),Si=bi(!1),_i=Co(null),Bi=null,Ci=null,Ei=null;function xi(){Ei=Ci=Bi=null}function Ii(e){var t=_i.current;Eo(_i),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t){Bi=e,Ei=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Ui(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Bi)throw Error(i(308));Ci=e,Bi.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Fi=null;function Ni(e){null===Fi?Fi=[e]:Fi.push(e)}function Pi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Di(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ri(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ri(e,n)}function ji(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var o=e.updateQueue;Li=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,A=l.next;l.next=null,null===a?i=A:a.next=A,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=A:s.next=A,c.lastBaseUpdate=l))}if(null!==i){var u=o.baseState;for(a=0,c=A=l=null,s=i;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,f=s;switch(d=t,p=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(p,u,d);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=f.payload)?h.call(p,u,d):h)||void 0===d)break e;u=O({},u,d);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(A=c=p,l=u):c=c.next=p,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===c&&(l=u),o.baseState=l,o.firstBaseUpdate=A,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=u}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Ki={},Wi=Co(Ki),Gi=Co(Ki),$i=Co(Ki);function qi(e){if(e===Ki)throw Error(i(174));return e}function Yi(e,t){switch(xo($i,t),xo(Gi,e),xo(Wi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Wi),xo(Wi,t)}function Ji(){Eo(Wi),Eo(Gi),Eo($i)}function Xi(e){qi($i.current);var t=qi(Wi.current),n=le(t,e.type);t!==n&&(xo(Gi,e),xo(Wi,n))}function Zi(e){Gi.current===e&&(Eo(Wi),Eo(Gi))}var ea=Co(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,aa=0,sa=null,la=null,Aa=null,ca=!1,ua=!1,da=0,pa=0;function ha(){throw Error(i(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:es,e=n(r,o),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(i(301));a+=1,Aa=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(ua)}if(oa.current=Xa,t=null!==la&&null!==la.next,aa=0,Aa=la=sa=null,ca=!1,t)throw Error(i(300));return e}function ma(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Aa?sa.memoizedState=Aa=e:Aa=Aa.next=e,Aa}function va(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===Aa?sa.memoizedState:Aa.next;if(null!==t)Aa=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===Aa?sa.memoizedState=Aa=e:Aa=Aa.next=e}return Aa}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,A=null,c=a;do{var u=c.lane;if((aa&u)===u)null!==A&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===A?(l=A=d,s=r):A=A.next=d,sa.lanes|=u,Ll|=u}c=c.next}while(null!==c&&c!==a);null===A?s=r:A.next=l,sr(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=A,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(vs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ba(e,t){var n=sa,r=va(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,vs=!0),r=r.queue,La(xa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Aa&&1&Aa.memoizedState.tag){if(n.flags|=2048,Ua(9,Ea.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&aa)||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Ta(e)}function xa(e,t,n){return n(function(){Ia(t)&&Ta(e)})}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ta(e){var t=Ri(e,1);null!==t&&nA(t,e,1,-1)}function ka(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,sa,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return va().memoizedState}function Na(e,t,n,r){var o=ya();sa.flags|=e,o.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var o=va();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&fa(r,a.deps))return void(o.memoizedState=Ua(t,n,i,r))}sa.flags|=e,o.memoizedState=Ua(1|t,n,i,r)}function Ra(e,t){return Na(8390656,8,e,t)}function La(e,t){return Pa(2048,8,e,t)}function Oa(e,t){return Pa(4,2,e,t)}function Da(e,t){return Pa(4,4,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Ma.bind(null,t,e),n)}function ja(){}function Ha(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n):(sr(n,t)||(n=ft(),sa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ka(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{vt=n,ia.transition=r}}function Wa(){return va().memoizedState}function Ga(e,t,n){var r=tA(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e))Ya(t,n);else if(null!==(n=Pi(e,t,n,r))){nA(n,e,r,eA()),Ja(n,t,r)}}function $a(e,t,n){var r=tA(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Ya(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ni(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(A){}null!==(n=Pi(e,t,o,r))&&(nA(n,e,r,o=eA()),Ja(n,t,r))}}function qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:Ui,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Za={readContext:Ui,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ui,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:ka,useDebugValue:ja,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=ka(!1),t=e[0];return e=Ka.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ya();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&aa)||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ra(xa.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Tl.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=(Jo&~(1<<32-at(Jo)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ui,useCallback:Ha,useContext:Ui,useEffect:La,useImperativeHandle:Qa,useInsertionEffect:Oa,useLayoutEffect:Da,useMemo:za,useReducer:wa,useRef:Fa,useState:function(){return wa(ba)},useDebugValue:ja,useDeferredValue:function(e){return Va(va(),la.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ba,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Ui,useCallback:Ha,useContext:Ui,useEffect:La,useImperativeHandle:Qa,useInsertionEffect:Oa,useLayoutEffect:Da,useMemo:za,useReducer:Sa,useRef:Fa,useState:function(){return Sa(ba)},useDebugValue:ja,useDeferredValue:function(e){var t=va();return null===la?t.memoizedState=e:Va(t,la.memoizedState,e)},useTransition:function(){return[Sa(ba)[0],va().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ba,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eA(),o=tA(e),i=Mi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Qi(e,i,o))&&(nA(t,e,o,r),ji(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eA(),o=tA(e),i=Mi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Qi(e,i,o))&&(nA(t,e,o,r),ji(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eA(),r=tA(e),o=Mi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Qi(e,o,r))&&(nA(t,e,r,n),ji(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function as(e,t,n){var r=!1,o=Io,i=t.contextType;return"object"===typeof i&&null!==i?i=Ui(i):(o=No(t)?Uo:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fo(e,o):Io),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Oi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ui(i):(i=No(t)?Uo:To.current,o.context=Fo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),zi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function As(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Kl=r),us(0,t)},n}function hs(e,t,n){(n=Mi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){us(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=CA.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mi(-1,1)).tag=2,Qi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ys=b.ReactCurrentOwner,vs=!1;function bs(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function ws(e,t,n,r,o){n=n.render;var i=t.ref;return ki(t,o),r=ga(e,t,n,r,i,o),n=ma(),null===e||vs?(ii&&n&&ti(t),t.flags|=1,bs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||FA(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=PA(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_s(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Vs(e,t,o)}return t.flags|=1,(e=NA(i,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Vs(e,t,o);0!==(131072&e.flags)&&(vs=!0)}}return Es(e,t,n,r,o)}function Bs(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xo(Nl,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xo(Nl,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,xo(Nl,Fl),Fl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,xo(Nl,Fl),Fl|=r;return bs(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,o){var i=No(n)?Uo:To.current;return i=Fo(t,i),ki(t,o),n=ga(e,t,n,r,i,o),r=ma(),null===e||vs?(ii&&r&&ti(t),t.flags|=1,bs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function xs(e,t,n,r,o){if(No(n)){var i=!0;Oo(t)}else i=!1;if(ki(t,o),null===t.stateNode)zs(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,A=n.contextType;"object"===typeof A&&null!==A?A=Ui(A):A=Fo(t,A=No(n)?Uo:To.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==A)&&ss(t,a,r,A),Li=!1;var d=t.memoizedState;a.state=d,zi(t,r,a,o),l=t.memoizedState,s!==r||d!==l||ko.current||Li?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Li||is(t,n,s,r,d,l,A))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=A,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Di(e,t),s=t.memoizedProps,A=t.type===t.elementType?s:ns(t.type,s),a.props=A,u=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ui(l):l=Fo(t,l=No(n)?Uo:To.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==u||d!==l)&&ss(t,a,r,l),Li=!1,d=t.memoizedState,a.state=d,zi(t,r,a,o);var h=t.memoizedState;s!==u||d!==h||ko.current||Li?("function"===typeof p&&(rs(t,n,p,r),h=t.memoizedState),(A=Li||is(t,n,A,r,d,h,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=A):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,i,o)}function Is(e,t,n,r,o,i){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Do(t,n,!1),Vs(e,t,i);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):bs(e,t,s,i),t.memoizedState=r.state,o&&Do(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),Yi(e,t.containerInfo)}function ks(e,t,n,r,o){return hi(),fi(o),t.flags|=256,bs(e,t,n,r),t.child}var Us,Fs,Ns,Ps,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xo(ea,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=LA(l,o,0,null),e=RA(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Rs,e):Ds(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ms(e,t,s,r=cs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=LA({mode:"visible",children:r.children},o,0,null),(a=RA(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return Ms(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ms(e,t,s,r=cs(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(r=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ri(e,o),nA(r,e,o,-1))}return fA(),Ms(e,t,s,r=cs(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=xA.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=Ao(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&($o[qo++]=Jo,$o[qo++]=Xo,$o[qo++]=Yo,Jo=e.id,Xo=e.overflow,Yo=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var A={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=A,t.deletions=null):(o=NA(a,A)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=NA(r,s):(s=RA(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,o}return e=(s=e.child).sibling,o=NA(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ds(e,t){return(t=LA({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ms(e,t,n,r){return null!==r&&fi(r),wi(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function js(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qs(e,n,t);else if(19===e.tag)Qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xo(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),js(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}js(t,!0,n,null,i);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=NA(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=NA(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return No(t.type)&&Po(),Ws(t),null;case 3:return r=t.stateNode,Ji(),Eo(ko),Eo(To),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(aA(ai),ai=null))),Fs(e,t),Ws(t),null;case 5:Zi(t);var o=qi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=qi(Wi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(o=0;o<Rr.length;o++)Mr(Rr[o],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Y(r,a),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mr("invalid",r);break;case"textarea":oe(r,a),Mr("invalid",r)}for(var l in ye(n,a),o=null,a)if(a.hasOwnProperty(l)){var A=a[l];"children"===l?"string"===typeof A?r.textContent!==A&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,A,e),o=["children",A]):"number"===typeof A&&r.textContent!==""+A&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,A,e),o=["children",""+A]):s.hasOwnProperty(l)&&null!=A&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,Us(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),o=r;break;case"iframe":case"object":case"embed":Mr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Rr.length;o++)Mr(Rr[o],e);o=r;break;case"source":Mr("error",e),o=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),o=r;break;case"details":Mr("toggle",e),o=r;break;case"input":Y(e,r),o=q(e,r),Mr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=O({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Mr("invalid",e)}for(a in ye(n,o),A=o)if(A.hasOwnProperty(a)){var c=A[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Mr("scroll",e):null!=c&&v(e,a,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=qi($i.current),qi(Wi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ws(t),null;case 13:if(Eo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),hi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==ai&&(aA(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Pl&&(Pl=3):fA())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Ji(),Fs(e,t),null===e&&Hr(t.stateNode.containerInfo),Ws(t),null;case 10:return Ii(t.type._context),Ws(t),null;case 19:if(Eo(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ks(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ks(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xo(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Hl&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Ws(t),null}else 2*Je()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,xo(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return uA(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $s(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Po(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Eo(ko),Eo(To),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Eo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ea),null;case 4:return Ji(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return uA(),null;default:return null}}Us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fs=function(){},Ns=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,qi(Wi.current);var i,a=null;switch(n){case"input":o=q(e,o),r=q(e,r),a=[];break;case"select":o=O({},o,{value:void 0}),r=O({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var A=r[c];if(l=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&A!==l&&(null!=A||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||A&&A.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in A)A.hasOwnProperty(i)&&l[i]!==A[i]&&(n||(n={}),n[i]=A[i])}else n||(a||(a=[]),a.push(c,n)),n=A;else"dangerouslySetInnerHTML"===c?(A=A?A.__html:void 0,l=l?l.__html:void 0,null!=A&&l!==A&&(a=a||[]).push(c,A)):"children"===c?"string"!==typeof A&&"number"!==typeof A||(a=a||[]).push(c,""+A):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=A&&"onScroll"===c&&Mr("scroll",e),a||l===A||(a=[])):(a=a||[]).push(c,A))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){BA(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){BA(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[go],delete t[mo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cl,o=ul;cl=null,dl(e,t,n),ul=o,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ht(e)):lo(cl,n.stateNode));break;case 4:r=cl,o=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=o;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),o=o.next}while(o!==r)}dl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){BA(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,dl(e,t,n),Ys=r):dl(e,t,n);break;default:dl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=IA.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));pl(a,s,o),cl=null,ul=!1;var A=o.alternate;null!==A&&(A.return=null),o.return=null}catch(c){BA(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){BA(e,e.return,g)}try{nl(5,e,e.return)}catch(g){BA(e,e.return,g)}}break;case 1:fl(t,e),ml(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(fl(t,e),ml(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(g){BA(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,A=e.updateQueue;if(e.updateQueue=null,null!==A)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(o,a),ve(l,s);var c=ve(l,a);for(s=0;s<A.length;s+=2){var u=A[s],d=A[s+1];"style"===u?ge(o,d):"dangerouslySetInnerHTML"===u?ue(o,d):"children"===u?de(o,d):v(o,u,d,c)}switch(l){case"input":X(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(g){BA(e,e.return,g)}}break;case 6:if(fl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){BA(e,e.return,g)}}break;case 3:if(fl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){BA(e,e.return,g)}break;case 4:default:fl(t,e),ml(e);break;case 13:fl(t,e),ml(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(jl=Je())),4&r&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||u,fl(t,e),Ys=c):fl(t,e),ml(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Xs=e,u=e.child;null!==u;){for(d=Xs=u;null!==Xs;){switch(h=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zs(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){BA(r,n,g)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==h?(h.return=p,Xs=h):wl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{o=d.stateNode,c?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(A=d.memoizedProps.style)&&null!==A&&A.hasOwnProperty("display")?A.display:null,l.style.display=fe("display",s))}catch(g){BA(e,e.return,g)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){BA(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fl(t,e),ml(e),4&r&&hl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),Al(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(s){BA(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xs=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var o=Xs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||qs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=qs;var A=Ys;if(qs=a,(Ys=l)&&!A)for(Xs=o;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?Sl(o):null!==l?(l.return=a,Xs=l):Sl(o);for(;null!==i;)Xs=i,vl(i,t,n),i=i.sibling;Xs=o,qs=s,Ys=A}bl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Xs=i):bl(e)}}function bl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&ol(t)}catch(p){BA(t,t.return,p)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Sl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){BA(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){BA(t,o,l)}}var i=t.return;try{ol(t)}catch(l){BA(t,i,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){BA(t,a,l)}}}catch(l){BA(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _l,Bl=Math.ceil,Cl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Il=0,Tl=null,kl=null,Ul=0,Fl=0,Nl=Co(0),Pl=0,Rl=null,Ll=0,Ol=0,Dl=0,Ml=null,Ql=null,jl=0,Hl=1/0,zl=null,Vl=!1,Kl=null,Wl=null,Gl=!1,$l=null,ql=0,Yl=0,Jl=null,Xl=-1,Zl=0;function eA(){return 0!==(6&Il)?Je():-1!==Xl?Xl:Xl=Je()}function tA(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ul?Ul&-Ul:null!==gi.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nA(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(i(185));mt(e,n,r),0!==(2&Il)&&e===Tl||(e===Tl&&(0===(2&Il)&&(Ol|=n),4===Pl&&sA(e,Ul)),rA(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Hl=Je()+500,Qo&&zo()))}function rA(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===Tl?Ul:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Qo=!0,Ho(e)}(lA.bind(null,e)):Ho(lA.bind(null,e)),ao(function(){0===(6&Il)&&zo()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=TA(n,oA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oA(e,t){if(Xl=-1,Zl=0,0!==(6&Il))throw Error(i(327));var n=e.callbackNode;if(SA()&&e.callbackNode!==n)return null;var r=dt(e,e===Tl?Ul:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gA(e,r);else{t=r;var o=Il;Il|=2;var a=hA();for(Tl===e&&Ul===t||(zl=null,Hl=Je()+500,dA(e,t));;)try{yA();break}catch(l){pA(e,l)}xi(),Cl.current=a,Il=o,null!==kl?t=0:(Tl=null,Ul=0,t=Pl)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=iA(e,o))),1===t)throw n=Rl,dA(e,0),sA(e,r),rA(e,Je()),n;if(6===t)sA(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gA(e,r))&&(0!==(a=ht(e))&&(r=a,t=iA(e,a))),1===t))throw n=Rl,dA(e,0),sA(e,r),rA(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wA(e,Ql,zl);break;case 3:if(sA(e,r),(130023424&r)===r&&10<(t=jl+500-Je())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){eA(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wA.bind(null,e,Ql,zl),t);break}wA(e,Ql,zl);break;case 4:if(sA(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bl(r/1960))-r)){e.timeoutHandle=ro(wA.bind(null,e,Ql,zl),r);break}wA(e,Ql,zl);break;default:throw Error(i(329))}}}return rA(e,Je()),e.callbackNode===n?oA.bind(null,e):null}function iA(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(dA(e,t).flags|=256),2!==(e=gA(e,t))&&(t=Ql,Ql=n,null!==t&&aA(t)),e}function aA(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function sA(e,t){for(t&=~Dl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lA(e){if(0!==(6&Il))throw Error(i(327));SA();var t=dt(e,0);if(0===(1&t))return rA(e,Je()),null;var n=gA(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=iA(e,r))}if(1===n)throw n=Rl,dA(e,0),sA(e,t),rA(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wA(e,Ql,zl),rA(e,Je()),null}function AA(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Hl=Je()+500,Qo&&zo())}}function cA(e){null!==$l&&0===$l.tag&&0===(6&Il)&&SA();var t=Il;Il|=1;var n=xl.transition,r=vt;try{if(xl.transition=null,vt=1,e)return e()}finally{vt=r,xl.transition=n,0===(6&(Il=t))&&zo()}}function uA(){Fl=Nl.current,Eo(Nl)}function dA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==kl)for(n=kl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Po();break;case 3:Ji(),Eo(ko),Eo(To),ra();break;case 5:Zi(r);break;case 4:Ji();break;case 13:case 19:Eo(ea);break;case 10:Ii(r.type._context);break;case 22:case 23:uA()}n=n.return}if(Tl=e,kl=e=NA(e.current,null),Ul=Fl=t,Pl=0,Rl=null,Dl=Ol=Ll=0,Ql=Ml=null,null!==Fi){for(t=0;t<Fi.length;t++)if(null!==(r=(n=Fi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Fi=null}return e}function pA(e,t){for(;;){var n=kl;try{if(xi(),oa.current=Xa,ca){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ca=!1}if(aa=0,Aa=la=sa=null,ua=!1,da=0,El.current=null,null===n||null===n.return){Pl=1,Rl=t,kl=null;break}e:{var a=e,s=n.return,l=n,A=t;if(t=Ul,l.flags|=32768,null!==A&&"object"===typeof A&&"function"===typeof A.then){var c=A,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ms(h,s,l,0,t),1&h.mode&&fs(a,c,t),A=c;var f=(t=h).updateQueue;if(null===f){var g=new Set;g.add(A),t.updateQueue=g}else f.add(A);break e}if(0===(1&t)){fs(a,c,t),fA();break e}A=Error(i(426))}else if(ii&&1&l.mode){var m=gs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,l,0,t),fi(As(A,l));break e}}a=A=As(A,l),4!==Pl&&(Pl=2),null===Ml?Ml=[a]:Ml.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,ps(0,A,t));break e;case 1:l=A;var y=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wl||!Wl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}bA(n)}catch(b){t=b,kl===n&&null!==n&&(kl=n=n.return);continue}break}}function hA(){var e=Cl.current;return Cl.current=Xa,null===e?Xa:e}function fA(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Ol)||sA(Tl,Ul)}function gA(e,t){var n=Il;Il|=2;var r=hA();for(Tl===e&&Ul===t||(zl=null,dA(e,t));;)try{mA();break}catch(o){pA(e,o)}if(xi(),Il=n,Cl.current=r,null!==kl)throw Error(i(261));return Tl=null,Ul=0,Pl}function mA(){for(;null!==kl;)vA(kl)}function yA(){for(;null!==kl&&!qe();)vA(kl)}function vA(e){var t=_l(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?bA(e):kl=t,El.current=null}function bA(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Fl)))return void(kl=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(kl=n);if(null===e)return Pl=6,void(kl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(kl=t);kl=t=e}while(null!==t);0===Pl&&(Pl=5)}function wA(e,t,n){var r=vt,o=xl.transition;try{xl.transition=null,vt=1,function(e,t,n,r){do{SA()}while(null!==$l);if(0!==(6&Il))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Tl&&(kl=Tl=null,Ul=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,TA(tt,function(){return SA(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xl.transition,xl.transition=null;var s=vt;vt=1;var l=Il;Il|=4,El.current=null,function(e,t){if(eo=Vt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,A=-1,c=0,u=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==o&&3!==d.nodeType||(l=s+o),d!==a||0!==r&&3!==d.nodeType||(A=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===o&&(l=s),p===a&&++u===r&&(A=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===l||-1===A?null:{start:l,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,m=f.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){BA(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}f=tl,tl=!1}(e,n),gl(n,e),hr(to),Vt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Il=l,vt=s,xl.transition=a}else e.current=n;if(Gl&&(Gl=!1,$l=e,ql=o),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rA(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=Kl,Kl=null,e;0!==(1&ql)&&0!==e.tag&&SA(),a=e.pendingLanes,0!==(1&a)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,zo()}(e,t,n,r)}finally{xl.transition=o,vt=r}return null}function SA(){if(null!==$l){var e=bt(ql),t=xl.transition,n=vt;try{if(xl.transition=null,vt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,ql=0,0!==(6&Il))throw Error(i(331));var o=Il;for(Il|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var A=0;A<l.length;A++){var c=l[A];for(Xs=c;null!==Xs;){var u=Xs;switch(u.tag){case 0:case 11:case 15:nl(8,u,a)}var d=u.child;if(null!==d)d.return=u,Xs=d;else for(;null!==Xs;){var p=(u=Xs).sibling,h=u.return;if(il(u),u===c){Xs=null;break}if(null!==p){p.return=h,Xs=p;break}Xs=h}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var v=e.current;for(Xs=v;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=v;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){BA(l,l.return,S)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Il=o,zo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{vt=n,xl.transition=t}}return!1}function _A(e,t,n){e=Qi(e,t=ps(0,t=As(n,t),1),1),t=eA(),null!==e&&(mt(e,1,t),rA(e,t))}function BA(e,t,n){if(3===e.tag)_A(e,e,n);else for(;null!==t;){if(3===t.tag){_A(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Qi(t,e=hs(t,e=As(n,e),1),1),e=eA(),null!==t&&(mt(t,1,e),rA(t,e));break}}t=t.return}}function CA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eA(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ul&n)===n&&(4===Pl||3===Pl&&(130023424&Ul)===Ul&&500>Je()-jl?dA(e,0):Dl|=n),rA(e,t)}function EA(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eA();null!==(e=Ri(e,t))&&(mt(e,t,n),rA(e,n))}function xA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),EA(e,n)}function IA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),EA(e,n)}function TA(e,t){return Ge(e,t)}function kA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function UA(e,t,n,r){return new kA(e,t,n,r)}function FA(e){return!(!(e=e.prototype)||!e.isReactComponent)}function NA(e,t){var n=e.alternate;return null===n?((n=UA(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function PA(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)FA(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return RA(n.children,o,a,t);case B:s=8,o|=8;break;case C:return(e=UA(12,n,t,2|o)).elementType=C,e.lanes=a,e;case T:return(e=UA(13,n,t,o)).elementType=T,e.lanes=a,e;case k:return(e=UA(19,n,t,o)).elementType=k,e.lanes=a,e;case N:return LA(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case x:s=9;break e;case I:s=11;break e;case U:s=14;break e;case F:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=UA(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function RA(e,t,n,r){return(e=UA(7,e,r,t)).lanes=n,e}function LA(e,t,n,r){return(e=UA(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function OA(e,t,n){return(e=UA(6,e,null,t)).lanes=n,e}function DA(e,t,n){return(t=UA(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MA(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function QA(e,t,n,r,o,i,a,s,l){return e=new MA(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=UA(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function jA(e){if(!e)return Io;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Lo(e,n,t)}return t}function HA(e,t,n,r,o,i,a,s,l){return(e=QA(n,r,!0,e,0,i,0,s,l)).context=jA(null),n=e.current,(i=Mi(r=eA(),o=tA(n))).callback=void 0!==t&&null!==t?t:null,Qi(n,i,o),e.current.lanes=o,mt(e,o,r),rA(e,r),e}function zA(e,t,n,r){var o=t.current,i=eA(),a=tA(o);return n=jA(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qi(o,t,a))&&(nA(e,o,a,i),ji(e,o,a)),a}function VA(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function KA(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function WA(e,t){KA(e,t),(e=e.alternate)&&KA(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ko.current)vs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),hi();break;case 5:Xi(t);break;case 1:No(t.type)&&Oo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;xo(_i,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xo(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Os(e,t,n):(xo(ea,1&ea.current),null!==(e=Vs(e,t,n))?e.sibling:null);xo(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),xo(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Bs(e,t,n)}return Vs(e,t,n)}(e,t,n);vs=0!==(131072&e.flags)}else vs=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var o=Fo(t,To.current);ki(t,n),o=ga(null,t,r,e,o,n);var a=ma();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(a=!0,Oo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Oi(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),bs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return FA(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===U)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Es(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Di(e,t),zi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=ks(e,t,r,n,o=As(Error(i(423)),t));break e}if(r!==o){t=ks(e,t,r,n,o=As(Error(i(424)),t));break e}for(oi=Ao(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Vs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Os(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ws(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,xo(_i,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!ko.current){t=Vs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var A=l.firstContext;null!==A;){if(A.context===r){if(1===a.tag){(A=Mi(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?A.next=A:(A.next=u.next,u.next=A),c.pending=A}}a.lanes|=n,null!==(A=a.alternate)&&(A.lanes|=n),Ti(a.return,n,t),l.lanes|=n;break}A=A.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ki(t,n),r=r(o=Ui(o)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Ss(e,t,r,o=ns(r.type,o),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),zs(e,t),t.tag=1,No(r)?(e=!0,Oo(t)):e=!1,ki(t,n),as(t,r,o),ls(t,r,o,n),Is(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Bs(e,t,n)}throw Error(i(156,t.tag))};var GA="function"===typeof reportError?reportError:function(e){console.error(e)};function $A(e){this._internalRoot=e}function qA(e){this._internalRoot=e}function YA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function JA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function XA(){}function ZA(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=VA(a);s.call(e)}}zA(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=VA(a);i.call(e)}}var a=HA(t,r,e,0,null,!1,0,"",XA);return e._reactRootContainer=a,e[fo]=a.current,Hr(8===e.nodeType?e.parentNode:e),cA(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=VA(l);s.call(e)}}var l=QA(e,0,!1,null,0,!1,0,"",XA);return e._reactRootContainer=l,e[fo]=l.current,Hr(8===e.nodeType?e.parentNode:e),cA(function(){zA(t,l,n,r)}),l}(n,t,e,o,r);return VA(a)}qA.prototype.render=$A.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zA(e,t,null,null)},qA.prototype.unmount=$A.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cA(function(){zA(null,e,null,null)}),t[fo]=null}},qA.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ot(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rA(t,Je()),0===(6&Il)&&(Hl=Je()+500,zo()))}break;case 13:cA(function(){var t=Ri(e,1);if(null!==t){var n=eA();nA(t,e,1,n)}}),WA(e,1)}},St=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nA(t,e,134217728,eA());WA(e,134217728)}},_t=function(e){if(13===e.tag){var t=tA(e),n=Ri(e,t);if(null!==n)nA(n,e,t,eA());WA(e,t)}},Bt=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));G(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=AA,Te=cA;var ec={usingClientEntryPoint:!1,Events:[bo,wo,So,Ee,xe,AA]},tc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!YA(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!YA(e))throw Error(i(299));var n=!1,r="",o=GA;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=QA(e,1,!1,null,0,n,0,r,o),e[fo]=t.current,Hr(8===e.nodeType?e.parentNode:e),new $A(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cA(e)},t.hydrate=function(e,t,n){if(!JA(t))throw Error(i(200));return ZA(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!YA(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=GA;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=HA(t,null,e,1,null!=n?n:null,o,0,a,s),e[fo]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new qA(t)},t.render=function(e,t,n){if(!JA(t))throw Error(i(200));return ZA(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!JA(e))throw Error(i(40));return!!e._reactRootContainer&&(cA(function(){ZA(null,null,e,!1,function(){e._reactRootContainer=null,e[fo]=null})}),!0)},t.unstable_batchedUpdates=AA,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!JA(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ZA(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2790:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(676),o=n(7785),i=n(5691),a=n(5503),s=new WeakSet;t.wrapMcpServerWithSentry=function(e){if(s.has(e))return e;if(!a.validateMcpServerInstance(e))return e;const t=e;return r.fill(t,"connect",e=>async function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const a=await e.call(this,t,...r);return i.wrapTransportOnMessage(t),i.wrapTransportSend(t),i.wrapTransportOnClose(t),i.wrapTransportError(t),a}),o.wrapAllMCPHandlers(t),s.add(e),e}},2809:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7287),o=n(4082);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||o.timestampInSeconds(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:r.uuid4()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}t.closeSession=function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),i(e,n)},t.makeSession=function(e){const t=o.timestampInSeconds(),n={sid:r.uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&i(n,e),n},t.updateSession=i},2843:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.LCPEntryManager=class{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}},2886:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(5866),i=n(1094),a=n(3971),s=n(5613),l=n(7287),A=n(5260),c=n(7778),u=n(7752),d=a.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.levels||s.CONSOLE_LEVELS,n=e.handled??!0;return{name:"CaptureConsole",setup(e){"console"in u.GLOBAL_OBJ&&i.addConsoleInstrumentationHandler(i=>{let{args:a,level:s}=i;r.getClient()===e&&t.includes(s)&&function(e,t,n){const i={level:A.severityLevelFromString(t),extra:{arguments:e}};r.withScope(r=>{if(r.addEventProcessor(e=>(e.logger="console",l.addExceptionMechanism(e,{handled:n,type:"console"}),e)),"assert"===t){if(!e[0]){const t=`Assertion failed: ${c.safeJoin(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),o.captureMessage(t,i)}return}const a=e.find(e=>e instanceof Error);if(a)return void o.captureException(a,i);const s=c.safeJoin(e," ");o.captureMessage(s,i)})}(a,s,n)})}}});t.captureConsoleIntegration=d},2893:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(883),o=n(778),i=r.buildFeedbackIntegration({lazyLoadIntegration:o.lazyLoadIntegration});t.feedbackAsyncIntegration=i},2924:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(7317),i=n(8772),a=n(2399),s=n(6208),l=n(7446),A=n(7245),c=n(658),u=n(509),d=n(8751),p=n(2422);function h(e){return[r.inboundFiltersIntegration(),r.functionToStringIntegration(),a.browserApiErrorsIntegration(),i.breadcrumbsIntegration(),l.globalHandlersIntegration(),c.linkedErrorsIntegration(),r.dedupeIntegration(),A.httpContextIntegration(),s.browserSessionIntegration()]}t.forceLoad=function(){},t.getDefaultIntegrations=h,t.init=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=!e.skipBrowserExtensionCheck&&p.checkAndWarnIfIsEmbeddedBrowserExtension(),n={...e,enabled:!t&&e.enabled,stackParser:r.stackParserFromStackParserOptions(e.stackParser||u.defaultStackParser),integrations:r.getIntegrationsToSetup({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?h():e.defaultIntegrations}),transport:e.transport||d.makeFetchTransport};return r.initAndBind(o.BrowserClient,n)},t.onLoad=function(e){e()}},2965:(e,t,n)=>{"use strict";n.d(t,{$b:()=>o,Vy:()=>A});const r=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const i={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},a=o.INFO,s={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...i)};class A{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...t),this._logHandler(this,o.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...t),this._logHandler(this,o.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.INFO,...t),this._logHandler(this,o.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.WARN,...t),this._logHandler(this,o.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,o.ERROR,...t),this._logHandler(this,o.ERROR,...t)}}},3006:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1817);n(9650),n(509),n(8772),n(2399),n(6208),n(7446),n(7245),n(658);const a="sentry_previous_trace",s="sentry.previous_trace";function l(e,t,n){const i=r.spanToJSON(t);const a={spanContext:t.spanContext(),startTimestamp:i.start_timestamp,sampleRate:function(){try{return Number(n.dsc?.sample_rate)??Number(i.data?.[r.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE])}catch{return 0}}(),sampleRand:n.sampleRand};if(!e)return a;const l=e.spanContext;return l.traceId===i.trace_id?e:(Date.now()/1e3-e.startTimestamp<=3600&&(o.DEBUG_BUILD&&r.debug.log(`Adding previous_trace ${l} link to span ${{op:i.op,...t.spanContext()}}`),t.addLink({context:l,attributes:{[r.SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE]:"previous_trace"}}),t.setAttribute(s,`${l.traceId}-${l.spanId}-${u(l)?1:0}`)),a)}function A(e){try{i.WINDOW.sessionStorage.setItem(a,JSON.stringify(e))}catch(t){o.DEBUG_BUILD&&r.debug.warn("Could not store previous trace in sessionStorage",t)}}function c(){try{const e=i.WINDOW.sessionStorage?.getItem(a);return JSON.parse(e)}catch{return}}function u(e){return 1===e.traceFlags}t.PREVIOUS_TRACE_KEY=a,t.PREVIOUS_TRACE_MAX_DURATION=3600,t.PREVIOUS_TRACE_TMP_SPAN_ATTRIBUTE=s,t.addPreviousTraceSpanLink=l,t.getPreviousTraceFromSessionStorage=c,t.linkTraces=function(e,t){let{linkPreviousTrace:n,consistentTraceSampling:o}=t;const i="session-storage"===n;let a=i?c():void 0;e.on("spanStart",e=>{if(r.getRootSpan(e)!==e)return;const t=r.getCurrentScope().getPropagationContext();a=l(a,e,t),i&&A(a)});let s=!0;o&&e.on("beforeSampling",e=>{if(!a)return;const t=r.getCurrentScope(),n=t.getPropagationContext();s&&n.parentSpanId?s=!1:(t.setPropagationContext({...n,dsc:{...n.dsc,sample_rate:String(a.sampleRate),sampled:String(u(a.spanContext))},sampleRand:a.sampleRand}),e.parentSampled=u(a.spanContext),e.parentSampleRate=a.sampleRate,e.spanAttributes={...e.spanAttributes,[r.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE]:a.sampleRate})})},t.spanContextSampled=u,t.storePreviousTraceInSessionStorage=A},3012:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7752),o=new Map,i=new Set;function a(e,t){return function(e){if(r.GLOBAL_OBJ._sentryModuleMetadata)for(const t of Object.keys(r.GLOBAL_OBJ._sentryModuleMetadata)){const n=r.GLOBAL_OBJ._sentryModuleMetadata[t];if(i.has(t))continue;i.add(t);const a=e(t);for(const e of a.reverse())if(e.filename){o.set(e.filename,n);break}}}(e),o.get(t)}t.addMetadataToStackFrames=function(e,t){try{t.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename||n.module_metadata)continue;const t=a(e,n.filename);t&&(n.module_metadata=t)}})}catch{}},t.getMetadataForUrl=a,t.stripMetadataFromStackFrames=function(e){try{e.exception.values.forEach(e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata})}catch{}}},3075:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(7752).GLOBAL_OBJ;const a=s;function s(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function l(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}t.isNativeFunction=l,t.supportsDOMError=function(){try{return new DOMError(""),!0}catch{return!1}},t.supportsDOMException=function(){try{return new DOMException(""),!0}catch{return!1}},t.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch{return!1}},t.supportsFetch=a,t.supportsHistory=function(){return"history"in i&&!!i.history},t.supportsNativeFetch=function(){if("string"===typeof EdgeRuntime)return!0;if(!s())return!1;if(l(i.fetch))return!0;let e=!1;const t=i.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=l(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){r.DEBUG_BUILD&&o.debug.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e},t.supportsReferrerPolicy=function(){if(!s())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}},t.supportsReportingObserver=function(){return"ReportingObserver"in i}},3082:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1817),a="WebWorker",s=r.defineIntegration(e=>{let{worker:t}=e;return{name:a,setupOnce:()=>{(Array.isArray(t)?t:[t]).forEach(e=>l(e))},addWorker:e=>l(e)}});function l(e){e.addEventListener("message",e=>{var t;t=e.data,r.isPlainObject(t)&&!0===t._sentryMessage&&"_sentryDebugIds"in t&&(r.isPlainObject(t._sentryDebugIds)||void 0===t._sentryDebugIds)&&(e.stopImmediatePropagation(),o.DEBUG_BUILD&&r.debug.log("Sentry debugId web worker message received",e.data),i.WINDOW._sentryDebugIds={...e.data._sentryDebugIds,...i.WINDOW._sentryDebugIds})})}t.INTEGRATION_NAME=a,t.registerWebWorker=function(e){let{self:t}=e;t.postMessage({_sentryMessage:!0,_sentryDebugIds:t._sentryDebugIds??void 0})},t.webWorkerIntegration=s},3165:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425);function i(e){if(!e)return{};const t={};return Object.entries(e.params).forEach(e=>{let[n,r]=e;t[`url.path.params.${n}`]=r,t[`url.path.parameter.${n}`]=r,t[`params.${n}`]=r}),t}t.tanstackRouterBrowserTracingIntegration=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,a=r.browserTracingIntegration({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:s=!0,instrumentNavigation:l=!0}=t;return{...a,afterAllSetup(e){a.afterAllSetup(e);const t=r.WINDOW.location;if(s&&t){const a=n.matchRoutes(t.pathname,n.options.parseSearch(t.search),{preload:!1,throwOnError:!1}),s=a[a.length-1];r.startBrowserTracingPageLoadSpan(e,{name:s?s.routeId:t.pathname,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"pageload",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.react.tanstack_router",[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:s?"route":"url",...i(s)}})}l&&n.subscribe("onBeforeNavigate",t=>{if(t.toLocation.state===t.fromLocation?.state)return;const a=n.matchRoutes(t.toLocation.pathname,t.toLocation.search,{preload:!1,throwOnError:!1}),s=a[a.length-1],l=r.WINDOW.location,A=r.startBrowserTracingNavigationSpan(e,{name:s?s.routeId:l.pathname,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"navigation",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.react.tanstack_router",[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:s?"route":"url"}}),c=n.subscribe("onResolved",e=>{if(c(),A){const t=n.matchRoutes(e.toLocation.pathname,e.toLocation.search,{preload:!1,throwOnError:!1}),r=t[t.length-1];r&&(A.updateName(r.routeId),A.setAttribute(o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"route"),A.setAttributes(i(r)))}})})}}}},3186:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function r(e,t){return e[t]||e.all||0}t.DEFAULT_RETRY_AFTER=6e4,t.disabledUntil=r,t.isRateLimited=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return r(e,t)>n},t.parseRetryAfterHeader=n,t.updateRateLimits=function(e,t){let{statusCode:r,headers:o}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const a={...e},s=o?.["x-sentry-rate-limits"],l=o?.["retry-after"];if(s)for(const n of s.trim().split(",")){const[e,t,,,r]=n.split(":",5),o=parseInt(e,10),s=1e3*(isNaN(o)?60:o);if(t)for(const n of t.split(";"))"metric_bucket"===n&&r&&!r.split(";").includes("custom")||(a[n]=i+s);else a.all=i+s}else l?a.all=i+n(l,i):429===r&&(a.all=i+6e4);return a}},3202:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(5866),i=n(3348),a=n(676),s=n(9288),l=n(2729),A={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};t.trpcMiddleware=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function(t){const{path:n,type:c,next:u,rawInput:d,getRawInput:p}=t,h=r.getClient(),f=h?.getOptions(),g={procedure_path:n,procedure_type:c};if(a.addNonEnumerableProperty(g,"__sentry_override_normalization_depth__",1+(f?.normalizeDepth??5)),(void 0!==e.attachRpcInput?e.attachRpcInput:f?.sendDefaultPii)&&(void 0!==d&&(g.input=s.normalize(d)),void 0!==p&&"function"===typeof p))try{const e=await p();g.input=s.normalize(e)}catch{}return r.withIsolationScope(t=>(t.setContext("trpc",g),l.startSpanManual({name:`trpc/${n}`,op:"rpc.server",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"},forceTransaction:!!e.forceTransaction},async e=>{try{const t=await u();return function(e){"object"===typeof e&&null!==e&&"ok"in e&&!e.ok&&"error"in e&&o.captureException(e.error,A)}(t),e.end(),t}catch(t){throw o.captureException(t,A),e.end(),t}})))}}},3203:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3971),o=n(4356),i=n(7752),a=r.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.root,n=e.prefix||"app:///",r="window"in i.GLOBAL_OBJ&&!!i.GLOBAL_OBJ.window,o=e.iteratee||s({isBrowser:r,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t?.frames?.map(e=>o(e))})}};var t})}}}catch{return e}}(t)),t}}});function s(e){let{isBrowser:t,root:n,prefix:r}=e;return e=>{if(!e.filename)return e;const i=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),a=/^\//.test(e.filename);if(t){if(n){const t=e.filename;0===t.indexOf(n)&&(e.filename=t.replace(n,r))}}else if(i||a){const t=i?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,a=n?o.relative(n,t):o.basename(t);e.filename=`${r}${a}`}return e}}t.generateIteratee=s,t.rewriteFramesIntegration=a},3210:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(6399);let i,a,s;function l(){if(!o.WINDOW.document)return;const e=r.triggerHandlers.bind(null,"dom"),t=A(e,!0);o.WINDOW.document.addEventListener("click",t,!1),o.WINDOW.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{const n=o.WINDOW,i=n[t]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(r.fill(i,"addEventListener",function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=A(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch{}return t.call(this,n,r,o)}}),r.fill(i,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return e.call(this,t,n,r)}}))})}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;const l=function(e){try{return e.target}catch{return null}}(n);if(function(e,t){return"keypress"===e&&(!t?.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,l))return;r.addNonEnumerableProperty(n,"_sentryCaptured",!0),l&&!l._sentryId&&r.addNonEnumerableProperty(l,"_sentryId",r.uuid4());const A="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==a)return!1;try{if(!e.target||e.target._sentryId!==s)return!1}catch{}return!0}(n)){e({event:n,name:A,global:t}),a=n.type,s=l?l._sentryId:void 0}clearTimeout(i),i=o.WINDOW.setTimeout(()=>{s=void 0,a=void 0},1e3)}}t.addClickKeypressInstrumentationHandler=function(e){r.addHandler("dom",e),r.maybeInstrument("dom",l)},t.instrumentDOM=l},3307:(e,t,n)=>{e=n.nmd(e),Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5124);function o(e,t){return e.require(t)}t.isNodeEnv=function(){return!r.isBrowserBundle()&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)},t.loadModule=function(t){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;try{n=o(r,t)}catch{}if(!n)try{const{cwd:e}=o(r,"process");n=o(r,`${e()}/node_modules/${t}`)}catch{}return n}},3344:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.DEFAULT_ENVIRONMENT="production"},3348:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.SEMANTIC_ATTRIBUTE_CACHE_HIT="cache.hit",t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE="cache.item_size",t.SEMANTIC_ATTRIBUTE_CACHE_KEY="cache.key",t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME="sentry.exclusive_time",t.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD="http.request.method",t.SEMANTIC_ATTRIBUTE_PROFILE_ID="sentry.profile_id",t.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME="sentry.custom_span_name",t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON="sentry.idle_span_finish_reason",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT="sentry.measurement_unit",t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE="sentry.measurement_value",t.SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",t.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE="sentry.previous_trace_sample_rate",t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source",t.SEMANTIC_ATTRIBUTE_URL_FULL="url.full",t.SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE="sentry.link.type"},3354:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1274);function o(e){return!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==e&&!e.includes("node_modules/")}function i(e){const t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/,i=/at (?:async )?(.+?) \(data:(.*?),/;return s=>{const l=s.match(i);if(l)return{filename:`<data:${l[2]}>`,function:l[1]};const A=s.match(n);if(A){let t,n,i,s,l;if(A[1]){i=A[1];let e=i.lastIndexOf(".");if("."===i[e-1]&&e--,e>0){t=i.slice(0,e),n=i.slice(e+1);const r=t.indexOf(".Module");r>0&&(i=i.slice(r+1),t=t.slice(0,r))}s=void 0}n&&(s=t,l=n),"<anonymous>"===n&&(l=void 0,i=void 0),void 0===i&&(l=l||r.UNKNOWN_FUNCTION,i=s?`${s}.${l}`:l);let c=A[2]?.startsWith("file://")?A[2].slice(7):A[2];const u="native"===A[5];return c?.match(/\/[A-Z]:/)&&(c=c.slice(1)),c||!A[5]||u||(c=A[5]),{filename:c?decodeURI(c):void 0,module:e?e(c):void 0,function:i,lineno:a(A[3]),colno:a(A[4]),in_app:o(c||"",u)}}return s.match(t)?{filename:s}:void 0}}function a(e){return parseInt(e||"",10)||void 0}t.filenameIsInApp=o,t.node=i,t.nodeStackLineParser=function(e){return[90,i(e)]}},3371:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6190),o=n(7090),i=n(4937),a=n(3447),s=n(6858),l=n(8009),A=n(4447),c=n(5613),u=n(7287),d=n(844),p=n(7591);class h extends o.Client{constructor(e){if(l.registerSpanErrorInstrumentation(),super(e),this._logWeight=0,this._options.enableLogs){const e=this;e.on("flushLogs",()=>{e._logWeight=0,clearTimeout(e._logFlushIdleTimeout)}),e.on("afterCaptureLog",t=>{e._logWeight+=function(e){let t=0;e.message&&(t+=2*e.message.length);e.attributes&&Object.values(e.attributes).forEach(e=>{Array.isArray(e)?t+=e.length*g(e[0]):A.isPrimitive(e)?t+=g(e):t+=100});return t}(t),e._logWeight>=8e5?s._INTERNAL_flushLogsBuffer(e):e._logFlushIdleTimeout=setTimeout(()=>{s._INTERNAL_flushLogsBuffer(e)},5e3)}),e.on("flush",()=>{s._INTERNAL_flushLogsBuffer(e)})}}eventFromException(e,t){const n=d.eventFromUnknownInput(this,this._options.stackParser,e,t);return n.level="error",p.resolvedSyncPromise(n)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return p.resolvedSyncPromise(d.eventFromMessage(this._options.stackParser,e,t,n,this._options.attachStacktrace))}captureException(e,t,n){return f(t),super.captureException(e,t,n)}captureEvent(e,t,n){return!e.type&&e.exception?.values&&e.exception.values.length>0&&f(t),super.captureEvent(e,t,n)}captureCheckIn(e,t,n){const i="checkInId"in e&&e.checkInId?e.checkInId:u.uuid4();if(!this._isEnabled())return a.DEBUG_BUILD&&c.debug.warn("SDK not enabled, will not capture check-in."),i;const s=this.getOptions(),{release:l,environment:A,tunnel:d}=s,p={check_in_id:i,monitor_slug:e.monitorSlug,status:e.status,release:l,environment:A};"duration"in e&&(p.duration=e.duration),t&&(p.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone,failure_issue_threshold:t.failureIssueThreshold,recovery_threshold:t.recoveryThreshold});const[h,f]=o._getTraceInfoFromScope(this,n);f&&(p.contexts={trace:f});const g=r.createCheckInEnvelope(p,h,this.getSdkMetadata(),d,this.getDsn());return a.DEBUG_BUILD&&c.debug.log("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(g),i}_prepareEvent(e,t,n,r){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:e.contexts?.runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,t,n,r)}}function f(e){const t=i.getIsolationScope().getScopeData().sdkProcessingMetadata.requestSession;if(t){const n=e?.mechanism?.handled??!0;n&&"crashed"!==t.status?t.status="errored":n||(t.status="crashed")}}function g(e){return"string"===typeof e?2*e.length:"number"===typeof e?8:"boolean"===typeof e?4:0}t.ServerRuntimeClient=h},3396:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(1817),i=n(8751);function a(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function s(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=a(n);return e=>r.then(n=>e(n.transaction(t,"readwrite").objectStore(t)))}function l(e){return a(e.getAllKeys())}function A(e,t,n){return e(e=>l(e).then(r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),a(e.transaction)}))}function c(e,t,n){return e(e=>l(e).then(r=>{if(!(r.length>=n))return e.put(t,Math.min(...r,0)-1),a(e.transaction)}))}function u(e){return e(e=>l(e).then(t=>{const n=t[0];if(null!=n)return a(e.get(n)).then(t=>(e.delete(n),a(e.transaction).then(()=>t)))}))}function d(e){let t;function n(){return void 0==t&&(t=s(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async t=>{try{const o=await r.serializeEnvelope(t);await A(n(),o,e.maxQueueSize||30)}catch{}},unshift:async t=>{try{const o=await r.serializeEnvelope(t);await c(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const e=await u(n());if(e)return r.parseEnvelope(e)}catch{}}}}t.createStore=s,t.makeBrowserOfflineTransport=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.makeFetchTransport;return function(e){return t=>{const n=e({...t,createStore:d});return o.WINDOW.addEventListener("online",async e=>{await n.flush()}),n}}(r.makeOfflineTransport(e))},t.push=A,t.shift=u,t.unshift=c},3398:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(6624),i=n(9255),a=n(5316),s=new WeakMap;function l(e){let t=s.get(e);return t||(t=new Map,s.set(e,t)),t}t.cleanupPendingSpansForTransport=function(e){const t=s.get(e);if(!t)return 0;const n=t.size;for(const[,r]of t)r.span.setStatus({code:o.SPAN_STATUS_ERROR,message:"cancelled"}),r.span.end();return t.clear(),n},t.completeSpanWithResults=function(e,t,n){const o=l(e),s=o.get(t);if(s){const{span:e,method:l}=s;if("tools/call"===l){const t=i.extractToolResultAttributes(n),o=r.getClient(),s=Boolean(o?.getOptions().sendDefaultPii),l=a.filterMcpPiiFromSpanData(t,s);e.setAttributes(l)}e.end(),o.delete(t)}},t.storeSpanForRequest=function(e,t,n,r){l(e).set(t,{span:n,method:r,startTime:Date.now()})}},3435:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(7379),a=n(436),s=n(3186),l=n(7591);t.DEFAULT_TRANSPORT_BUFFER_SIZE=64,t.createTransport=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.makePromiseBuffer(e.bufferSize||64),A={};return{send:function(c){const u=[];if(i.forEachEnvelopeItem(c,(t,n)=>{const r=i.envelopeItemTypeToDataCategory(n);s.isRateLimited(A,r)?e.recordDroppedEvent("ratelimit_backoff",r):u.push(t)}),0===u.length)return l.resolvedSyncPromise({});const d=i.createEnvelope(c[0],u),p=t=>{i.forEachEnvelopeItem(d,(n,r)=>{e.recordDroppedEvent(t,i.envelopeItemTypeToDataCategory(r))})};return n.add(()=>t({body:i.serializeEnvelope(d)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&r.DEBUG_BUILD&&o.debug.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),A=s.updateRateLimits(A,e),e),e=>{throw p("network_error"),r.DEBUG_BUILD&&o.debug.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===a.SENTRY_BUFFER_FULL_ERROR)return r.DEBUG_BUILD&&o.debug.error("Skipped sending event because buffer is full."),p("queue_overflow"),l.resolvedSyncPromise({});throw e})},flush:e=>n.drain(e)}}},3447:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},3462:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5866),o=n(6624),i=n(8232),a=n(9867),s=n(427);function l(e,t){for(const n of e){const e=n.index;if(void 0!==e&&n.function)if(e in t.chatCompletionToolCalls){const r=t.chatCompletionToolCalls[e];n.function.arguments&&r?.function&&(r.function.arguments+=n.function.arguments)}else t.chatCompletionToolCalls[e]={...n,function:{name:n.function.name,arguments:n.function.arguments||""}}}}function A(e,t,n){t.responseId=e.id??t.responseId,t.responseModel=e.model??t.responseModel,t.responseTimestamp=e.created??t.responseTimestamp,e.usage&&(t.promptTokens=e.usage.prompt_tokens,t.completionTokens=e.usage.completion_tokens,t.totalTokens=e.usage.total_tokens);for(const r of e.choices??[])n&&(r.delta?.content&&t.responseTexts.push(r.delta.content),r.delta?.tool_calls&&l(r.delta.tool_calls,t)),r.finish_reason&&t.finishReasons.push(r.finish_reason)}function c(e,t,n,i){if(!e||"object"!==typeof e)return void t.eventTypes.push("unknown:non-object");if(e instanceof Error)return i.setStatus({code:o.SPAN_STATUS_ERROR,message:"internal_error"}),void r.captureException(e,{mechanism:{handled:!1}});if(!("type"in e))return;const s=e;if(a.RESPONSE_EVENT_TYPES.includes(s.type)){if(n&&("response.output_item.done"===s.type&&"item"in s&&t.responsesApiToolCalls.push(s.item),"response.output_text.delta"===s.type&&"delta"in s&&s.delta))t.responseTexts.push(s.delta);else if("response"in s){const{response:e}=s;t.responseId=e.id??t.responseId,t.responseModel=e.model??t.responseModel,t.responseTimestamp=e.created_at??t.responseTimestamp,e.usage&&(t.promptTokens=e.usage.input_tokens,t.completionTokens=e.usage.output_tokens,t.totalTokens=e.usage.total_tokens),e.status&&t.finishReasons.push(e.status),n&&e.output_text&&t.responseTexts.push(e.output_text)}}else t.eventTypes.push(s.type)}t.instrumentStream=async function*(e,t,n){const r={eventTypes:[],responseTexts:[],finishReasons:[],responseId:"",responseModel:"",responseTimestamp:0,promptTokens:void 0,completionTokens:void 0,totalTokens:void 0,chatCompletionToolCalls:{},responsesApiToolCalls:[]};try{for await(const o of e)s.isChatCompletionChunk(o)?A(o,r,n):s.isResponsesApiStreamEvent(o)&&c(o,r,n,t),yield o}finally{s.setCommonResponseAttributes(t,r.responseId,r.responseModel,r.responseTimestamp),s.setTokenUsageAttributes(t,r.promptTokens,r.completionTokens,r.totalTokens),t.setAttributes({[i.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE]:!0}),r.finishReasons.length&&t.setAttributes({[i.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE]:JSON.stringify(r.finishReasons)}),n&&r.responseTexts.length&&t.setAttributes({[i.GEN_AI_RESPONSE_TEXT_ATTRIBUTE]:r.responseTexts.join("")});const e=[...Object.values(r.chatCompletionToolCalls),...r.responsesApiToolCalls];e.length>0&&t.setAttributes({[i.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE]:JSON.stringify(e)}),t.end()}}},3505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Logger:()=>i,default:()=>a});let r=null;const o={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.REACT_APP_SENTRY_DSN||"https://e2cd46fc3b874c7e6a7cddf0ce5a4988@o4509798666993664.ingest.us.sentry.io/4509798676037632";if(o)try{r=n(4657)}catch(s){console.warn("Sentry package not found:",s.message),r=null}r&&(r.init({dsn:o,integrations:[r.browserTracingIntegration(),r.replayIntegration({sessionSampleRate:.1,errorSampleRate:1})],tracesSampleRate:.1,environment:"production",release:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000",REACT_APP_URL:"http://localhost:8002",REACT_APP_USE_MOCK_API:"false"}.REACT_APP_VERSION||"1.0.0",sendDefaultPii:!0,beforeSend:e=>(console.log("\ud83d\udd0d Sentry capturing event:",e.level,e.message||e.exception),e)}),console.log("\u2705 Sentry initialized successfully!",{environment:"production",dsn:o.substring(0,50)+"...",sessionReplay:"enabled",performanceMonitoring:"enabled"}));const i={info:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\udcdd INFO:",e,t),r&&(r.captureMessage(e,"info"),r.setContext("additional_info",t))},warn:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.warn("\u26a0\ufe0f WARN:",e,t),r&&(r.captureMessage(e,"warning"),r.setContext("warning_context",t))},error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.error("\u274c ERROR:",e,t),r&&r.captureException(e,{extra:t,tags:{component:t.component||"unknown",action:t.action||"unknown"}})},trackUserAction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log(`\ud83d\udc64 USER ACTION: ${e}`,t),r&&r.addBreadcrumb({category:"user_action",message:e,level:"info",data:t})},trackApiCall:(e,t,n,o)=>{const i=`API ${t} ${e} - ${n} (${o}ms)`;console.log("\ud83c\udf10 API:",i),r&&r.addBreadcrumb({category:"api",message:i,level:n>=400?"error":"info",data:{endpoint:e,method:t,status:n,duration:o}})},setUser:e=>{console.log("\ud83d\udc64 SET USER:",e),r&&r.setUser({id:e.id,email:e.email,username:e.username})},clearUser:()=>{console.log("\ud83d\udc64 CLEAR USER"),r&&r.setUser(null)}},a=r},3600:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(219),o=r.default||r;t.hoistNonReactStatics=o},3647:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7752);let o,i,a;function s(e){const t=r.GLOBAL_OBJ._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return a&&n.length===i||(i=n.length,a=n.reduce((n,r)=>{o||(o={});const i=o[r];if(i)n[i[0]]=i[1];else{const i=e(r);for(let e=i.length-1;e>=0;e--){const a=i[e],s=a?.filename,l=t[r];if(s&&l){n[s]=l,o[r]=[s,l];break}}}return n},{})),a}t.getDebugImagesForResources=function(e,t){const n=s(e);if(!n)return[];const r=[];for(const o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r},t.getFilenameToDebugIdMap=s},3677:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6893),o=n(7745);t.getDefaultCurrentScope=function(){return r.getGlobalSingleton("defaultCurrentScope",()=>new o.Scope)},t.getDefaultIsolationScope=function(){return r.getGlobalSingleton("defaultIsolationScope",()=>new o.Scope)}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3816:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3971),o=n(4737),i=n(6433),a={cookies:!0,data:!0,headers:!0,query_string:!0,url:!0},s=r.defineIntegration(function(){const e={...a,...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).include};return{name:"RequestData",processEvent(t,n,r){const{sdkProcessingMetadata:o={}}=t,{normalizedRequest:a,ipAddress:s}=o,A={...e,ip:e.ip??r.getOptions().sendDefaultPii};return a&&function(e,t,n,r){if(e.request={...e.request,...l(t,r)},r.ip){const r=t.headers&&i.getClientIPAddress(t.headers)||n.ipAddress;r&&(e.user={...e.user,ip_address:r})}}(t,a,{ipAddress:s},A),t}}});function l(e,t){const n={},r={...e.headers};if(t.headers&&(n.headers=r,t.cookies||delete r.cookie,t.ip||i.ipHeaderNames.forEach(e=>{delete r[e]})),n.method=e.method,t.url&&(n.url=e.url),t.cookies){const t=e.cookies||(r?.cookie?o.parseCookie(r.cookie):void 0);n.cookies=t||{}}return t.query_string&&(n.query_string=e.query_string),t.data&&(n.data=e.data),n}t.requestDataIntegration=s},3862:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1817);t.registerBackgroundTabDetection=function(){i.WINDOW.document?i.WINDOW.document.addEventListener("visibilitychange",()=>{const e=r.getActiveSpan();if(!e)return;const t=r.getRootSpan(e);if(i.WINDOW.document.hidden&&t){const e="cancelled",{op:n,status:i}=r.spanToJSON(t);o.DEBUG_BUILD&&r.debug.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),i||t.setStatus({code:r.SPAN_STATUS_ERROR,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):o.DEBUG_BUILD&&r.debug.warn("[Tracing] Could not set up background tab detection due to lack of global document")}},3866:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3348);function o(e){return"isRelative"in e}function i(e){if(o(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function a(e,t,n,r){return`${n?.method?.toUpperCase()??"GET"} ${r||(e?"client"===t?i(e):e.pathname:"/")}`}t.getHttpSpanDetailsFromUrlObject=function(e,t,n,i,s){const l={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:n,[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url"};return s&&(l["server"===t?"http.route":"url.template"]=s,l[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="route"),i?.method&&(l[r.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD]=i.method.toUpperCase()),e&&(e.search&&(l["url.query"]=e.search),e.hash&&(l["url.fragment"]=e.hash),e.pathname&&(l["url.path"]=e.pathname,"/"===e.pathname&&(l[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="route")),o(e)||(l[r.SEMANTIC_ATTRIBUTE_URL_FULL]=e.href,e.port&&(l["url.port"]=e.port),e.protocol&&(l["url.scheme"]=e.protocol),e.hostname&&(l["server"===t?"server.address":"url.domain"]=e.hostname))),[a(e,t,i,s),l]},t.getSanitizedUrlString=function(e){const{protocol:t,host:n,path:r}=e;return`${t?`${t}://`:""}${n?.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||""}${r}`},t.getSanitizedUrlStringFromUrlObject=i,t.isURLObjectRelative=o,t.parseStringToURLObject=function(e,t){const n=e.indexOf("://")<=0&&0!==e.indexOf("//"),r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;const t=new URL(e,r);return n?{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash}:t}catch{}},t.parseUrl=function(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}},t.stripUrlQueryAndFragment=function(e){return e.split(/[?#]/,1)[0]}},3915:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=r.defineIntegration(e=>{let{featureFlagClientClass:t}=e;return{name:"Unleash",setupOnce(){const e=t.prototype;r.fill(e,"isEnabled",a)},processEvent:(e,t,n)=>r._INTERNAL_copyFlagsFromScopeToEvent(e)}});function a(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const a=n[0],s=e.apply(this,n);return"string"===typeof a&&"boolean"===typeof s?(r._INTERNAL_insertFlagToScope(a,s),r._INTERNAL_addFeatureFlagToActiveSpan(a,s)):o.DEBUG_BUILD&&r.debug.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${a} (${typeof a}), result: ${s} (${typeof s})`),s}}t.unleashIntegration=i},3971:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(5613),a=[];function s(e,t,n){if(n[t.name])o.DEBUG_BUILD&&i.debug.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===a.indexOf(t.name)&&"function"===typeof t.setupOnce&&(t.setupOnce(),a.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}o.DEBUG_BUILD&&i.debug.log(`Integration installed: ${t.name}`)}}t.addIntegration=function(e){const t=r.getClient();t?t.addIntegration(e):o.DEBUG_BUILD&&i.debug.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},t.afterSetupIntegrations=function(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)},t.defineIntegration=function(e){return e},t.getIntegrationsToSetup=function(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(n))r=[...t,...n];else if("function"===typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach(e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(r)},t.installedIntegrations=a,t.setupIntegration=s,t.setupIntegrations=function(e,t){const n={};return t.forEach(t=>{t&&s(e,t,n)}),n}},3997:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6185),o=n(8395),i=n(8011),a=n(693),s=n(7751),l=n(1992),A=[1800,3e3];t.FCPThresholds=A,t.onFCP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.whenActivated(()=>{const n=i.getVisibilityWatcher(),l=a.initMetric("FCP");let c;const u=s.observe("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(u.disconnect(),t.startTime<n.firstHiddenTime&&(l.value=Math.max(t.startTime-o.getActivationStart(),0),l.entries.push(t),c(!0)))});u&&(c=r.bindReporter(e,l,A,t.reportAllChanges))})}},4038:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7842);t.getTraceMetaTags=function(e){return Object.entries(e||r.getTraceData()).map(e=>{let[t,n]=e;return`<meta name="${t}" content="${n}"/>`}).join("\n")}},4082:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7752);function o(){return Date.now()/1e3}let i,a;t.browserPerformanceTimeOrigin=function(){return a||(a=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e?.now)return[void 0,"none"];const t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,a=i<t,s=e.timing?.navigationStart,l="number"===typeof s?Math.abs(s+n-o):t;return a||l<t?i<=l?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[o,"dateNow"]}()),a[0]},t.dateTimestampInSeconds=o,t.timestampInSeconds=function(){return(i??(i=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e?.now||!e.timeOrigin)return o;const t=e.timeOrigin;return()=>(t+e.now())/1e3}()))()}},4130:(e,t,n)=>{"use strict";n.d(t,{aq:()=>i,deleteBrandMediaFile:()=>a,xw:()=>o});const r=n(377).A.PYTHON_API_URL,o=async e=>{try{const t=await fetch(`${r}/get-user-brands/${encodeURIComponent(e)}`);if(404===t.status)return null;if(!t.ok)throw new Error(`HTTP ${t.status}`);const n=await t.json();return n.brands&&n.brands.length>0?n.brands[0]:null}catch(t){return console.error("Error fetching user brand data:",t),null}},i=async e=>{try{const t=await fetch(`${r}/get-brand-data/${encodeURIComponent(e)}`);if(404===t.status)return null;if(!t.ok)throw new Error(`HTTP ${t.status}`);return await t.json()}catch(t){return console.error("Error fetching brand data by ID:",t),null}},a=async(e,t)=>{try{const n=await fetch(`${r}/delete-media-file/${encodeURIComponent(e)}/${encodeURIComponent(t)}`,{method:"DELETE"});if(!n.ok)throw new Error(`HTTP ${n.status}`);return await n.json()}catch(n){throw console.error("Error deleting brand media file:",n),n}}},4131:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3971),o=n(8926),i=n(844),a=r.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,a){const s=a.getOptions();o.applyAggregateErrorsToEvent(i.exceptionFromError,s.stackParser,n,t,e,r)}}});t.linkedErrorsIntegration=a},4195:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425),i=n(5043);function a(e){const t=e.match(/^([^.]+)/);return null!==t&&parseInt(t[0])>=17}function s(e,t){const n=new WeakSet;!function e(t,r){if(!n.has(t))return t.cause?(n.add(t),e(t.cause,r)):void(t.cause=r)}(e,t)}function l(e,t,n){let{componentStack:l}=t;if(a(i.version)&&o.isError(e)&&l){const t=new Error(e.message);t.name=`React ErrorBoundary ${e.name}`,t.stack=l,s(e,t)}return r.withScope(t=>(t.setContext("react",{componentStack:l}),r.captureException(e,n)))}t.captureReactException=l,t.isAtLeastReact17=a,t.reactErrorHandler=function(e){return(t,n)=>{const r=l(t,n);e&&e(t,n,r)}},t.setCause=s},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=v.prototype=new y;b.constructor=v,f(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!B.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];i.children=A}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+I(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(x,"$&/")+"/"),T(a,t,o,"",function(e){return e})):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var A=0;A<e.length;A++){var c=i+I(s=e[A],A);l+=T(s,t,o,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),A=0;!(s=e.next()).done;)l+=T(s=s.value,t,o,c=i+I(s,A++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function U(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},N={transition:null},P={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:N,ReactCurrentOwner:_};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=o,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)S.call(t,A)&&!B.hasOwnProperty(A)&&(o[A]=void 0===t[A]&&void 0!==l?l[A]:t[A])}var A=arguments.length-2;if(1===A)o.children=r;else if(1<A){l=Array(A);for(var c=0;c<A;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:A,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:U}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.3.1"},4283:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(5613),i=n(4082),a=100;t.addBreadcrumb=function(e,t){const n=r.getClient(),s=r.getIsolationScope();if(!n)return;const{beforeBreadcrumb:l=null,maxBreadcrumbs:A=a}=n.getOptions();if(A<=0)return;const c={timestamp:i.dateTimestampInSeconds(),...e},u=l?o.consoleSandbox(()=>l(c,t)):c;null!==u&&(n.emit&&n.emit("beforeAddBreadcrumb",u,t),s.addBreadcrumb(u,A))}},4333:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425),i=n(5043);t.init=function(e){const t={...e};return o.applySdkMetadata(t,"react"),r.setContext("react",{version:i.version}),r.init(t)}},4356:(e,t)=>{function n(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const t=e[r];"."===t?e.splice(r,1):".."===t?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function o(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=r.exec(t);return n?n.slice(1):[]}function i(){let e="",t=!1;for(let n=arguments.length-1;n>=-1&&!t;n--){const r=n>=0?n<0||arguments.length<=n?void 0:arguments[n]:"/";r&&(e=`${r}/${e}`,t="/"===r.charAt(0))}return e=n(e.split("/").filter(e=>!!e),!t).join("/"),(t?"/":"")+e||"."}function a(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function s(e){const t=l(e),r="/"===e.slice(-1);let o=n(e.split("/").filter(e=>!!e),!t).join("/");return o||t||(o="."),o&&r&&(o+="/"),(t?"/":"")+o}function l(e){return"/"===e.charAt(0)}t.basename=function(e,t){let n=o(e)[2]||"";return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n},t.dirname=function(e){const t=o(e),n=t[0]||"";let r=t[1];return n||r?(r&&(r=r.slice(0,r.length-1)),n+r):"."},t.isAbsolute=l,t.join=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(t.join("/"))},t.normalizePath=s,t.relative=function(e,t){e=i(e).slice(1),t=i(t).slice(1);const n=a(e.split("/")),r=a(t.split("/")),o=Math.min(n.length,r.length);let s=o;for(let i=0;i<o;i++)if(n[i]!==r[i]){s=i;break}let l=[];for(let i=s;i<n.length;i++)l.push("..");return l=l.concat(r.slice(s)),l.join("/")},t.resolve=i},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4401:(e,t,n)=>{"use strict";n.d(t,{ec:()=>Jn,b:()=>Yn,je:()=>Gn,Bh:()=>Zn,Ry:()=>er,hE:()=>Xn,dm:()=>qn,Ru:()=>Kn,zo:()=>zn,G6:()=>Hn,h_:()=>Vn,bk:()=>Wn});var r=n(9232);(0,r.KO)("firebase","12.0.0","app");var o=n(1776),i=n(2965),a=n(9606);function s(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l=s,A=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),c=new i.Vy("@firebase/auth");function u(e){if(c.logLevel<=i.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c.error(`Auth (${r.MF}): ${e}`,...n)}}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw m(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e,...n)}function h(e,t,n){const r={...l(),[t]:n};return new o.FA("auth","Firebase",r).create(t,{appName:e.name})}function f(e){return h(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&d(e,"argument-error"),h(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return A.create(e,...n)}function y(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw m(t,...r)}}function v(e){const t="INTERNAL ASSERTION FAILED: "+e;throw u(t),new Error(t)}function b(e,t){e||v(t)}function w(){return"undefined"!==typeof self&&self.location?.href||""}function S(){return"http:"===_()||"https:"===_()}function _(){return"undefined"!==typeof self&&self.location?.protocol||null}class B{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(S()||(0,o.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function C(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class E{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T=new B(3e4,6e4);function k(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function U(e,t,n,r){return F(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=(0,o.Am)({key:e.config.apiKey,...a}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const A={method:t,headers:l,...i};return(0,o.c1)()||(A.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,o.zJ)(e.emulatorConfig.host)&&(A.credentials="include"),E.fetch()(await P(e,e.config.apiHost,n,s),A)})}async function F(e,t,n){e._canInitEmulator=!1;const r={...x,...t};try{const t=new L(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw O(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw O(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw O(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw O(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw h(e,s,a);d(e,s)}}catch(i){if(i instanceof o.g)throw i;d(e,"network-request-failed",{message:String(i)})}}async function N(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await U(e,t,n,r,o);return"mfaPendingCredential"in i&&d(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function P(e,t,n,r){const o=`${t}${n}?${r}`,i=e,a=i.config.emulator?C(e.config,o):`${e.config.apiScheme}://${o}`;if(I.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function R(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),T.get())})}}function O(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=p(e,t,r);return o.customData._tokenResponse=n,o}function D(e){return void 0!==e&&void 0!==e.enterprise}class M{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return R(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q(e,t){return U(e,"GET","/v2/recaptchaConfig",k(e,t))}async function j(e,t){return U(e,"POST","/v1/accounts:lookup",t)}function H(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function z(e){return 1e3*Number(e)}function V(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return u("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,o.u)(n);return e?JSON.parse(e):(u("Failed to decode base64 JWT payload"),null)}catch(i){return u("Caught error parsing JWT payload as JSON",i?.toString()),null}}function K(e){const t=V(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof o.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class ${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=H(this.lastLoginAt),this.creationTime=H(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function q(e){const t=e.auth,n=await e.getIdToken(),r=await W(e,j(t,{idToken:n}));y(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const i=o.providerUserInfo?.length?Y(o.providerUserInfo):[],a=(s=e.providerData,l=i,[...s.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var s,l;const A=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!a?.length,u=!!A&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Y(e){return e.map(e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):K(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=K(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await F(e,{},async()=>{const n=(0,o.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await P(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,o.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),E.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new J;return n&&(y("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(y("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return v("not implemented")}}function X(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...o}=e;this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,o.Ku)(e),r=await n.getIdToken(t),i=V(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:r,authTime:H(z(i.auth_time)),issuedAtTime:H(z(i.iat)),expirationTime:H(z(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=(0,o.Ku)(e);await q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(f(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return U(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,i=t.photoURL??void 0,a=t.tenantId??void 0,s=t._redirectEventId??void 0,l=t.createdAt??void 0,A=t.lastLoginAt??void 0,{uid:c,emailVerified:u,isAnonymous:d,providerData:p,stsTokenManager:h}=t;y(c&&h,e,"internal-error");const f=J.fromJSON(this.name,h);y("string"===typeof c,e,"internal-error"),X(n,e.name),X(r,e.name),y("boolean"===typeof u,e,"internal-error"),y("boolean"===typeof d,e,"internal-error"),X(o,e.name),X(i,e.name),X(a,e.name),X(s,e.name),X(l,e.name),X(A,e.name);const g=new Z({uid:c,auth:e,email:r,emailVerified:u,displayName:n,isAnonymous:d,photoURL:i,phoneNumber:o,tenantId:a,stsTokenManager:f,createdAt:l,lastLoginAt:A});return p&&Array.isArray(p)&&(g.providerData=p.map(e=>({...e}))),s&&(g._redirectEventId=s),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new J;r.updateFromServerResponse(t);const o=new Z({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await q(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];y(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Y(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!o?.length,a=new J;a.updateFromIdToken(n);const s=new Z({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new $(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(s,l),s}}const ee=new Map;function te(e){b(e instanceof Function,"Expected a class definition");let t=ee.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ee.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const re=ne;function oe(e,t,n){return`firebase:${e}:${t}:${n}`}class ie{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=oe(this.userKey,r.apiKey,o),this.fullPersistenceKey=oe("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await j(this.auth,{idToken:e}).catch(()=>{});return t?Z._fromGetAccountInfoResponse(this.auth,t,e):null}return Z._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ie(te(re),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||te(re);const i=oe(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(i);if(t){let n;if("string"===typeof t){const r=await j(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Z._fromGetAccountInfoResponse(e,r,t)}else n=Z._fromJSON(e,t);l!==o&&(a=n),o=l;break}}catch{}const s=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&s.length?(o=s[0],a&&await o._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch{}})),new ie(o,e,n)):new ie(o,e,n)}}function ae(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ce(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(se(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(de(t))return"Blackberry";if(pe(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||Ae(t))&&!t.includes("edge/"))return"Chrome";if(ue(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/firefox\//i.test(e)}function le(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/crios\//i.test(e)}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/iemobile/i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/android/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/blackberry/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/webos/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return he(e)||ue(e)||pe(e)||de(e)||/windows phone/i.test(e)||ce(e)}function ge(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ae((0,o.ZQ)());break;case"Worker":t=`${ae((0,o.ZQ)())}-${e}`;break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${r.MF}/${i}`}class me{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(o){r(o)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}class ye{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ve{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new me(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=te(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(n){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await j(this,{idToken:e}),n=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,r=n?._redirectEventId,i=await this.tryRedirectSignIn(e);t&&t!==r||!i?.user||(n=i.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(i){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await q(e)}catch(t){if("auth/network-request-failed"!==t?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(f(this));const t=e?(0,o.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(f(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(f(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(te(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return U(e,"GET","/v2/passwordPolicy",k(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ye(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new o.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return U(e,"POST","/v2/accounts:revokeToken",k(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&te(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[te(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(c.logLevel<=i.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c.warn(`Auth (${r.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function be(e){return(0,o.Ku)(e)}class we{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,o.tD)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Se={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _e(e){return Se.loadJS(e)}function Be(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ce{constructor(){this.enterprise=new Ee}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ee{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xe="NO_RECAPTCHA";class Ie{constructor(e){this.type="recaptcha-enterprise",this.auth=be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;D(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(xe)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ce).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Q(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new M(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&D(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Se.recaptchaEnterpriseScript;0!==t.length&&(t+=o),_e(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Te(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Ie(e);let a;if(o)a=xe;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const s={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ke(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Te(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Te(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await Te(e,t,n);return r(e,o).catch(async o=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===o.code||"auth/invalid-app-credential"===o.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const o=await Te(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await Te(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function Ue(e){const t=be(e),n=await Q(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new M(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ie(t).verify()}}function Fe(e,t,n){const r=be(e);y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,a=Ne(t),{host:s,port:l}=function(e){const t=Ne(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:Pe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Pe(t)}}}(t),A=null===l?"":`:${l}`,c={url:`${a}//${s}${A}/`},u=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void y((0,o.bD)(c,r.config.emulator)&&(0,o.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,o.zJ)(s)?((0,o.gE)(`${a}//${s}${A}`),(0,o.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ne(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Pe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Re{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}async function Le(e,t){return U(e,"POST","/v1/accounts:signUp",t)}async function Oe(e,t){return N(e,"POST","/v1/accounts:signInWithPassword",k(e,t))}async function De(e,t){return U(e,"POST","/v1/accounts:sendOobCode",k(e,t))}async function Me(e,t){return De(e,t)}async function Qe(e,t){return De(e,t)}class je extends Re{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new je(e,t,"password")}static _fromEmailAndCode(e,t){return new je(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ke(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",k(e,t))}(e,{email:this._email,oobCode:this._password});default:d(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ke(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Le,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",k(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:d(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function He(e,t){return N(e,"POST","/v1/accounts:signInWithIdp",k(e,t))}class ze extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ze(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):d("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...o}=t;if(!n||!r)return null;const i=new ze(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return He(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,He(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,He(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,o.Am)(t)}return e}}async function Ve(e,t){return U(e,"POST","/v1/accounts:sendVerificationCode",k(e,t))}const Ke={USER_NOT_FOUND:"user-not-found"};class We extends Re{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new We({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new We({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await N(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,t));if(n.temporaryProof)throw O(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",k(e,{...t,operation:"REAUTH"}),Ke)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new We({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class Ge{constructor(e){const t=(0,o.I9)((0,o.hp)(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);y(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=(0,o.I9)((0,o.hp)(e)).link,n=t?(0,o.I9)((0,o.hp)(t)).deep_link_id:null,r=(0,o.I9)((0,o.hp)(e)).deep_link_id;return(r?(0,o.I9)((0,o.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ge(t)}catch{return null}}}class $e{constructor(){this.providerId=$e.PROVIDER_ID}static credential(e,t){return je._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ge.parseLink(t);return y(n,"argument-error"),je._fromEmailAndCode(e,n.code,n.tenantId)}}$e.PROVIDER_ID="password",$e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ye extends qe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Je extends Ye{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return y("providerId"in t&&"signInMethod"in t,"argument-error"),ze._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return y(e.idToken||e.accessToken,"argument-error"),ze._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Je.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Je.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:o,pendingToken:i,nonce:a,providerId:s}=t;if(!r&&!o&&!n&&!i)return null;if(!s)return null;try{return new Je(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:i})}catch(l){return null}}}class Xe extends Ye{constructor(){super("facebook.com")}static credential(e){return ze._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xe.credential(t.oauthAccessToken)}catch{return null}}}Xe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xe.PROVIDER_ID="facebook.com";class Ze extends Ye{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ze._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ze.credential(n,r)}catch{return null}}}Ze.GOOGLE_SIGN_IN_METHOD="google.com",Ze.PROVIDER_ID="google.com";class et extends Ye{constructor(){super("github.com")}static credential(e){return ze._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return et.credential(t.oauthAccessToken)}catch{return null}}}et.GITHUB_SIGN_IN_METHOD="github.com",et.PROVIDER_ID="github.com";class tt extends Ye{constructor(){super("twitter.com")}static credential(e,t){return ze._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tt.credential(n,r)}catch{return null}}}async function nt(e,t){return N(e,"POST","/v1/accounts:signUp",k(e,t))}tt.TWITTER_SIGN_IN_METHOD="twitter.com",tt.PROVIDER_ID="twitter.com";class rt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Z._fromIdTokenResponse(e,n,r),i=ot(n);return new rt({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ot(n);return new rt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ot(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class it extends o.g{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,it.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new it(e,t,n,r)}}function at(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw it._fromErrorAndOperation(e,n,t,r);throw n})}async function st(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rt._forOperation(e,"link",r)}async function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:o}=e;if((0,r.xZ)(o.app))return Promise.reject(f(o));const i="reauthenticate";try{const r=await W(e,at(o,i,t,e),n);y(r.idToken,o,"internal-error");const a=V(r.idToken);y(a,o,"internal-error");const{sub:s}=a;return y(e.uid===s,o,"user-mismatch"),rt._forOperation(e,i,r)}catch(a){throw"auth/user-not-found"===a?.code&&d(o,"user-mismatch"),a}}async function At(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(f(e));const o="signIn",i=await at(e,o,t),a=await rt._fromIdTokenResponse(e,o,i);return n||await e._updateCurrentUser(a.user),a}async function ct(e,t){return At(be(e),t)}function ut(e,t,n){y(n.url?.length>0,e,"invalid-continue-uri"),y("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),y("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function dt(e){const t=be(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function pt(e,t,n,r){return(0,o.Ku)(e).onAuthStateChanged(t,n,r)}function ht(e,t){return U(e,"POST","/v2/accounts/mfaEnrollment:start",k(e,t))}new WeakMap;const ft="__sak";class gt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ft,"1"),this.storage.removeItem(ft),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class mt extends gt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,o.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mt.type="LOCAL";const yt=mt;function vt(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function bt(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class wt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=bt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return vt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=bt(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=bt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=vt(n);const o=setInterval(()=>{const e=vt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}wt.type="COOKIE";class St extends gt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}St.type="SESSION";const _t=St;class Bt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Bt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!i?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,o)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bt.receivers=[];class Et{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((a,s)=>{const l=Ct("",20);r.port1.start();const A=setTimeout(()=>{s(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(A),clearTimeout(o),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function xt(){return window}function It(){return"undefined"!==typeof xt().WorkerGlobalScope&&"function"===typeof xt().importScripts}const Tt="firebaseLocalStorageDb",kt="firebaseLocalStorage",Ut="fbase_key";class Ft{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nt(e,t){return e.transaction([kt],t?"readwrite":"readonly").objectStore(kt)}function Pt(){const e=indexedDB.open(Tt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(kt,{keyPath:Ut})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(kt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Tt);return new Ft(e).toPromise()}(),t(await Pt()))})})}async function Rt(e,t,n){const r=Nt(e,!0).put({[Ut]:t,value:n});return new Ft(r).toPromise()}function Lt(e,t){const n=Nt(e,!0).delete(t);return new Ft(n).toPromise()}class Ot{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Pt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return It()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bt._getInstance(It()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Et(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pt();return await Rt(e,ft,"1"),await Lt(e,ft),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Nt(e,!1).get(t),r=await new Ft(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Nt(e,!1).getAll();return new Ft(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ot.type="LOCAL";const Dt=Ot;function Mt(e,t){return U(e,"POST","/v2/accounts/mfaSignIn:start",k(e,t))}Be("rcb"),new B(3e4,6e4);const Qt="recaptcha";async function jt(e,t,n){if(!e._getRecaptchaConfig())try{await Ue(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){y("enroll"===t.type,e,"internal-error");const o={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=ke(e,o,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===xe){y(n?.type===Qt,e,"argument-error");return ht(e,await Ht(e,t,n))}return ht(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;y(o,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=ke(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===xe){y(n?.type===Qt,e,"argument-error");return Mt(e,await Ht(e,t,n))}return Mt(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},o=ke(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===xe){y(n?.type===Qt,e,"argument-error");return Ve(e,await Ht(e,t,n))}return Ve(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Ht(e,t,n){y(n.type===Qt,e,"argument-error");const r=await n.verify();y("string"===typeof r,e,"argument-error");const o={...t};if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class zt{constructor(e){this.providerId=zt.PROVIDER_ID,this.auth=be(e)}verifyPhoneNumber(e,t){return jt(this.auth,e,(0,o.Ku)(t))}static credential(e,t){return We._fromVerification(e,t)}static credentialFromResult(e){const t=e;return zt.credentialFromTaggedObject(t)}static credentialFromError(e){return zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?We._fromTokenResponse(n,r):null}}function Vt(e,t){return t?te(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zt.PROVIDER_ID="phone",zt.PHONE_SIGN_IN_METHOD="phone";class Kt extends Re{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return He(e,this._buildIdpRequest())}_linkToIdToken(e,t){return He(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return He(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wt(e){return At(e.auth,new Kt(e),e.bypassAuthState)}function Gt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),lt(n,new Kt(e),e.bypassAuthState)}async function $t(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),st(n,new Kt(e),e.bypassAuthState)}class qt{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:a}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wt;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return Gt;default:d(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yt=new B(2e3,1e4);async function Jt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(p(e,"operation-not-supported-in-this-environment"));const o=be(e);g(e,t,qe);const i=Vt(o,n);return new Xt(o,"signInViaPopup",t,i).executeNotNull()}class Xt extends qt{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Xt.currentPopupAction&&Xt.currentPopupAction.cancel(),Xt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=Ct();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xt.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Yt.get())};e()}}Xt.currentPopupAction=null;const Zt=new Map;class en extends qt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=rn(t),r=nn(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Zt.set(this.auth._key(),e)}return this.bypassAuthState||Zt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function tn(e,t){Zt.set(e._key(),t)}function nn(e){return te(e._redirectPersistence)}function rn(e){return oe("pendingRedirect",e.config.apiKey,e.name)}async function on(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(f(e));const o=be(e),i=Vt(o,t),a=new en(o,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await o._persistUserIfCurrent(s.user),await o._setRedirectUser(null,t)),s}class an{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ln(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ln(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(p(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sn(e))}saveEventToCache(e){this.cachedEventUids.add(sn(e)),this.lastProcessedEventTime=Date.now()}}function sn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ln(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const An=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cn=/^https?/;async function un(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return U(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(dn(n))return}catch{}d(e,"unauthorized-domain")}function dn(e){const t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!cn.test(n))return!1;if(An.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const pn=new B(3e4,6e4);function hn(){const e=xt().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fn(e){return new Promise((t,n)=>{function r(){hn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hn(),n(p(e,"network-request-failed"))},timeout:pn.get()})}if(xt().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!xt().gapi?.load){const t=Be("iframefcb");return xt()[t]=()=>{gapi.load?r():n(p(e,"network-request-failed"))},_e(`${Se.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw gn=null,e})}let gn=null;const mn=new B(5e3,15e3),yn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bn(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:r.MF},a=vn.get(e.config.apiHost);a&&(i.eid=a);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${(0,o.Am)(i).slice(1)}`}async function wn(e){const t=await function(e){return gn=gn||fn(e),gn}(e),n=xt().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:bn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=p(e,"network-request-failed"),i=xt().setTimeout(()=>{r(o)},mn.get());function a(){xt().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(o)})}))}const Sn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _n{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Bn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const A={...Sn,width:r.toString(),height:i.toString(),top:a,left:s},c=(0,o.ZQ)().toLowerCase();n&&(l=Ae(c)?"_blank":n),se(c)&&(t=t||"http://localhost",A.scrollbars="yes");const u=Object.entries(A).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){return he(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)())&&!!window.navigator?.standalone}(c)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new _n(null);const d=window.open(t||"",l,u);y(d,e,"popup-blocked");try{d.focus()}catch(p){}return new _n(d)}const Cn="__/auth/handler",En="emulator/auth/handler",xn=encodeURIComponent("fac");async function In(e,t,n,i,a,s){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:r.MF,eventId:a};if(t instanceof qe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,o.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof Ye){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const A=l;for(const r of Object.keys(A))void 0===A[r]&&delete A[r];const c=await e._getAppCheckToken(),u=c?`#${xn}=${encodeURIComponent(c)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Cn}`;return C(t,En)}(e)}?${(0,o.Am)(A).slice(1)}${u}`}const Tn="webStorageSupport";const kn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_t,this._completeRedirectFn=on,this._overrideRedirectResult=tn}async _openPopup(e,t,n,r){b(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Bn(e,await In(e,t,n,w(),r),Ct())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){xt().location.href=e}(await In(e,t,n,w(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await wn(e),n=new an(e);return t.register("authEvent",t=>{y(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tn,{type:Tn},n=>{const r=n?.[0]?.[Tn];void 0!==r&&t(!!r),d(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=un(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fe()||le()||he()}};var Un="@firebase/auth",Fn="1.11.0";class Nn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pn=(0,o.XA)("authIdTokenMaxAge")||300;let Rn=null;var Ln;Se={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ln="Browser",(0,r.om)(new a.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Ln,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(Ln)},A=new ve(r,o,i,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(te);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(A,n),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new a.uA("auth-internal",e=>(e=>new Nn(e))(be(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Un,Fn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ln)),(0,r.KO)(Un,Fn,"esm2020");const On=(0,r.Wp)({apiKey:"AIzaSyDmFoYcAIiTx73xoHHPYh_HgMj8Tfdk-_o",authDomain:"c5itmtshopify.firebaseapp.com",projectId:"c5itmtshopify",storageBucket:"c5itmtshopify.firebasestorage.app",messagingSenderId:"898831452459",appId:"1:898831452459:web:eec3323fd14acb6b5ddd6e",measurementId:"G-KVWT9X6XT6"}),Dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,o.bD)(r,t??{}))return e;d(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:kn,persistence:[Dt,yt,_t]}),i=(0,o.XA)("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pn)return;const r=t?.token;Rn!==r&&(Rn=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){(0,o.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,o.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const s=(0,o.Tj)("auth");return s&&Fe(n,`http://${s}`),n}(On),Mn=new Ze;Mn.setCustomParameters({prompt:"select_account"}),Mn.addScope("email"),Mn.addScope("profile");const Qn=new Xe;Qn.addScope("email");const jn=new Je("microsoft.com");jn.addScope("email"),jn.addScope("profile");const Hn=()=>Jt(Dn,Mn),zn=()=>Jt(Dn,Qn),Vn=()=>Jt(Dn,jn),Kn=(e,t)=>function(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(f(e)):ct((0,o.Ku)(e),$e.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&dt(e),t})}(Dn,e,t),Wn=(e,t)=>async function(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(f(e));const o=be(e),i=ke(o,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nt,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&dt(e),t}),s=await rt._fromIdTokenResponse(o,"signIn",a);return await o._updateCurrentUser(s.user),s}(Dn,e,t),Gn=()=>function(e){return(0,o.Ku)(e).signOut()}(Dn),$n={url:window.location.origin+"/login?emailVerified=true",handleCodeInApp:!0,iOS:{bundleId:"com.incivus.app"},android:{packageName:"com.incivus.app",installApp:!0,minimumVersion:"12"}},qn=e=>async function(e,t,n){const r=be(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){y(t.handleCodeInApp,r,"argument-error"),t&&ut(r,e,t)}(o,n),await ke(r,o,"getOobCode",Qe,"EMAIL_PASSWORD_PROVIDER")}(Dn,e,$n),Yn=function(){return function(e,t){const n=Ge.parseLink(t);return"EMAIL_SIGNIN"===n?.operation}(0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href)},Jn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return async function(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(f(e));const i=(0,o.Ku)(e),a=$e.credentialWithLink(t,n||w());return y(a._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),ct(i,a)}(Dn,e,t)},Xn=e=>async function(e,t,n){const r=be(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ut(r,o,n),await ke(r,o,"getOobCode",Me,"EMAIL_PASSWORD_PROVIDER")}(Dn,e),Zn=e=>pt(Dn,e),er=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const{firebaseOfflineMode:o}=await n.e(433).then(n.bind(n,9433));if("undefined"!==typeof navigator&&!1===navigator.onLine)return console.warn("\ud83d\udeab Backend operation skipped - browser offline"),r;if(t){if(!await new Promise(e=>{const t=pt(Dn,n=>{t(),e(n)})}))throw new Error("User must be authenticated")}const i=await e();try{o.disableOfflineMode()}catch{}return i}catch(o){console.error("\ud83d\udd25 Backend operation failed:",o);try{const{firebaseOfflineMode:t}=await n.e(433).then(n.bind(n,9433));return await t.safeFirebaseOperation(e,r)}catch(i){return console.error("\u274c Offline fallback failed:",i),r}}}},4427:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(7379),a=n(3186),s=100,l=5e3;t.MIN_DELAY=s,t.START_DELAY=l,t.makeOfflineTransport=function(e){function t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.DEBUG_BUILD&&o.debug.log("[Offline]:",...t)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const o=n.createStore(n);let A,c=l;function u(e){A&&clearTimeout(A),A=setTimeout(async()=>{A=void 0;const e=await o.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=(new Date).toISOString(),p(e,!0).catch(e=>{t("Failed to retry sending",e)}))},e),"number"!==typeof A&&A.unref&&A.unref()}function d(){A||(u(c),c=Math.min(2*c,36e5))}async function p(e){let A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!A&&i.envelopeContainsItemType(e,["replay_event","replay_recording"]))return await o.push(e),u(s),{};try{if(n.shouldSend&&!1===await n.shouldSend(e))throw new Error("Envelope not sent because `shouldSend` callback returned false");const t=await r.send(e);let o=s;if(t)if(t.headers?.["retry-after"])o=a.parseRetryAfterHeader(t.headers["retry-after"]);else if(t.headers?.["x-sentry-rate-limits"])o=6e4;else if((t.statusCode||0)>=400)return t;return u(o),c=l,t}catch(p){if(await function(e,t,r){return!i.envelopeContainsItemType(e,["client_report"])&&(!n.shouldStore||n.shouldStore(e,t,r))}(e,p,c))return A?await o.unshift(e):await o.push(e),d(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&d(),{send:p,flush:e=>(void 0===e&&(c=l,u(s)),r.flush(e))}}}},4432:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3677),o=n(7745),i=n(4447),a=n(6893);class s{constructor(e,t){let n,r;n=e||new o.Scope,r=t||new o.Scope,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(r){throw this._popScope(),r}return i.isThenable(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function l(){const e=a.getMainCarrier(),t=a.getSentryCarrier(e);return t.stack=t.stack||new s(r.getDefaultCurrentScope(),r.getDefaultIsolationScope())}function A(e){return l().withScope(e)}function c(e,t){const n=l();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function u(e){return l().withScope(()=>e(l().getIsolationScope()))}t.AsyncContextStack=s,t.getStackAsyncContextStrategy=function(){return{withIsolationScope:u,withScope:A,withSetScope:c,withSetIsolationScope:(e,t)=>u(t),getCurrentScope:()=>l().getScope(),getIsolationScope:()=>l().getIsolationScope()}}},4447:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=Object.prototype.toString;function r(e,t){return n.call(e)===`[object ${t}]`}function o(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function i(e){return r(e,"Object")}function a(e,t){try{return e instanceof t}catch{return!1}}t.isDOMError=function(e){return r(e,"DOMError")},t.isDOMException=function(e){return r(e,"DOMException")},t.isElement=function(e){return"undefined"!==typeof Element&&a(e,Element)},t.isError=function(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return a(e,Error)}},t.isErrorEvent=function(e){return r(e,"ErrorEvent")},t.isEvent=function(e){return"undefined"!==typeof Event&&a(e,Event)},t.isInstanceOf=a,t.isParameterizedString=o,t.isPlainObject=i,t.isPrimitive=function(e){return null===e||o(e)||"object"!==typeof e&&"function"!==typeof e},t.isRegExp=function(e){return r(e,"RegExp")},t.isRequest=function(e){return"undefined"!==typeof Request&&a(e,Request)},t.isString=function(e){return r(e,"String")},t.isSyntheticEvent=function(e){return i(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e},t.isThenable=function(e){return Boolean(e?.then&&"function"===typeof e.then)},t.isVueViewModel=function(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}},4496:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3971),o=n(3012),i=n(7379),a=n(1274),s=r.defineIntegration(e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",e=>{i.forEachEnvelopeItem(e,(e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(o.stripMetadataFromStackFrames(t),e[1]=t)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;o.addMetadataToStackFrames(n,t)})},processEvent(t){const n=function(e){const t=a.getFramesFromEvent(e);if(!t)return;return t.filter(e=>!!e.filename).map(e=>e.module_metadata?Object.keys(e.module_metadata).filter(e=>e.startsWith(l)).map(e=>e.slice(l.length)):[])}(t);if(n){if(n["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"](t=>!t.some(t=>e.filterKeys.includes(t)))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0}}}return t}}));const l="_sentryBundlerPluginAppKey:";t.thirdPartyErrorFilterIntegration=s},4528:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},4575:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447),o=n(7752).GLOBAL_OBJ;function i(e,t){const n=e,i=[];if(!n?.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const a=t?.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(a?.length)a.forEach(e=>{i.push(`[${e[0]}="${e[1]}"]`)});else{n.id&&i.push(`#${n.id}`);const e=n.className;if(e&&r.isString(e)){const t=e.split(/\s+/);for(const e of t)i.push(`.${e}`)}}const s=["aria-label","type","name","title","alt"];for(const r of s){const e=n.getAttribute(r);e&&i.push(`[${r}="${e}"]`)}return i.join("")}t.getComponentName=function(e){if(!o.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null},t.getLocationHref=function(){try{return o.document.location.href}catch{return""}},t.htmlTreeAsString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let a=0,s=0;const l=" > ",A=l.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&a++<r&&(c=i(n,u),!("html"===c||a>1&&s+o.length*A+c.length>=d));)o.push(c),s+=c.length,n=n.parentNode;return o.reverse().join(l)}catch{return"<unknown>"}}},4627:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};t.createReduxEnhancer=function(e){const t={...o,...e};return e=>(n,o)=>{function i(e){return(n,o)=>{const i=e(n,o),a=r.getCurrentScope(),s=t.actionTransformer(o);"undefined"!==typeof s&&null!==s&&r.addBreadcrumb({category:"redux.action",data:s,type:"info"});const l=t.stateTransformer(i);if("undefined"!==typeof l&&null!==l){const e=r.getClient(),t=e?.getOptions(),n=t?.normalizeDepth||3,o={state:{type:"redux",value:l}};r.addNonEnumerableProperty(o,"__sentry_override_normalization_depth__",3+n),a.setContext("state",o)}else a.setContext("state",null);const{configureScopeWithState:A}=t;return"function"===typeof A&&A(a,i),i}}t.attachReduxState&&r.getGlobalScope().addEventProcessor((e,t)=>{try{void 0===e.type&&"redux"===e.contexts.state.state.type&&(t.attachments=[...t.attachments||[],{filename:"redux_state.json",data:JSON.stringify(e.contexts.state.state.value)}])}catch{}return e});const a=e(i(n),o);return a.replaceReducer=new Proxy(a.replaceReducer,{apply:function(e,t,n){e.apply(t,[i(n[0])])}}),a}}},4657:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(4333),i=n(4195),a=n(2580),s=n(7365),l=n(4627),A=n(6804),c=n(3165),u=n(5643),d=n(4895),p=n(536);t.init=o.init,t.captureReactException=i.captureReactException,t.reactErrorHandler=i.reactErrorHandler,t.Profiler=a.Profiler,t.useProfiler=a.useProfiler,t.withProfiler=a.withProfiler,t.ErrorBoundary=s.ErrorBoundary,t.withErrorBoundary=s.withErrorBoundary,t.createReduxEnhancer=l.createReduxEnhancer,t.reactRouterV3BrowserTracingIntegration=A.reactRouterV3BrowserTracingIntegration,t.tanstackRouterBrowserTracingIntegration=c.tanstackRouterBrowserTracingIntegration,t.reactRouterV4BrowserTracingIntegration=u.reactRouterV4BrowserTracingIntegration,t.reactRouterV5BrowserTracingIntegration=u.reactRouterV5BrowserTracingIntegration,t.withSentryRouting=u.withSentryRouting,t.reactRouterV6BrowserTracingIntegration=d.reactRouterV6BrowserTracingIntegration,t.withSentryReactRouterV6Routing=d.withSentryReactRouterV6Routing,t.wrapCreateBrowserRouterV6=d.wrapCreateBrowserRouterV6,t.wrapCreateMemoryRouterV6=d.wrapCreateMemoryRouterV6,t.wrapUseRoutesV6=d.wrapUseRoutesV6,t.reactRouterV7BrowserTracingIntegration=p.reactRouterV7BrowserTracingIntegration,t.withSentryReactRouterV7Routing=p.withSentryReactRouterV7Routing,t.wrapCreateBrowserRouterV7=p.wrapCreateBrowserRouterV7,t.wrapCreateMemoryRouterV7=p.wrapCreateMemoryRouterV7,t.wrapUseRoutesV7=p.wrapUseRoutesV7,Object.prototype.hasOwnProperty.call(r,"__proto__")&&!Object.prototype.hasOwnProperty.call(t,"__proto__")&&Object.defineProperty(t,"__proto__",{enumerable:!0,value:r.__proto__}),Object.keys(r).forEach(e=>{"default"===e||Object.prototype.hasOwnProperty.call(t,e)||(t[e]=r[e])})},4737:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.parseCookie=function(e){const t={};let n=0;for(;n<e.length;){const r=e.indexOf("=",n);if(-1===r)break;let o=e.indexOf(";",n);if(-1===o)o=e.length;else if(o<r){n=e.lastIndexOf(";",r-1)+1;continue}const i=e.slice(n,r).trim();if(void 0===t[i]){let n=e.slice(r+1,o).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{t[i]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch{t[i]=n}}n=o+1}return t}},4810:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7752),o=n(162);let i=null;function a(){i=r.GLOBAL_OBJ.onunhandledrejection,r.GLOBAL_OBJ.onunhandledrejection=function(e){const t=e;return o.triggerHandlers("unhandledrejection",t),!i||i.apply(this,arguments)},r.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}t.addGlobalUnhandledRejectionInstrumentationHandler=function(e){const t="unhandledrejection";o.addHandler(t,e),o.maybeInstrument(t,a)}},4867:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6586),o=n(9262);t.SentryNonRecordingSpan=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||r.generateTraceId(),this._spanId=e.spanId||r.generateSpanId()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:o.TRACE_FLAG_NONE}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}},4895:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(354);t.reactRouterV6BrowserTracingIntegration=function(e){return r.createReactRouterV6CompatibleTracingIntegration(e,"6")},t.withSentryReactRouterV6Routing=function(e){return r.createV6CompatibleWithSentryReactRouterRouting(e,"6")},t.wrapCreateBrowserRouterV6=function(e){return r.createV6CompatibleWrapCreateBrowserRouter(e,"6")},t.wrapCreateMemoryRouterV6=function(e){return r.createV6CompatibleWrapCreateMemoryRouter(e,"6")},t.wrapUseRoutesV6=function(e){return r.createV6CompatibleWrapUseRoutes(e,"6")}},4907:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447),o=n(676),i=n(3075),a=n(4082),s=n(7752),l=n(162);function A(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!i.supportsNativeFetch()||o.fill(s.GLOBAL_OBJ,"fetch",function(t){return function(){const n=new Error;for(var i=arguments.length,A=new Array(i),c=0;c<i;c++)A[c]=arguments[c];const{method:u,url:d}=p(A),f={args:A,fetchData:{method:u,url:d},startTimestamp:1e3*a.timestampInSeconds(),virtualError:n,headers:h(A)};return e||l.triggerHandlers("fetch",{...f}),t.apply(s.GLOBAL_OBJ,A).then(async t=>(e?e(t):l.triggerHandlers("fetch",{...f,endTimestamp:1e3*a.timestampInSeconds(),response:t}),t),e=>{if(l.triggerHandlers("fetch",{...f,endTimestamp:1e3*a.timestampInSeconds(),error:e}),r.isError(e)&&void 0===e.stack&&(e.stack=n.stack,o.addNonEnumerableProperty(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(f.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e})}})}function c(e){let t;try{t=e.clone()}catch{return}!async function(e,t){if(e?.body){const n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4);let i=!0;for(;i;){let e;try{e=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:o}=await r.read();clearTimeout(e),o&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(e)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}(t,()=>{l.triggerHandlers("fetch-body-resolved",{endTimestamp:1e3*a.timestampInSeconds(),response:e})})}function u(e,t){return!!e&&"object"===typeof e&&!!e[t]}function d(e){return"string"===typeof e?e:e?u(e,"url")?e.url:e.toString?e.toString():"":""}function p(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:d(t),method:u(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:d(t),method:u(t,"method")?String(t.method).toUpperCase():"GET"}}function h(e){const[t,n]=e;try{if("object"===typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(r.isRequest(t))return new Headers(t.headers)}catch{}}t.addFetchEndInstrumentationHandler=function(e){const t="fetch-body-resolved";l.addHandler(t,e),l.maybeInstrument(t,()=>A(c))},t.addFetchInstrumentationHandler=function(e,t){const n="fetch";l.addHandler(n,e),l.maybeInstrument(n,()=>A(void 0,t))},t.parseFetchArgs=p},4913:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6893),o=n(4432);t.getAsyncContextStrategy=function(e){const t=r.getSentryCarrier(e);return t.acs?t.acs:o.getStackAsyncContextStrategy()},t.setAsyncContextStrategy=function(e){const t=r.getMainCarrier();r.getSentryCarrier(t).acs=e}},4937:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4913),o=n(6893),i=n(7745),a=n(6586);function s(){const e=o.getMainCarrier();return r.getAsyncContextStrategy(e).getCurrentScope()}t.getClient=function(){return s().getClient()},t.getCurrentScope=s,t.getGlobalScope=function(){return o.getGlobalSingleton("globalScope",()=>new i.Scope)},t.getIsolationScope=function(){const e=o.getMainCarrier();return r.getAsyncContextStrategy(e).getIsolationScope()},t.getTraceContextFromScope=function(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,i={trace_id:n,span_id:o||a.generateSpanId()};return r&&(i.parent_span_id=r),i},t.withIsolationScope=function(){const e=o.getMainCarrier(),t=r.getAsyncContextStrategy(e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(2===i.length){const[e,n]=i;return e?t.withSetIsolationScope(e,n):t.withIsolationScope(n)}return t.withIsolationScope(i[0])},t.withScope=function(){const e=o.getMainCarrier(),t=r.getAsyncContextStrategy(e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(2===i.length){const[e,n]=i;return e?t.withSetScope(e,n):t.withScope(n)}return t.withScope(i[0])}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,A=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case u:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case A:case d:case g:case f:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=A,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=i,t.Lazy=g,t.Memo=f,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===A},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===f},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===s||e===a||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===A||e.$$typeof===d||e.$$typeof===y||e.$$typeof===v||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5124:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSDKSource=function(){return"npm"},t.isBrowserBundle=function(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}},5205:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650),i=n(962),a=n(1817),s=n(3862),l=n(3006),A=n(7128),c="BrowserTracing",u={...r.TRACING_DEFAULTS,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...A.defaultRequestInstrumentationOptions};function d(e,t,n){e.emit("startPageLoadSpan",t,n),r.getCurrentScope().setTransactionName(t.name);const o=g(e);return o&&e.emit("afterStartPageLoadSpan",o),o}function p(e,t,n){const{url:o,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const s=r.getCurrentScope();return s.setTransactionName(t.name),o&&!i&&s.setSDKProcessingMetadata({normalizedRequest:{...a.getHttpRequestData(),url:o}}),g(e)}function h(e){const t=a.WINDOW.document,n=t?.querySelector(`meta[name=${e}]`);return n?.getAttribute("content")||void 0}const f="_sentry_idleSpan";function g(e){return e[f]}function m(e,t){r.addNonEnumerableProperty(e,f,t)}const y=.3;t.BROWSER_TRACING_INTEGRATION_ID=c,t.browserTracingIntegration=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={name:void 0,source:void 0},n=a.WINDOW.document,{enableInp:f,enableElementTiming:v,enableLongTask:b,enableLongAnimationFrame:w,_experiments:{enableInteractions:S,enableStandaloneClsSpans:_,enableStandaloneLcpSpans:B},beforeStartSpan:C,idleTimeout:E,finalTimeout:x,childSpanTimeout:I,markBackgroundSpan:T,traceFetch:k,traceXHR:U,trackFetchStreamPerformance:F,shouldCreateSpanForRequest:N,enableHTTPTimings:P,ignoreResourceSpans:R,ignorePerformanceApiSpans:L,instrumentPageLoad:O,instrumentNavigation:D,detectRedirects:M,linkPreviousTrace:Q,consistentTraceSampling:j,onRequestSpanStart:H}={...u,...e};let z,V;function K(e,i){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s="pageload"===i.op,l=C?C(i):i,A=l.attributes||{};if(i.name!==l.name&&(A[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom",l.attributes=A),!a){const e=r.dateTimestampInSeconds();return void r.startInactiveSpan({...l,startTime:e}).end(e)}t.name=l.name,t.source=A[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const c=r.startIdleSpan(l,{idleTimeout:E,finalTimeout:x,childSpanTimeout:I,disableAutoFinish:s,beforeSpanEnd:t=>{z?.(),o.addPerformanceEntries(t,{recordClsOnPageloadSpan:!_,recordLcpOnPageloadSpan:!B,ignoreResourceSpans:R,ignorePerformanceApiSpans:L}),m(e,void 0);const n=r.getCurrentScope(),i=n.getPropagationContext();n.setPropagationContext({...i,traceId:c.spanContext().traceId,sampled:r.spanIsSampled(c),dsc:r.getDynamicSamplingContextFromSpan(t)})}});function u(){n&&["interactive","complete"].includes(n.readyState)&&e.emit("idleSpanEnableAutoFinish",c)}m(e,c),s&&n&&(n.addEventListener("readystatechange",()=>{u()}),u())}return{name:c,setup(e){if(r.registerSpanErrorInstrumentation(),z=o.startTrackingWebVitals({recordClsStandaloneSpans:_||!1,recordLcpStandaloneSpans:B||!1,client:e}),f&&o.startTrackingINP(),v&&o.startTrackingElementTiming(),w&&r.GLOBAL_OBJ.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?o.startTrackingLongAnimationFrames():b&&o.startTrackingLongTasks(),S&&o.startTrackingInteractions(),M&&n){const e=()=>{V=r.timestampInSeconds()};addEventListener("click",e,{capture:!0}),addEventListener("keydown",e,{capture:!0,passive:!0})}function t(){const t=g(e);t&&!r.spanToJSON(t).timestamp&&(i.DEBUG_BUILD&&r.debug.log(`[Tracing] Finishing current active span with op: ${r.spanToJSON(t).op}`),t.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"cancelled"),t.end())}e.on("startNavigationSpan",(n,o)=>{if(r.getClient()!==e)return;if(o?.isRedirect)return i.DEBUG_BUILD&&r.debug.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),void K(e,{op:"navigation.redirect",...n},!1);t(),r.getIsolationScope().setPropagationContext({traceId:r.generateTraceId(),sampleRand:Math.random()});const a=r.getCurrentScope();a.setPropagationContext({traceId:r.generateTraceId(),sampleRand:Math.random()}),a.setSDKProcessingMetadata({normalizedRequest:void 0}),K(e,{op:"navigation",...n})}),e.on("startPageLoadSpan",function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.getClient()!==e)return;t();const i=o.sentryTrace||h("sentry-trace"),s=o.baggage||h("baggage"),l=r.propagationContextFromHeaders(i,s),A=r.getCurrentScope();A.setPropagationContext(l),A.setSDKProcessingMetadata({normalizedRequest:a.getHttpRequestData()}),K(e,{op:"pageload",...n})})},afterAllSetup(e){let n=r.getLocationHref();if("off"!==Q&&l.linkTraces(e,{linkPreviousTrace:Q,consistentTraceSampling:j}),a.WINDOW.location){if(O){const t=r.browserPerformanceTimeOrigin();d(e,{name:a.WINDOW.location.pathname,startTime:t?t/1e3:void 0,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}})}D&&o.addHistoryInstrumentationHandler(t=>{let{to:o,from:i}=t;if(void 0===i&&-1!==n?.indexOf(o))return void(n=void 0);n=void 0;const s=r.parseStringToURLObject(o),l=g(e),A=l&&M&&function(e,t){const n=r.spanToJSON(e),o=r.dateTimestampInSeconds(),i=n.start_timestamp;if(o-i>y)return!1;if(t&&o-t<=y)return!1;return!0}(l,V);p(e,{name:s?.pathname||a.WINDOW.location.pathname,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}},{url:o,isRedirect:A})})}T&&s.registerBackgroundTabDetection(),S&&function(e,t,n,o,s){const l=a.WINDOW.document;let A;const c=()=>{const a="ui.action.click",l=g(e);if(l){const e=r.spanToJSON(l).op;if(["navigation","pageload"].includes(e))return void(i.DEBUG_BUILD&&r.debug.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`))}A&&(A.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted"),A.end(),A=void 0),s.name?A=r.startIdleSpan({name:s.name,op:a,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:o}):i.DEBUG_BUILD&&r.debug.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`)};l&&addEventListener("click",c,{capture:!0})}(e,E,x,I,t),f&&o.registerInpInteractionListener(),A.instrumentOutgoingRequests(e,{traceFetch:k,traceXHR:U,trackFetchStreamPerformance:F,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:N,enableHTTPTimings:P,onRequestSpanStart:H})}}},t.getMetaContent=h,t.startBrowserTracingNavigationSpan=p,t.startBrowserTracingPageLoadSpan=d},5230:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.generateUniqueID=()=>`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function r(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{l(r.next(e))}catch(Ot){i(Ot)}}function s(e){try{l(r.throw(e))}catch(Ot){i(Ot)}}function l(e){e.done?n(e.value):o(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(Ot){i=[6,Ot],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function i(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}for(var a=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,o){return new e(this.left+t,this.top+n,this.width+r,this.height+o)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),o=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,o)},A=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],o=-1,i="";++o<n;){var a=e[o];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(o+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<u.length;p++)d[u.charCodeAt(p)]=p;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<h.length;g++)f[h.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,o,i,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<s;t+=4)n=f[e.charCodeAt(t)],r=f[e.charCodeAt(t+1)],o=f[e.charCodeAt(t+2)],i=f[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|o>>2,c[l++]=(3&o)<<6|63&i;return A},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},b=5,w=11,S=2,_=65536>>b,B=(1<<b)-1,C=_+(1024>>b)+32,E=65536>>w,x=(1<<w-b)-1,I=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},T=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},k=function(e,t){var n=m(e),r=Array.isArray(n)?v(n):new Uint32Array(n),o=Array.isArray(n)?y(n):new Uint16Array(n),i=24,a=I(o,i/2,r[4]/2),s=2===r[5]?I(o,(i+r[4])/2):T(r,Math.ceil((i+r[4])/4));return new U(r[0],r[1],r[2],r[3],a,s)},U=function(){function e(e,t,n,r,o,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>b])<<S)+(e&B),this.data[t];if(e<=65535)return t=((t=this.index[_+(e-55296>>b)])<<S)+(e&B),this.data[t];if(e<this.highStart)return t=C-E+(e>>w),t=this.index[t],t+=e>>b&x,t=((t=this.index[t])<<S)+(e&B),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="undefined"===typeof Uint8Array?[]:new Uint8Array(256),P=0;P<F.length;P++)N[F.charCodeAt(P)]=P;var R=50,L=1,O=2,D=3,M=4,Q=5,j=7,H=8,z=9,V=10,K=11,W=12,G=13,$=14,q=15,Y=16,J=17,X=18,Z=19,ee=20,te=21,ne=22,re=23,oe=24,ie=25,ae=26,se=27,le=28,Ae=29,ce=30,ue=31,de=32,pe=33,he=34,fe=35,ge=36,me=37,ye=38,ve=39,be=40,we=41,Se=42,_e=43,Be=[9001,65288],Ce="!",Ee="\xd7",xe="\xf7",Ie=k("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Te=[ce,ge],ke=[L,O,D,Q],Ue=[V,H],Fe=[se,ae],Ne=ke.concat(Ue),Pe=[ye,ve,be,he,fe],Re=[q,G],Le=function(e,t){void 0===t&&(t="strict");var n=[],r=[],o=[];return e.forEach(function(e,i){var a=Ie.get(e);if(a>R?(o.push(!0),a-=R):o.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(Y);if(a===M||a===K){if(0===i)return r.push(i),n.push(ce);var s=n[i-1];return-1===Ne.indexOf(s)?(r.push(r[i-1]),n.push(s)):(r.push(i),n.push(ce))}return r.push(i),a===ue?n.push("strict"===t?te:me):a===Se||a===Ae?n.push(ce):a===_e?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ce):void n.push(a)}),[r,n,o]},Oe=function(e,t,n,r){var o=r[n];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var i=n;i<=r.length;){if((l=r[++i])===t)return!0;if(l!==V)break}if(o===V)for(i=n;i>0;){var a=r[--i];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=r.length;){var l;if((l=r[++s])===t)return!0;if(l!==V)break}if(a!==V)break}return!1},De=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==V)return r;n--}return 0},Me=function(e,t,n,r,o){if(0===n[r])return Ee;var i=r-1;if(Array.isArray(o)&&!0===o[i])return Ee;var a=i-1,s=i+1,l=t[i],A=a>=0?t[a]:0,c=t[s];if(l===O&&c===D)return Ee;if(-1!==ke.indexOf(l))return Ce;if(-1!==ke.indexOf(c))return Ee;if(-1!==Ue.indexOf(c))return Ee;if(De(i,t)===H)return xe;if(Ie.get(e[i])===K)return Ee;if((l===de||l===pe)&&Ie.get(e[s])===K)return Ee;if(l===j||c===j)return Ee;if(l===z)return Ee;if(-1===[V,G,q].indexOf(l)&&c===z)return Ee;if(-1!==[J,X,Z,oe,le].indexOf(c))return Ee;if(De(i,t)===ne)return Ee;if(Oe(re,ne,i,t))return Ee;if(Oe([J,X],te,i,t))return Ee;if(Oe(W,W,i,t))return Ee;if(l===V)return xe;if(l===re||c===re)return Ee;if(c===Y||l===Y)return xe;if(-1!==[G,q,te].indexOf(c)||l===$)return Ee;if(A===ge&&-1!==Re.indexOf(l))return Ee;if(l===le&&c===ge)return Ee;if(c===ee)return Ee;if(-1!==Te.indexOf(c)&&l===ie||-1!==Te.indexOf(l)&&c===ie)return Ee;if(l===se&&-1!==[me,de,pe].indexOf(c)||-1!==[me,de,pe].indexOf(l)&&c===ae)return Ee;if(-1!==Te.indexOf(l)&&-1!==Fe.indexOf(c)||-1!==Fe.indexOf(l)&&-1!==Te.indexOf(c))return Ee;if(-1!==[se,ae].indexOf(l)&&(c===ie||-1!==[ne,q].indexOf(c)&&t[s+1]===ie)||-1!==[ne,q].indexOf(l)&&c===ie||l===ie&&-1!==[ie,le,oe].indexOf(c))return Ee;if(-1!==[ie,le,oe,J,X].indexOf(c))for(var u=i;u>=0;){if((d=t[u])===ie)return Ee;if(-1===[le,oe].indexOf(d))break;u--}if(-1!==[se,ae].indexOf(c))for(u=-1!==[J,X].indexOf(l)?a:i;u>=0;){var d;if((d=t[u])===ie)return Ee;if(-1===[le,oe].indexOf(d))break;u--}if(ye===l&&-1!==[ye,ve,he,fe].indexOf(c)||-1!==[ve,he].indexOf(l)&&-1!==[ve,be].indexOf(c)||-1!==[be,fe].indexOf(l)&&c===be)return Ee;if(-1!==Pe.indexOf(l)&&-1!==[ee,ae].indexOf(c)||-1!==Pe.indexOf(c)&&l===se)return Ee;if(-1!==Te.indexOf(l)&&-1!==Te.indexOf(c))return Ee;if(l===oe&&-1!==Te.indexOf(c))return Ee;if(-1!==Te.concat(ie).indexOf(l)&&c===ne&&-1===Be.indexOf(e[s])||-1!==Te.concat(ie).indexOf(c)&&l===X)return Ee;if(l===we&&c===we){for(var p=n[i],h=1;p>0&&t[--p]===we;)h++;if(h%2!==0)return Ee}return l===de&&c===pe?Ee:xe},Qe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Le(e,t.lineBreak),r=n[0],o=n[1],i=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(o=o.map(function(e){return-1!==[ie,ce,Se].indexOf(e)?me:e}));var a="keep-all"===t.wordBreak?i.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,o,a]},je=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ce,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var n=A(e),r=Qe(n,t),o=r[0],i=r[1],a=r[2],s=n.length,l=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var e=Ee;c<s&&(e=Me(n,i,o,++c,a))===Ee;);if(e!==Ee||c===s){var t=new je(n,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},ze=1,Ve=2,Ke=4,We=8,Ge=10,$e=47,qe=92,Ye=9,Je=32,Xe=34,Ze=61,et=35,tt=36,nt=37,rt=39,ot=40,it=41,at=95,st=45,lt=33,At=60,ct=62,ut=64,dt=91,pt=93,ht=61,ft=123,gt=63,mt=125,yt=124,vt=126,bt=128,wt=65533,St=42,_t=43,Bt=44,Ct=58,Et=59,xt=46,It=0,Tt=8,kt=11,Ut=14,Ft=31,Nt=127,Pt=-1,Rt=48,Lt=97,Ot=101,Dt=102,Mt=117,Qt=122,jt=65,Ht=69,zt=70,Vt=85,Kt=90,Wt=function(e){return e>=Rt&&e<=57},Gt=function(e){return e>=55296&&e<=57343},$t=function(e){return Wt(e)||e>=jt&&e<=zt||e>=Lt&&e<=Dt},qt=function(e){return e>=Lt&&e<=Qt},Yt=function(e){return e>=jt&&e<=Kt},Jt=function(e){return qt(e)||Yt(e)},Xt=function(e){return e>=bt},Zt=function(e){return e===Ge||e===Ye||e===Je},en=function(e){return Jt(e)||Xt(e)||e===at},tn=function(e){return en(e)||Wt(e)||e===st},nn=function(e){return e>=It&&e<=Tt||e===kt||e>=Ut&&e<=Ft||e===Nt},rn=function(e,t){return e===qe&&t!==Ge},on=function(e,t,n){return e===st?en(t)||rn(t,n):!!en(e)||!(e!==qe||!rn(e,t))},an=function(e,t,n){return e===_t||e===st?!!Wt(t)||t===xt&&Wt(n):Wt(e===xt?t:e)},sn=function(e){var t=0,n=1;e[t]!==_t&&e[t]!==st||(e[t]===st&&(n=-1),t++);for(var r=[];Wt(e[t]);)r.push(e[t++]);var o=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===xt&&t++;for(var i=[];Wt(e[t]);)i.push(e[t++]);var a=i.length,s=a?parseInt(c.apply(void 0,i),10):0;e[t]!==Ht&&e[t]!==Ot||t++;var l=1;e[t]!==_t&&e[t]!==st||(e[t]===st&&(l=-1),t++);for(var A=[];Wt(e[t]);)A.push(e[t++]);var u=A.length?parseInt(c.apply(void 0,A),10):0;return n*(o+s*Math.pow(10,-a))*Math.pow(10,l*u)},ln={type:2},An={type:3},cn={type:4},un={type:13},dn={type:8},pn={type:21},hn={type:9},fn={type:10},gn={type:11},mn={type:12},yn={type:14},vn={type:23},bn={type:1},wn={type:25},Sn={type:24},_n={type:26},Bn={type:27},Cn={type:28},En={type:29},xn={type:31},In={type:32},Tn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(A(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==In;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Xe:return this.consumeStringToken(Xe);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var o=on(t,n,r)?Ve:ze;return{type:5,value:this.consumeName(),flags:o}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case ot:return ln;case it:return An;case St:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),yn;break;case _t:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return cn;case st:var i=e,a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(an(i,a,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(on(i,a,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===st&&s===ct)return this.consumeCodePoint(),this.consumeCodePoint(),Sn;break;case xt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $e:if(this.peekCodePoint(0)===St)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===St&&(l=this.consumeCodePoint())===$e)return this.consumeToken();if(l===Pt)return this.consumeToken()}break;case Ct:return _n;case Et:return Bn;case At:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case ut:var A=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(on(A,u,d))return{type:7,value:this.consumeName()};break;case dt:return Cn;case qe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case pt:return En;case ht:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),dn;break;case ft:return gn;case mt:return mn;case Mt:case Vt:var p=this.peekCodePoint(0),h=this.peekCodePoint(1);return p!==_t||!$t(h)&&h!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;if(this.peekCodePoint(0)===yt)return this.consumeCodePoint(),pn;break;case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;break;case Pt:return In}return Zt(e)?(this.consumeWhiteSpace(),xn):Wt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();$t(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===gt?Rt:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===gt?zt:e})),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===st&&$t(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];$t(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,o),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===ot?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ot?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Xe){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pt||this.peekCodePoint(0)===it)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vn)}for(;;){var r=this.consumeCodePoint();if(r===Pt||r===it)return{type:22,value:c.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Pt||this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vn);if(r===Xe||r===rt||r===ot||nn(r))return this.consumeBadUrlRemnants(),vn;if(r===qe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),vn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===it||e===Pt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Pt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ge)return this._value.splice(0,n),bn;if(r===qe){var o=this._value[n+1];o!==Pt&&void 0!==o&&(o===Ge?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,o)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ke,n=this.peekCodePoint(0);for(n!==_t&&n!==st||e.push(this.consumeCodePoint());Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===xt&&Wt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===Ht||n===Ot)&&((r===_t||r===st)&&Wt(o)||Wt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),o=this.peekCodePoint(1),i=this.peekCodePoint(2);return on(r,o,i)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if($t(e)){for(var t=c(e);$t(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Gt(n)||n>1114111?wt:n}return e===Pt?wt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),kn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Tn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Mn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?In:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Un=function(e){return 15===e.type},Fn=function(e){return 17===e.type},Nn=function(e){return 20===e.type},Pn=function(e){return 0===e.type},Rn=function(e,t){return Nn(e)&&e.value===t},Ln=function(e){return 31!==e.type},On=function(e){return 31!==e.type&&4!==e.type},Dn=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Mn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Qn=function(e){return 17===e.type||15===e.type},jn=function(e){return 16===e.type||Qn(e)},Hn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},zn={type:17,number:0,flags:Ke},Vn={type:16,number:50,flags:Ke},Kn={type:16,number:100,flags:Ke},Wn=function(e,t,n){var r=e[0],o=e[1];return[Gn(r,t),Gn("undefined"!==typeof o?o:r,n)]},Gn=function(e,t){if(16===e.type)return e.number/100*t;if(Un(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},$n="deg",qn="grad",Yn="rad",Jn="turn",Xn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case $n:return Math.PI*t.number/180;case qn:return Math.PI/200*t.number;case Yn:return t.number;case Jn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===$n||e.unit===qn||e.unit===Yn||e.unit===Jn)},er=function(e){switch(e.filter(Nn).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,Kn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Kn,Kn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Kn,zn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),o=t.value.substring(1,2),i=t.value.substring(2,3);return ir(parseInt(r+r,16),parseInt(o+o,16),parseInt(i+i,16),1)}if(4===t.value.length){r=t.value.substring(0,1),o=t.value.substring(1,2),i=t.value.substring(2,3);var a=t.value.substring(3,4);return ir(parseInt(r+r,16),parseInt(o+o,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),o=t.value.substring(2,4),i=t.value.substring(4,6),ir(parseInt(r,16),parseInt(o,16),parseInt(i,16),1);if(8===t.value.length)return r=t.value.substring(0,2),o=t.value.substring(2,4),i=t.value.substring(4,6),a=t.value.substring(6,8),ir(parseInt(r,16),parseInt(o,16),parseInt(i,16),parseInt(a,16)/255)}if(20===t.type){var s=dr[t.value.toUpperCase()];if("undefined"!==typeof s)return s}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},or=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,o=255&e>>24;return t<255?"rgba("+o+","+r+","+n+","+t/255+")":"rgb("+o+","+r+","+n+")"},ir=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},ar=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},sr=function(e,t){var n=t.filter(On);if(3===n.length){var r=n.map(ar),o=r[0],i=r[1],a=r[2];return ir(o,i,a,1)}if(4===n.length){var s=n.map(ar),l=(o=s[0],i=s[1],a=s[2],s[3]);return ir(o,i,a,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var Ar=function(e,t){var n=t.filter(On),r=n[0],o=n[1],i=n[2],a=n[3],s=(17===r.type?tr(r.number):Xn.parse(e,r))/(2*Math.PI),l=jn(o)?o.number/100:0,A=jn(i)?i.number/100:0,c="undefined"!==typeof a&&jn(a)?Gn(a,1):1;if(0===l)return ir(255*A,255*A,255*A,1);var u=A<=.5?A*(l+1):A+l-A*l,d=2*A-u,p=lr(d,u,s+1/3),h=lr(d,u,s),f=lr(d,u,s-1/3);return ir(255*p,255*h,255*f,c)},cr={hsl:Ar,hsla:Ar,rgb:sr,rgba:sr},ur=function(e,t){return nr.parse(e,kn.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},pr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Nn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&jn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=zn),null===r.stop&&(r.stop=Kn);for(var o=[],i=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var l=Gn(s,t);l>i?o.push(l):o.push(i),i=l}else o.push(null)}var A=null;for(a=0;a<o.length;a++){var c=o[a];if(null===c)null===A&&(A=a);else if(null!==A){for(var u=a-A,d=(c-o[A-1])/(u+1),p=1;p<=u;p++)o[A+p-1]=d*p;A=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,o[n]/t),0)}})},mr=function(e,t,n){var r=t/2,o=n/2,i=Gn(e[0],t)-r,a=o-Gn(e[1],n);return(Math.atan2(a,i)+2*Math.PI)%(2*Math.PI)},yr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),o=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,a=n/2,s=o/2,l=Math.sin(r-Math.PI/2)*s,A=Math.cos(r-Math.PI/2)*s;return[o,i-A,i+A,a-l,a+l]},vr=function(e,t){return Math.sqrt(e*e+t*t)},br=function(e,t,n,r,o){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var i=t[0],a=t[1],s=vr(n-i,r-a);return(o?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},wr=function(e,t,n,r,o){var i=0,a=0;switch(e.size){case 0:0===e.shape?i=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):1===e.shape&&(i=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-o)));break;case 2:if(0===e.shape)i=a=Math.min(vr(t,n),vr(t,n-o),vr(t-r,n),vr(t-r,n-o));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-o))/Math.min(Math.abs(t),Math.abs(t-r)),l=br(r,o,t,n,!0),A=l[0],c=l[1];a=s*(i=vr(A-t,(c-n)/s))}break;case 1:0===e.shape?i=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):1===e.shape&&(i=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-o)));break;case 3:if(0===e.shape)i=a=Math.max(vr(t,n),vr(t,n-o),vr(t-r,n),vr(t-r,n-o));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-o))/Math.max(Math.abs(t),Math.abs(t-r));var u=br(r,o,t,n,!1);A=u[0],c=u[1],a=s*(i=vr(A-t,(c-n)/s))}}return Array.isArray(e.size)&&(i=Gn(e.size[0],r),a=2===e.size.length?Gn(e.size[1],o):i),[i,a]},Sr=function(e,t){var n=tr(180),r=[];return Dn(t).forEach(function(t,o){if(0===o){var i=t[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=er(t));if(Zn(i))return void(n=(Xn.parse(e,i)+tr(270))%tr(360))}var a=fr(e,t);r.push(a)}),{angle:n,stops:r,type:1}},_r="closest-side",Br="farthest-side",Cr="closest-corner",Er="farthest-corner",xr="circle",Ir="ellipse",Tr="cover",kr="contain",Ur=function(e,t){var n=0,r=3,o=[],i=[];return Dn(t).forEach(function(t,a){var s=!0;if(0===a?s=t.reduce(function(e,t){if(Nn(t))switch(t.value){case"center":return i.push(Vn),!1;case"top":case"left":return i.push(zn),!1;case"right":case"bottom":return i.push(Kn),!1}else if(jn(t)||Qn(t))return i.push(t),!1;return e},s):1===a&&(s=t.reduce(function(e,t){if(Nn(t))switch(t.value){case xr:return n=0,!1;case Ir:return n=1,!1;case kr:case _r:return r=0,!1;case Br:return r=1,!1;case Cr:return r=2,!1;case Tr:case Er:return r=3,!1}else if(Qn(t)||jn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)),s){var l=fr(e,t);o.push(l)}}),{size:r,shape:n,stops:o,position:i,type:2}},Fr=function(e){return 1===e.type},Nr=function(e){return 2===e.type},Pr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Or[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Rr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Or[e.name])}var Lr,Or={"linear-gradient":function(e,t){var n=tr(180),r=[];return Dn(t).forEach(function(t,o){if(0===o){var i=t[0];if(20===i.type&&"to"===i.value)return void(n=er(t));if(Zn(i))return void(n=Xn.parse(e,i))}var a=fr(e,t);r.push(a)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Sr,"-ms-linear-gradient":Sr,"-o-linear-gradient":Sr,"-webkit-linear-gradient":Sr,"radial-gradient":function(e,t){var n=0,r=3,o=[],i=[];return Dn(t).forEach(function(t,a){var s=!0;if(0===a){var l=!1;s=t.reduce(function(e,t){if(l)if(Nn(t))switch(t.value){case"center":return i.push(Vn),e;case"top":case"left":return i.push(zn),e;case"right":case"bottom":return i.push(Kn),e}else(jn(t)||Qn(t))&&i.push(t);else if(Nn(t))switch(t.value){case xr:return n=0,!1;case Ir:return n=1,!1;case"at":return l=!0,!1;case _r:return r=0,!1;case Tr:case Br:return r=1,!1;case kr:case Cr:return r=2,!1;case Er:return r=3,!1}else if(Qn(t)||jn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)}if(s){var A=fr(e,t);o.push(A)}}),{size:r,shape:n,stops:o,position:i,type:2}},"-moz-radial-gradient":Ur,"-ms-radial-gradient":Ur,"-o-radial-gradient":Ur,"-webkit-radial-gradient":Ur,"-webkit-gradient":function(e,t){var n=tr(180),r=[],o=1,i=0,a=3,s=[];return Dn(t).forEach(function(t,n){var i=t[0];if(0===n){if(Nn(i)&&"linear"===i.value)return void(o=1);if(Nn(i)&&"radial"===i.value)return void(o=2)}if(18===i.type)if("from"===i.name){var a=nr.parse(e,i.values[0]);r.push({stop:zn,color:a})}else if("to"===i.name)a=nr.parse(e,i.values[0]),r.push({stop:Kn,color:a});else if("color-stop"===i.name){var s=i.values.filter(On);if(2===s.length){a=nr.parse(e,s[1]);var l=s[0];Fn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:a})}}}),1===o?{angle:(n+tr(180))%tr(360),stops:r,type:o}:{size:a,shape:i,stops:r,position:s,type:o}}},Dr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return On(e)&&Rr(e)}).map(function(t){return Pr.parse(e,t)})}},Mr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Nn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Qr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Dn(t).map(function(e){return e.filter(jn)}).map(Hn)}},jr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Dn(t).map(function(e){return e.filter(Nn).map(function(e){return e.value}).join(" ")}).map(Hr)}},Hr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Lr||(Lr={}));var zr,Vr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Dn(t).map(function(e){return e.filter(Kr)})}},Kr=function(e){return Nn(e)||jn(e)},Wr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Gr=Wr("top"),$r=Wr("right"),qr=Wr("bottom"),Yr=Wr("left"),Jr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Hn(t.filter(jn))}}},Xr=Jr("top-left"),Zr=Jr("top-right"),eo=Jr("bottom-right"),to=Jr("bottom-left"),no=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ro=no("top"),oo=no("right"),io=no("bottom"),ao=no("left"),so=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:0}}},lo=so("top"),Ao=so("right"),co=so("bottom"),uo=so("left"),po={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ho={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fo={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).reduce(function(e,t){return e|go(t.value)},0)}},go=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},mo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},yo={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(zr||(zr={}));var vo,bo={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?zr.STRICT:zr.NORMAL}},wo={name:"line-height",initialValue:"normal",prefix:!1,type:4},So=function(e,t){return Nn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:jn(e)?Gn(e,t):t},_o={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Pr.parse(e,t)}},Bo={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Co={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Eo=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},xo=Eo("top"),Io=Eo("right"),To=Eo("bottom"),ko=Eo("left"),Uo={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Fo={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},No=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Po=No("top"),Ro=No("right"),Lo=No("bottom"),Oo=No("left"),Do={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Mo={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Qo={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Dn(t).map(function(t){for(var n={color:dr.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},r=0,o=0;o<t.length;o++){var i=t[o];Qn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:n.blur=i,r++):n.color=nr.parse(e,i)}return n})}},jo={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ho={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=zo[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},zo={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var o=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,o,i,a,s]:null}},Vo={type:16,number:50,flags:Ke},Ko=[Vo,Vo],Wo={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(jn);return 2!==n.length?Ko:[n[0],n[1]]}},Go={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vo||(vo={}));for(var $o={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vo.BREAK_ALL;case"keep-all":return vo.KEEP_ALL;default:return vo.NORMAL}}},qo={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Fn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Yo={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Jo={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:1}},Xo={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zo={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},ei={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ti={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ni={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:Nn(t)&&"bold"===t.value?700:400}},ri={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Nn).map(function(e){return e.value})}},oi={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ii=function(e,t){return 0!==(e&t)},ai={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},si={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],o=t.filter(Ln),i=0;i<o.length;i++){var a=o[i],s=o[i+1];if(20===a.type){var l=s&&Fn(s)?s.number:1;r.push({counter:a.value,increment:l})}}return r}},li={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Ln),o=0;o<r.length;o++){var i=r[o],a=r[o+1];if(Nn(i)&&"none"!==i.value){var s=a&&Fn(a)?a.number:0;n.push({counter:i.value,reset:s})}}return n}},Ai={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map(function(t){return Yo.parse(e,t)})}},ci={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],o=t.filter(Pn);if(o.length%2!==0)return null;for(var i=0;i<o.length;i+=2){var a=o[i].value,s=o[i+1].value;r.push({open:a,close:s})}return r}},ui=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},di={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Dn(t).map(function(t){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},r=0,o=0;o<t.length;o++){var i=t[o];Rn(i,"inset")?n.inset=!0:Qn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:2===r?n.blur=i:n.spread=i,r++):n.color=nr.parse(e,i)}return n})}},pi={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Nn).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},hi={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:0}},gi=function(){function e(e,t){var n,r;this.animationDuration=vi(e,Ai,t.animationDuration),this.backgroundClip=vi(e,pr,t.backgroundClip),this.backgroundColor=vi(e,hr,t.backgroundColor),this.backgroundImage=vi(e,Dr,t.backgroundImage),this.backgroundOrigin=vi(e,Mr,t.backgroundOrigin),this.backgroundPosition=vi(e,Qr,t.backgroundPosition),this.backgroundRepeat=vi(e,jr,t.backgroundRepeat),this.backgroundSize=vi(e,Vr,t.backgroundSize),this.borderTopColor=vi(e,Gr,t.borderTopColor),this.borderRightColor=vi(e,$r,t.borderRightColor),this.borderBottomColor=vi(e,qr,t.borderBottomColor),this.borderLeftColor=vi(e,Yr,t.borderLeftColor),this.borderTopLeftRadius=vi(e,Xr,t.borderTopLeftRadius),this.borderTopRightRadius=vi(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=vi(e,eo,t.borderBottomRightRadius),this.borderBottomLeftRadius=vi(e,to,t.borderBottomLeftRadius),this.borderTopStyle=vi(e,ro,t.borderTopStyle),this.borderRightStyle=vi(e,oo,t.borderRightStyle),this.borderBottomStyle=vi(e,io,t.borderBottomStyle),this.borderLeftStyle=vi(e,ao,t.borderLeftStyle),this.borderTopWidth=vi(e,lo,t.borderTopWidth),this.borderRightWidth=vi(e,Ao,t.borderRightWidth),this.borderBottomWidth=vi(e,co,t.borderBottomWidth),this.borderLeftWidth=vi(e,uo,t.borderLeftWidth),this.boxShadow=vi(e,di,t.boxShadow),this.color=vi(e,po,t.color),this.direction=vi(e,ho,t.direction),this.display=vi(e,fo,t.display),this.float=vi(e,mo,t.cssFloat),this.fontFamily=vi(e,ei,t.fontFamily),this.fontSize=vi(e,ti,t.fontSize),this.fontStyle=vi(e,oi,t.fontStyle),this.fontVariant=vi(e,ri,t.fontVariant),this.fontWeight=vi(e,ni,t.fontWeight),this.letterSpacing=vi(e,yo,t.letterSpacing),this.lineBreak=vi(e,bo,t.lineBreak),this.lineHeight=vi(e,wo,t.lineHeight),this.listStyleImage=vi(e,_o,t.listStyleImage),this.listStylePosition=vi(e,Bo,t.listStylePosition),this.listStyleType=vi(e,Co,t.listStyleType),this.marginTop=vi(e,xo,t.marginTop),this.marginRight=vi(e,Io,t.marginRight),this.marginBottom=vi(e,To,t.marginBottom),this.marginLeft=vi(e,ko,t.marginLeft),this.opacity=vi(e,Jo,t.opacity);var o=vi(e,Uo,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=vi(e,Fo,t.overflowWrap),this.paddingTop=vi(e,Po,t.paddingTop),this.paddingRight=vi(e,Ro,t.paddingRight),this.paddingBottom=vi(e,Lo,t.paddingBottom),this.paddingLeft=vi(e,Oo,t.paddingLeft),this.paintOrder=vi(e,pi,t.paintOrder),this.position=vi(e,Mo,t.position),this.textAlign=vi(e,Do,t.textAlign),this.textDecorationColor=vi(e,Xo,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=vi(e,Zo,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=vi(e,Qo,t.textShadow),this.textTransform=vi(e,jo,t.textTransform),this.transform=vi(e,Ho,t.transform),this.transformOrigin=vi(e,Wo,t.transformOrigin),this.visibility=vi(e,Go,t.visibility),this.webkitTextStrokeColor=vi(e,hi,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=vi(e,fi,t.webkitTextStrokeWidth),this.wordBreak=vi(e,$o,t.wordBreak),this.zIndex=vi(e,qo,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return ii(this.display,4)||ii(this.display,33554432)||ii(this.display,268435456)||ii(this.display,536870912)||ii(this.display,67108864)||ii(this.display,134217728)},e}(),mi=function(){function e(e,t){this.content=vi(e,ai,t.content),this.quotes=vi(e,ci,t.quotes)}return e}(),yi=function(){function e(e,t){this.counterIncrement=vi(e,si,t.counterIncrement),this.counterReset=vi(e,li,t.counterReset)}return e}(),vi=function(e,t,n){var r=new Tn,o=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(o);var i=new kn(r.read());switch(t.type){case 2:var a=i.parseComponentValue();return t.parse(e,Nn(a)?a.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Xn.parse(e,i.parseComponentValue());case"color":return nr.parse(e,i.parseComponentValue());case"image":return Pr.parse(e,i.parseComponentValue());case"length":var s=i.parseComponentValue();return Qn(s)?s:zn;case"length-percentage":var l=i.parseComponentValue();return jn(l)?l:zn;case"time":return Yo.parse(e,i.parseComponentValue())}}},bi="data-html2canvas-debug",wi=function(e){switch(e.getAttribute(bi)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Si=function(e,t){var n=wi(e);return 1===n||t===n},_i=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Si(t,3),this.styles=new gi(e,window.getComputedStyle(t,null)),cs(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),Si(t,4)&&(this.flags|=16)}return e}(),Bi="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ei="undefined"===typeof Uint8Array?[]:new Uint8Array(256),xi=0;xi<Ci.length;xi++)Ei[Ci.charCodeAt(xi)]=xi;for(var Ii=function(e){var t,n,r,o,i,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<s;t+=4)n=Ei[e.charCodeAt(t)],r=Ei[e.charCodeAt(t+1)],o=Ei[e.charCodeAt(t+2)],i=Ei[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|o>>2,c[l++]=(3&o)<<6|63&i;return A},Ti=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},ki=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ui=5,Fi=11,Ni=2,Pi=65536>>Ui,Ri=(1<<Ui)-1,Li=Pi+(1024>>Ui)+32,Oi=65536>>Fi,Di=(1<<Fi-Ui)-1,Mi=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Qi=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},ji=function(e,t){var n=Ii(e),r=Array.isArray(n)?ki(n):new Uint32Array(n),o=Array.isArray(n)?Ti(n):new Uint16Array(n),i=24,a=Mi(o,i/2,r[4]/2),s=2===r[5]?Mi(o,(i+r[4])/2):Qi(r,Math.ceil((i+r[4])/4));return new Hi(r[0],r[1],r[2],r[3],a,s)},Hi=function(){function e(e,t,n,r,o,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ui])<<Ni)+(e&Ri),this.data[t];if(e<=65535)return t=((t=this.index[Pi+(e-55296>>Ui)])<<Ni)+(e&Ri),this.data[t];if(e<this.highStart)return t=Li-Oi+(e>>Fi),t=this.index[t],t+=e>>Ui&Di,t=((t=this.index[t])<<Ni)+(e&Ri),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ki=0;Ki<zi.length;Ki++)Vi[zi.charCodeAt(Ki)]=Ki;var Wi,Gi=1,$i=2,qi=3,Yi=4,Ji=5,Xi=7,Zi=8,ea=9,ta=10,na=11,ra=12,oa=13,ia=14,aa=15,sa=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t},la=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],o=-1,i="";++o<n;){var a=e[o];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(o+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Aa=ji(Bi),ca="\xd7",ua="\xf7",da=function(e){return Aa.get(e)},pa=function(e,t,n){var r=n-2,o=t[r],i=t[n-1],a=t[n];if(i===$i&&a===qi)return ca;if(i===$i||i===qi||i===Yi)return ua;if(a===$i||a===qi||a===Yi)return ua;if(i===Zi&&-1!==[Zi,ea,na,ra].indexOf(a))return ca;if((i===na||i===ea)&&(a===ea||a===ta))return ca;if((i===ra||i===ta)&&a===ta)return ca;if(a===oa||a===Ji)return ca;if(a===Xi)return ca;if(i===Gi)return ca;if(i===oa&&a===ia){for(;o===Ji;)o=t[--r];if(o===ia)return ca}if(i===aa&&a===aa){for(var s=0;o===aa;)s++,o=t[--r];if(s%2===0)return ca}return ua},ha=function(e){var t=sa(e),n=t.length,r=0,o=0,i=t.map(da);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=ca;r<n&&(e=pa(t,i,++r))===ca;);if(e!==ca||r===n){var a=la.apply(null,t.slice(o,r));return o=r,{value:a,done:!1}}return{done:!0,value:null}}}},fa=function(e){for(var t,n=ha(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},ga=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var o=n.getBoundingClientRect(),i=Math.round(o.height);if(e.body.removeChild(r),i===t)return!0}}return!1},ma=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,o=A(r.data).map(function(e){return c(e)}),i=0,a={},s=o.every(function(e,t){n.setStart(r,i),n.setEnd(r,i+e.length);var o=n.getBoundingClientRect();i+=e.length;var s=o.x>a.x||o.y>a.y;return a=o,0===t||s});return e.body.removeChild(t),s},ya=function(){return"undefined"!==typeof(new Image).crossOrigin},va=function(){return"string"===typeof(new XMLHttpRequest).responseType},ba=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Ot){return!1}return!0},wa=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Sa=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var o=new Image,i=t.toDataURL();o.src=i;var a=_a(n,n,0,0,o);return r.fillStyle="red",r.fillRect(0,0,n,n),Ba(a).then(function(t){r.drawImage(t,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=e.createElement("div");return a.style.backgroundImage="url("+i+")",a.style.height=n+"px",wa(o)?Ba(_a(n,n,0,0,a)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),wa(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},_a=function(e,t,n,r,o){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(o),a},Ba=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Ca={get SUPPORT_RANGE_BOUNDS(){var e=ga(document);return Object.defineProperty(Ca,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ca.SUPPORT_RANGE_BOUNDS&&ma(document);return Object.defineProperty(Ca,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ba(document);return Object.defineProperty(Ca,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?Sa(document):Promise.resolve(!1);return Object.defineProperty(Ca,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=ya();return Object.defineProperty(Ca,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=va();return Object.defineProperty(Ca,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ca,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ca,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ea=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),xa=function(e,t,n,r){var o=Fa(t,n),i=[],s=0;return o.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Ca.SUPPORT_RANGE_BOUNDS){var o=Ta(r,s,t.length).getClientRects();if(o.length>1){var l=ka(t),A=0;l.forEach(function(t){i.push(new Ea(t,a.fromDOMRectList(e,Ta(r,A+s,t.length).getClientRects()))),A+=t.length})}else i.push(new Ea(t,a.fromDOMRectList(e,o)))}else{var c=r.splitText(t.length);i.push(new Ea(t,Ia(e,r))),r=c}else Ca.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length}),i},Ia=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(r,t);var i=s(e,r);return r.firstChild&&o.replaceChild(r.firstChild,r),i}}return a.EMPTY},Ta=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var o=r.createRange();return o.setStart(e,t),o.setEnd(e,t+n),o},ka=function(e){if(Ca.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return fa(e)},Ua=function(e,t){if(Ca.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Pa(e,t)},Fa=function(e,t){return 0!==t.letterSpacing?ka(e):Ua(e,t)},Na=[32,160,4961,65792,65793,4153,4241],Pa=function(e,t){for(var n,r=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),o=[],i=function(){if(n.value){var e=n.value.slice(),t=A(e),r="";t.forEach(function(e){-1===Na.indexOf(e)?r+=c(e):(r.length&&o.push(r),o.push(c(e)),r="")}),r.length&&o.push(r)}};!(n=r.next()).done;)i();return o},Ra=function(){function e(e,t,n){this.text=La(t.data,n.textTransform),this.textBounds=xa(e,this.text,n,t)}return e}(),La=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Oa,Da);case 2:return e.toUpperCase();default:return e}},Oa=/(^|\s|:|-|\(|\))([a-z])/g,Da=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Ma=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(_i),Qa=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(_i),ja=function(e){function n(t,n){var r=e.call(this,t,n)||this,o=new XMLSerializer,i=s(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(_i),Ha=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(_i),za=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(_i),Va=[{type:15,flags:0,unit:"px",number:3}],Ka=[{type:16,flags:0,number:50}],Wa=function(e){return e.width>e.height?new a(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new a(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ga=function(e){var t=e.type===Ya?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},$a="checkbox",qa="radio",Ya="password",Ja=707406591,Xa=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Ga(n),r.type!==$a&&r.type!==qa||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Wa(r.bounds)),r.type){case $a:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Va;break;case qa:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ka}return r}return t(n,e),n}(_i),Za=function(e){function n(t,n){var r=e.call(this,t,n)||this,o=n.options[n.selectedIndex||0];return r.value=o&&o.text||"",r}return t(n,e),n}(_i),es=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(_i),ts=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=is(t,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,i=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(o)?rr(i)?r.styles.backgroundColor:i:o}}catch(Ot){}return r}return t(n,e),n}(_i),ns=["OL","UL","MENU"],rs=function(e,t,n,r){for(var o=t.firstChild,i=void 0;o;o=i)if(i=o.nextSibling,ls(o)&&o.data.trim().length>0)n.textNodes.push(new Ra(e,o,n.styles));else if(As(o))if(Es(o)&&o.assignedNodes)o.assignedNodes().forEach(function(t){return rs(e,t,n,r)});else{var a=os(e,o);a.styles.isVisible()&&(as(o,a,r)?a.flags|=4:ss(a.styles)&&(a.flags|=2),-1!==ns.indexOf(o.tagName)&&(a.flags|=8),n.elements.push(a),o.slot,o.shadowRoot?rs(e,o.shadowRoot,a,r):Bs(o)||gs(o)||Cs(o)||rs(e,o,a,r))}},os=function(e,t){return bs(t)?new Ma(e,t):ys(t)?new Qa(e,t):gs(t)?new ja(e,t):ds(t)?new Ha(e,t):ps(t)?new za(e,t):hs(t)?new Xa(e,t):Cs(t)?new Za(e,t):Bs(t)?new es(e,t):ws(t)?new ts(e,t):new _i(e,t)},is=function(e,t){var n=os(e,t);return n.flags|=4,rs(e,t,n,n),n},as=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ms(e)&&n.styles.isTransparent()},ss=function(e){return e.isPositioned()||e.isFloating()},ls=function(e){return e.nodeType===Node.TEXT_NODE},As=function(e){return e.nodeType===Node.ELEMENT_NODE},cs=function(e){return As(e)&&"undefined"!==typeof e.style&&!us(e)},us=function(e){return"object"===typeof e.className},ds=function(e){return"LI"===e.tagName},ps=function(e){return"OL"===e.tagName},hs=function(e){return"INPUT"===e.tagName},fs=function(e){return"HTML"===e.tagName},gs=function(e){return"svg"===e.tagName},ms=function(e){return"BODY"===e.tagName},ys=function(e){return"CANVAS"===e.tagName},vs=function(e){return"VIDEO"===e.tagName},bs=function(e){return"IMG"===e.tagName},ws=function(e){return"IFRAME"===e.tagName},Ss=function(e){return"STYLE"===e.tagName},_s=function(e){return"SCRIPT"===e.tagName},Bs=function(e){return"TEXTAREA"===e.tagName},Cs=function(e){return"SELECT"===e.tagName},Es=function(e){return"SLOT"===e.tagName},xs=function(e){return e.tagName.indexOf("-")>0},Is=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,o=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(o=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var i=[];return o&&r.forEach(function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),i},e}(),Ts={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ks={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Us={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Fs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ns=function(e,t,n,r,o,i){return e<t||e>n?Ws(e,o,i.length>0):r.integers.reduce(function(t,n,o){for(;e>=n;)e-=n,t+=r.values[o];return t},"")+i},Ps=function(e,t,n,r){var o="";do{n||e--,o=r(e)+o,e/=t}while(e*t>=t);return o},Rs=function(e,t,n,r,o){var i=n-t+1;return(e<0?"-":"")+(Ps(Math.abs(e),i,r,function(e){return c(Math.floor(e%i)+t)})+o)},Ls=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Ps(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Os=1,Ds=2,Ms=4,Qs=8,js=function(e,t,n,r,o,i){if(e<-9999||e>9999)return Ws(e,4,o.length>0);var a=Math.abs(e),s=o;if(0===a)return t[0]+s;for(var l=0;a>0&&l<=4;l++){var A=a%10;0===A&&ii(i,Os)&&""!==s?s=t[A]+s:A>1||1===A&&0===l||1===A&&1===l&&ii(i,Ds)||1===A&&1===l&&ii(i,Ms)&&e>100||1===A&&l>1&&ii(i,Qs)?s=t[A]+(l>0?n[l-1]:"")+s:1===A&&l>0&&(s=n[l-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},Hs="\u5341\u767e\u5343\u842c",zs="\u62fe\u4f70\u4edf\u842c",Vs="\u30de\u30a4\u30ca\u30b9",Ks="\ub9c8\uc774\ub108\uc2a4",Ws=function(e,t,n){var r=n?". ":"",o=n?"\u3001":"",i=n?", ":"",a=n?" ":"";switch(t){case 0:return"\u2022"+a;case 1:return"\u25e6"+a;case 2:return"\u25fe"+a;case 5:var s=Rs(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Ls(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",o);case 6:return Ns(e,1,3999,Ts,3,r).toLowerCase();case 7:return Ns(e,1,3999,Ts,3,r);case 8:return Rs(e,945,969,!1,r);case 9:return Rs(e,97,122,!1,r);case 10:return Rs(e,65,90,!1,r);case 11:return Rs(e,1632,1641,!0,r);case 12:case 49:return Ns(e,1,9999,ks,3,r);case 35:return Ns(e,1,9999,ks,3,r).toLowerCase();case 13:return Rs(e,2534,2543,!0,r);case 14:case 30:return Rs(e,6112,6121,!0,r);case 15:return Ls(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",o);case 16:return Ls(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",o);case 17:case 48:return js(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Hs,"\u8ca0",o,Ds|Ms|Qs);case 47:return js(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",zs,"\u8ca0",o,Os|Ds|Ms|Qs);case 42:return js(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Hs,"\u8d1f",o,Ds|Ms|Qs);case 41:return js(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",zs,"\u8d1f",o,Os|Ds|Ms|Qs);case 26:return js(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Vs,o,0);case 25:return js(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Vs,o,Os|Ds|Ms);case 31:return js(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Ks,i,Os|Ds|Ms);case 33:return js(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Ks,i,0);case 32:return js(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Ks,i,Os|Ds|Ms);case 18:return Rs(e,2406,2415,!0,r);case 20:return Ns(e,1,19999,Fs,3,r);case 21:return Rs(e,2790,2799,!0,r);case 22:return Rs(e,2662,2671,!0,r);case 22:return Ns(e,1,10999,Us,3,r);case 23:return Ls(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ls(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Rs(e,3302,3311,!0,r);case 28:return Ls(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",o);case 29:return Ls(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",o);case 34:return Rs(e,3792,3801,!0,r);case 37:return Rs(e,6160,6169,!0,r);case 38:return Rs(e,4160,4169,!0,r);case 39:return Rs(e,2918,2927,!0,r);case 40:return Rs(e,1776,1785,!0,r);case 43:return Rs(e,3046,3055,!0,r);case 44:return Rs(e,3174,3183,!0,r);case 45:return Rs(e,3664,3673,!0,r);case 46:return Rs(e,3872,3881,!0,r);default:return Rs(e,48,57,!0,r)}},Gs="data-html2canvas-ignore",$s=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Is,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,i=Ys(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,l=i.contentWindow,A=l.document,c=Zs(i).then(function(){return r(n,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(ol),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xs(A)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(A,n)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,a,s),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(e){if(Si(e,2),ys(e))return this.createCanvasClone(e);if(vs(e))return this.createVideoClone(e);if(Ss(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return bs(t)&&(bs(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),xs(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Ot){if(this.context.logger.error("Unable to access cssRules property",Ot),"SecurityError"!==Ot.name)throw Ot}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Ot){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var o=e.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&o)i.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var a=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(a){var s=a.getContextAttributes();!1===(null===s||void 0===s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return r}catch(Ot){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Ot){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){As(t)&&(_s(t)||t.hasAttribute(Gs)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&As(t)&&Ss(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(As(o)&&Es(o)&&"function"===typeof o.assignedNodes){var i=o.assignedNodes();i.length&&i.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,o,n)},e.prototype.cloneNode=function(e,t){if(ls(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&As(e)&&(cs(e)||us(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var o=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&cs(r)&&(this.clonedReferenceElement=r),ms(r)&&cl(r);var s=this.counters.parse(new yi(this.context,o)),l=this.resolvePseudoContent(e,r,i,Wi.BEFORE);xs(e)&&(t=!0),vs(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var A=this.resolvePseudoContent(e,r,a,Wi.AFTER);return A&&r.appendChild(A),this.counters.pop(s),(o&&(this.options.copyStyles||us(e))&&!ws(e)||t)&&tl(o,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Bs(e)||Cs(e))&&(Bs(r)||Cs(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var o=this;if(n){var i=n.content,a=t.ownerDocument;if(a&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new yi(this.context,n));var s=new mi(this.context,n),l=a.createElement("html2canvaspseudoelement");tl(n,l),s.content.forEach(function(t){if(0===t.type)l.appendChild(a.createTextNode(t.value));else if(22===t.type){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Nn);r.length&&l.appendChild(a.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(On),A=i[0],c=i[1];if(A&&Nn(A)){var u=o.counters.getCounterValue(A.value),d=c&&Nn(c)?Co.parse(o.context,c.value):3;l.appendChild(a.createTextNode(Ws(u,d,!1)))}}else if("counters"===t.name){var p=t.values.filter(On),h=(A=p[0],p[1]);if(c=p[2],A&&Nn(A)){var f=o.counters.getCounterValues(A.value),g=c&&Nn(c)?Co.parse(o.context,c.value):3,m=h&&0===h.type?h.value:"",y=f.map(function(e){return Ws(e,g,!1)}).join(m);l.appendChild(a.createTextNode(y))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(a.createTextNode(ui(s.quotes,o.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(ui(s.quotes,--o.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(t.value))}}),l.className=sl+" "+ll;var A=r===Wi.BEFORE?" "+sl:" "+ll;return us(t)?t.className.baseValue+=A:t.className+=A,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Wi||(Wi={}));var qs,Ys=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Gs,"true"),e.body.appendChild(n),n},Js=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Xs=function(e){return Promise.all([].slice.call(e.images,0).map(Js))},Zs=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var o=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){o.body.childNodes.length>0&&"complete"===o.readyState&&(clearInterval(n),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ol=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},il=":before",al=":after",sl="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",Al='{\n    content: "" !important;\n    display: none !important;\n}',cl=function(e){ul(e,"."+sl+il+Al+"\n         ."+ll+al+Al)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),pl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:bl(e)||ml(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,a=this;return o(this,function(o){switch(o.label){case 0:return t=dl.isSameOrigin(e),n=!yl(e)&&!0===this._options.useCORS&&Ca.SUPPORT_CORS_IMAGES&&!t,r=!yl(e)&&!t&&!bl(e)&&"string"===typeof this._options.proxy&&Ca.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||yl(e)||bl(e)||r||n?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(vl(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout(function(){return e(r)},500),a._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(o,i){var a=Ca.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)o(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return o(e.result)},!1),e.addEventListener("error",function(e){return i(e)},!1),e.readAsDataURL(s.response)}else i("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=i;var l=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var A=t._options.imageTimeout;s.timeout=A,s.ontimeout=function(){return i("Timed out ("+A+"ms) proxying "+r)}}s.send()})},e}(),hl=/^data:image\/svg\+xml/i,fl=/^data:image\/.*;base64,/i,gl=/^data:image\/.*/i,ml=function(e){return Ca.SUPPORT_SVG_DRAWING||!wl(e)},yl=function(e){return gl.test(e)},vl=function(e){return fl.test(e)},bl=function(e){return"blob"===e.substr(0,4)},wl=function(e){return"svg"===e.substr(-3).toLowerCase()||hl.test(e)},Sl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),_l=function(e,t,n){return new Sl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Bl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=_l(this.start,this.startControl,t),o=_l(this.startControl,this.endControl,t),i=_l(this.endControl,this.end,t),a=_l(r,o,t),s=_l(o,i,t),l=_l(a,s,t);return n?new e(this.start,r,a,l):new e(l,s,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Cl=function(e){return 1===e.type},El=function(){function e(e){var t=e.styles,n=e.bounds,r=Wn(t.borderTopLeftRadius,n.width,n.height),o=r[0],i=r[1],a=Wn(t.borderTopRightRadius,n.width,n.height),s=a[0],l=a[1],A=Wn(t.borderBottomRightRadius,n.width,n.height),c=A[0],u=A[1],d=Wn(t.borderBottomLeftRadius,n.width,n.height),p=d[0],h=d[1],f=[];f.push((o+s)/n.width),f.push((p+c)/n.width),f.push((i+h)/n.height),f.push((l+u)/n.height);var g=Math.max.apply(Math,f);g>1&&(o/=g,i/=g,s/=g,l/=g,c/=g,u/=g,p/=g,h/=g);var m=n.width-s,y=n.height-u,v=n.width-c,b=n.height-h,w=t.borderTopWidth,S=t.borderRightWidth,_=t.borderBottomWidth,B=t.borderLeftWidth,C=Gn(t.paddingTop,e.bounds.width),E=Gn(t.paddingRight,e.bounds.width),x=Gn(t.paddingBottom,e.bounds.width),I=Gn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||i>0?xl(n.left+B/3,n.top+w/3,o-B/3,i-w/3,qs.TOP_LEFT):new Sl(n.left+B/3,n.top+w/3),this.topRightBorderDoubleOuterBox=o>0||i>0?xl(n.left+m,n.top+w/3,s-S/3,l-w/3,qs.TOP_RIGHT):new Sl(n.left+n.width-S/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?xl(n.left+v,n.top+y,c-S/3,u-_/3,qs.BOTTOM_RIGHT):new Sl(n.left+n.width-S/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=p>0||h>0?xl(n.left+B/3,n.top+b,p-B/3,h-_/3,qs.BOTTOM_LEFT):new Sl(n.left+B/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=o>0||i>0?xl(n.left+2*B/3,n.top+2*w/3,o-2*B/3,i-2*w/3,qs.TOP_LEFT):new Sl(n.left+2*B/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=o>0||i>0?xl(n.left+m,n.top+2*w/3,s-2*S/3,l-2*w/3,qs.TOP_RIGHT):new Sl(n.left+n.width-2*S/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?xl(n.left+v,n.top+y,c-2*S/3,u-2*_/3,qs.BOTTOM_RIGHT):new Sl(n.left+n.width-2*S/3,n.top+n.height-2*_/3),this.bottomLeftBorderDoubleInnerBox=p>0||h>0?xl(n.left+2*B/3,n.top+b,p-2*B/3,h-2*_/3,qs.BOTTOM_LEFT):new Sl(n.left+2*B/3,n.top+n.height-2*_/3),this.topLeftBorderStroke=o>0||i>0?xl(n.left+B/2,n.top+w/2,o-B/2,i-w/2,qs.TOP_LEFT):new Sl(n.left+B/2,n.top+w/2),this.topRightBorderStroke=o>0||i>0?xl(n.left+m,n.top+w/2,s-S/2,l-w/2,qs.TOP_RIGHT):new Sl(n.left+n.width-S/2,n.top+w/2),this.bottomRightBorderStroke=c>0||u>0?xl(n.left+v,n.top+y,c-S/2,u-_/2,qs.BOTTOM_RIGHT):new Sl(n.left+n.width-S/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=p>0||h>0?xl(n.left+B/2,n.top+b,p-B/2,h-_/2,qs.BOTTOM_LEFT):new Sl(n.left+B/2,n.top+n.height-_/2),this.topLeftBorderBox=o>0||i>0?xl(n.left,n.top,o,i,qs.TOP_LEFT):new Sl(n.left,n.top),this.topRightBorderBox=s>0||l>0?xl(n.left+m,n.top,s,l,qs.TOP_RIGHT):new Sl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?xl(n.left+v,n.top+y,c,u,qs.BOTTOM_RIGHT):new Sl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||h>0?xl(n.left,n.top+b,p,h,qs.BOTTOM_LEFT):new Sl(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||i>0?xl(n.left+B,n.top+w,Math.max(0,o-B),Math.max(0,i-w),qs.TOP_LEFT):new Sl(n.left+B,n.top+w),this.topRightPaddingBox=s>0||l>0?xl(n.left+Math.min(m,n.width-S),n.top+w,m>n.width+S?0:Math.max(0,s-S),Math.max(0,l-w),qs.TOP_RIGHT):new Sl(n.left+n.width-S,n.top+w),this.bottomRightPaddingBox=c>0||u>0?xl(n.left+Math.min(v,n.width-B),n.top+Math.min(y,n.height-_),Math.max(0,c-S),Math.max(0,u-_),qs.BOTTOM_RIGHT):new Sl(n.left+n.width-S,n.top+n.height-_),this.bottomLeftPaddingBox=p>0||h>0?xl(n.left+B,n.top+Math.min(b,n.height-_),Math.max(0,p-B),Math.max(0,h-_),qs.BOTTOM_LEFT):new Sl(n.left+B,n.top+n.height-_),this.topLeftContentBox=o>0||i>0?xl(n.left+B+I,n.top+w+C,Math.max(0,o-(B+I)),Math.max(0,i-(w+C)),qs.TOP_LEFT):new Sl(n.left+B+I,n.top+w+C),this.topRightContentBox=s>0||l>0?xl(n.left+Math.min(m,n.width+B+I),n.top+w+C,m>n.width+B+I?0:s-B+I,l-(w+C),qs.TOP_RIGHT):new Sl(n.left+n.width-(S+E),n.top+w+C),this.bottomRightContentBox=c>0||u>0?xl(n.left+Math.min(v,n.width-(B+I)),n.top+Math.min(y,n.height+w+C),Math.max(0,c-(S+E)),u-(_+x),qs.BOTTOM_RIGHT):new Sl(n.left+n.width-(S+E),n.top+n.height-(_+x)),this.bottomLeftContentBox=p>0||h>0?xl(n.left+B+I,n.top+b,Math.max(0,p-(B+I)),h-(_+x),qs.BOTTOM_LEFT):new Sl(n.left+B+I,n.top+n.height-(_+x))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(qs||(qs={}));var xl=function(e,t,n,r,o){var i=(Math.sqrt(2)-1)/3*4,a=n*i,s=r*i,l=e+n,A=t+r;switch(o){case qs.TOP_LEFT:return new Bl(new Sl(e,A),new Sl(e,A-s),new Sl(l-a,t),new Sl(l,t));case qs.TOP_RIGHT:return new Bl(new Sl(e,t),new Sl(e+a,t),new Sl(l,A-s),new Sl(l,A));case qs.BOTTOM_RIGHT:return new Bl(new Sl(l,t),new Sl(l,t+s),new Sl(e+a,A),new Sl(e,A));case qs.BOTTOM_LEFT:default:return new Bl(new Sl(l,A),new Sl(l-a,A),new Sl(e,t+s),new Sl(e,t))}},Il=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Tl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},kl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ul=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Fl=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Nl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Pl=function(e){return 0===e.type},Rl=function(e){return 1===e.type},Ll=function(e){return 2===e.type},Ol=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Dl=function(e,t,n,r,o){return e.map(function(e,i){switch(i){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+o);case 3:return e.add(t,n+o)}return e})},Ml=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ql=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new El(this.container),this.container.styles.opacity<1&&this.effects.push(new Nl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new Ul(n,r,o))}if(0!==this.container.styles.overflowX){var i=Il(this.curves),a=kl(this.curves);Ol(i,a)?this.effects.push(new Fl(i,6)):(this.effects.push(new Fl(i,2)),this.effects.push(new Fl(a,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var o=n.effects.filter(function(e){return!Rl(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,o),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=Il(n.curves),a=kl(n.curves);Ol(i,a)||r.unshift(new Fl(a,6))}}else r.unshift.apply(r,o);n=n.parent}return r.filter(function(t){return ii(t.target,e)})},e}(),jl=function(e,t,n,r){e.container.elements.forEach(function(o){var i=ii(o.flags,4),a=ii(o.flags,2),s=new Ql(o,e);ii(o.styles.display,2048)&&r.push(s);var l=ii(o.flags,8)?[]:r;if(i||a){var A=i||o.styles.isPositioned()?n:t,c=new Ml(s);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var u=o.styles.zIndex.order;if(u<0){var d=0;A.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),A.negativeZIndex.splice(d,0,c)}else if(u>0){var p=0;A.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(p=t+1,!1):p>0}),A.positiveZIndex.splice(p,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else o.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);jl(s,c,i?c:n,l)}else o.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),jl(s,t,n,l);ii(o.flags,8)&&Hl(o,l)})},Hl=function(e,t){for(var n=e instanceof za?e.start:1,r=e instanceof za&&e.reversed,o=0;o<t.length;o++){var i=t[o];i.container instanceof Ha&&"number"===typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=Ws(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},zl=function(e){var t=new Ql(e,null),n=new Ml(t),r=[];return jl(t,n,n,r),Hl(t.container,r),n},Vl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Kl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ql(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Wl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Gl=function(e,t){switch(t){case 0:return $l(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return $l(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return $l(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return $l(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},$l=function(e,t){var n=[];return Cl(e)?n.push(e.subdivide(.5,!1)):n.push(e),Cl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ql=function(e,t,n,r){var o=[];return Cl(e)?o.push(e.subdivide(.5,!1)):o.push(e),Cl(n)?o.push(n.subdivide(.5,!0)):o.push(n),Cl(r)?o.push(r.subdivide(.5,!0).reverse()):o.push(r),Cl(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},Yl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jl=function(e){var t=e.styles,n=e.bounds,r=Gn(t.paddingLeft,n.width),o=Gn(t.paddingRight,n.width),i=Gn(t.paddingTop,n.width),a=Gn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+o),-(t.borderTopWidth+t.borderBottomWidth+i+a))},Xl=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Yl(t)},Zl=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Yl(t)},eA=function(e,t,n){var r=Xl(oA(e.styles.backgroundOrigin,t),e),o=Zl(oA(e.styles.backgroundClip,t),e),i=rA(oA(e.styles.backgroundSize,t),n,r),a=i[0],s=i[1],l=Wn(oA(e.styles.backgroundPosition,t),r.width-a,r.height-s);return[iA(oA(e.styles.backgroundRepeat,t),l,i,r,o),Math.round(r.left+l[0]),Math.round(r.top+l[1]),a,s]},tA=function(e){return Nn(e)&&e.value===Lr.AUTO},nA=function(e){return"number"===typeof e},rA=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=e[0],s=e[1];if(!a)return[0,0];if(jn(a)&&s&&jn(s))return[Gn(a,n.width),Gn(s,n.height)];var l=nA(i);if(Nn(a)&&(a.value===Lr.CONTAIN||a.value===Lr.COVER))return nA(i)?n.width/n.height<i!==(a.value===Lr.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var A=nA(r),c=nA(o),u=A||c;if(tA(a)&&(!s||tA(s)))return A&&c?[r,o]:l||u?u&&l?[A?r:o*i,c?o:r/i]:[A?r:n.width,c?o:n.height]:[n.width,n.height];if(l){var d=0,p=0;return jn(a)?d=Gn(a,n.width):jn(s)&&(p=Gn(s,n.height)),tA(a)?d=p*i:s&&!tA(s)||(p=d/i),[d,p]}var h=null,f=null;if(jn(a)?h=Gn(a,n.width):s&&jn(s)&&(f=Gn(s,n.height)),null===h||s&&!tA(s)||(f=A&&c?h/r*o:n.height),null!==f&&tA(a)&&(h=A&&c?f/o*r:n.width),null!==h&&null!==f)return[h,f];throw new Error("Unable to calculate background-size for element")},oA=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},iA=function(e,t,n,r,o){var i=t[0],a=t[1],s=n[0],l=n[1];switch(e){case 2:return[new Sl(Math.round(r.left),Math.round(r.top+a)),new Sl(Math.round(r.left+r.width),Math.round(r.top+a)),new Sl(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Sl(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new Sl(Math.round(r.left+i),Math.round(r.top)),new Sl(Math.round(r.left+i+s),Math.round(r.top)),new Sl(Math.round(r.left+i+s),Math.round(r.height+r.top)),new Sl(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new Sl(Math.round(r.left+i),Math.round(r.top+a)),new Sl(Math.round(r.left+i+s),Math.round(r.top+a)),new Sl(Math.round(r.left+i+s),Math.round(r.top+a+l)),new Sl(Math.round(r.left+i),Math.round(r.top+a+l))];default:return[new Sl(Math.round(o.left),Math.round(o.top)),new Sl(Math.round(o.left+o.width),Math.round(o.top)),new Sl(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Sl(Math.round(o.left),Math.round(o.height+o.top))]}},aA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sA="Hidden Text",lA=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),o=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src=aA,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(sA)),n.appendChild(o),n.appendChild(r);var a=r.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(sA)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),AA=function(){function e(e,t){this.context=e,this.options=t}return e}(),cA=1e4,uA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lA(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Ll(e)&&(this.ctx.globalAlpha=e.opacity),Pl(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Rl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return ii(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):ka(e.text).reduce(function(t,o){return r.ctx.fillText(o,t,e.bounds.top+n),t+r.ctx.measureText(o).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=gA(e.fontFamily).join(", "),r=Un(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,i,a,s,l,A,c,u=this;return o(this,function(o){return n=this.createFontStyle(t),r=n[0],i=n[1],a=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(i,a),l=s.baseline,A=s.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=or(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=or(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=or(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=or(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Jl(e),o=kl(t);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,i,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w;return o(this,function(o){switch(o.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,i=t.styles,s=0,l=t.textNodes,o.label=1;case 1:return s<l.length?(A=l[s],[4,this.renderTextNode(A,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Ma))return[3,8];o.label=5;case 5:return o.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=o.sent(),this.renderReplacedElement(t,r,y),[3,8];case 7:return o.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Qa&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof ja))return[3,12];o.label=9;case 9:return o.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=o.sent(),this.renderReplacedElement(t,r,y),[3,12];case 11:return o.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ts&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=o.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),o.label=14;case 14:if(t instanceof Xa&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===$a?t.checked&&(this.ctx.save(),this.path([new Sl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new Sl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new Sl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new Sl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new Sl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new Sl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new Sl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=or(Ja),this.ctx.fill(),this.ctx.restore()):t.type===qa&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=or(Ja),this.ctx.fill(),this.ctx.restore())),dA(t)&&t.value.length){switch(d=this.createFontStyle(i),b=d[0],p=d[1],h=this.fontMetrics.getMetrics(b,p).baseline,this.ctx.font=b,this.ctx.fillStyle=or(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hA(t.styles.textAlign),w=Jl(t),f=0,t.styles.textAlign){case 1:f+=w.width/2;break;case 2:f+=w.width}g=w.add(f,0,0,-w.height/2+1),this.ctx.save(),this.path([new Sl(w.left,w.top),new Sl(w.left+w.width,w.top),new Sl(w.left+w.width,w.top+w.height),new Sl(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ea(t.value,g),i.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ii(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];y=void 0,v=m.url,o.label=15;case 15:return o.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=o.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return o.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(i)[0],this.ctx.font=b,this.ctx.fillStyle=or(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new a(t.bounds.left,t.bounds.top+Gn(t.styles.paddingTop,t.bounds.width),t.bounds.width,So(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ea(e.listValue,w),i.letterSpacing,So(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),o.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,a,s,l,A,c,u,d,p,h,f,g;return o(this,function(o){switch(o.label){case 0:return ii(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:o.sent(),t=0,n=e.negativeZIndex,o.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:o.sent(),o.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:o.sent(),r=0,i=e.nonInlineLevel,o.label=7;case 7:return r<i.length?(g=i[r],[4,this.renderNode(g)]):[3,10];case 8:o.sent(),o.label=9;case 9:return r++,[3,7];case 10:a=0,s=e.nonPositionedFloats,o.label=11;case 11:return a<s.length?(g=s[a],[4,this.renderStack(g)]):[3,14];case 12:o.sent(),o.label=13;case 13:return a++,[3,11];case 14:l=0,A=e.nonPositionedInlineLevel,o.label=15;case 15:return l<A.length?(g=A[l],[4,this.renderStack(g)]):[3,18];case 16:o.sent(),o.label=17;case 17:return l++,[3,15];case 18:c=0,u=e.inlineLevel,o.label=19;case 19:return c<u.length?(g=u[c],[4,this.renderNode(g)]):[3,22];case 20:o.sent(),o.label=21;case 21:return c++,[3,19];case 22:d=0,p=e.zeroOrAutoZIndexOrTransformedOrOpacity,o.label=23;case 23:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,26];case 24:o.sent(),o.label=25;case 25:return d++,[3,23];case 26:h=0,f=e.positiveZIndex,o.label=27;case 27:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,30];case 28:o.sent(),o.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=Cl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Cl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var o=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return o.width=Math.max(1,t),o.height=Math.max(1,n),o.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),o},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,a,s;return o(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,F,N,P,R;return o(this,function(o){switch(o.label){case 0:if(0!==n.type)return[3,5];i=void 0,a=n.url,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.context.cache.match(a)];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),r.context.logger.error("Error loading background-image "+a),[3,4];case 4:return i&&(s=eA(e,t,[i.width,i.height,i.width/i.height]),b=s[0],E=s[1],x=s[2],_=s[3],B=s[4],y=r.ctx.createPattern(r.resizeImage(i,_,B),"repeat"),r.renderRepeat(b,y,E,x)),[3,6];case 5:Fr(n)?(l=eA(e,t,[null,null,null]),b=l[0],E=l[1],x=l[2],_=l[3],B=l[4],A=yr(n.angle,_,B),c=A[0],u=A[1],d=A[2],p=A[3],h=A[4],(f=document.createElement("canvas")).width=_,f.height=B,g=f.getContext("2d"),m=g.createLinearGradient(u,p,d,h),gr(n.stops,c).forEach(function(e){return m.addColorStop(e.stop,or(e.color))}),g.fillStyle=m,g.fillRect(0,0,_,B),_>0&&B>0&&(y=r.ctx.createPattern(f,"repeat"),r.renderRepeat(b,y,E,x))):Nr(n)&&(v=eA(e,t,[null,null,null]),b=v[0],w=v[1],S=v[2],_=v[3],B=v[4],C=0===n.position.length?[Vn]:n.position,E=Gn(C[0],_),x=Gn(C[C.length-1],B),I=wr(n,E,x,_,B),T=I[0],k=I[1],T>0&&k>0&&(U=r.ctx.createRadialGradient(w+E,S+x,0,w+E,S+x,T),gr(n.stops,2*T).forEach(function(e){return U.addColorStop(e.stop,or(e.color))}),r.path(b),r.ctx.fillStyle=U,T!==k?(F=e.bounds.left+.5*e.bounds.width,N=e.bounds.top+.5*e.bounds.height,R=1/(P=k/T),r.ctx.save(),r.ctx.translate(F,N),r.ctx.transform(1,0,0,P,0,0),r.ctx.translate(-F,-N),r.ctx.fillRect(w,R*(S-N)+N,_,B*R),r.ctx.restore()):r.ctx.fill())),o.label=6;case 6:return t--,[2]}})},r=this,i=0,a=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return i<a.length?(s=a[i],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(r){return this.path(Vl(n,t)),this.ctx.fillStyle=or(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,i){return r(this,void 0,void 0,function(){var r,a;return o(this,function(o){switch(o.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return o.sent(),[2];case 2:return r=Kl(i,n),this.path(r),this.ctx.fillStyle=or(e),this.ctx.fill(),a=Wl(i,n),this.path(a),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,a,s,l,A,c=this;return o(this,function(o){switch(o.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],i=pA(oA(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=or(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:o.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var n=Il(e.curves),r=t.inset?0:cA,o=Dl(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(o)):(c.mask(n),c.ctx.clip(),c.path(o)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=or(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?or(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),o.label=2;case 2:a=0,s=0,l=r,o.label=3;case 3:return s<l.length?0!==(A=l[s]).style&&!rr(A.color)&&A.width>0?2!==A.style?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,a,e.curves,2)]:[3,11]:[3,13];case 4:return o.sent(),[3,11];case 5:return 3!==A.style?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,a,e.curves,3)];case 6:return o.sent(),[3,11];case 7:return 4!==A.style?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,a,e.curves)];case 8:return o.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,a,e.curves)];case 10:o.sent(),o.label=11;case 11:a++,o.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,i,a){return r(this,void 0,void 0,function(){var r,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w;return o(this,function(o){return this.ctx.save(),r=Gl(i,n),s=Vl(i,n),2===a&&(this.path(s),this.ctx.clip()),Cl(s[0])?(l=s[0].start.x,A=s[0].start.y):(l=s[0].x,A=s[0].y),Cl(s[1])?(c=s[1].end.x,u=s[1].end.y):(c=s[1].x,u=s[1].y),d=0===n||2===n?Math.abs(l-c):Math.abs(A-u),this.ctx.beginPath(),3===a?this.formatPath(r):this.formatPath(s.slice(0,2)),p=t<3?3*t:2*t,h=t<3?2*t:t,3===a&&(p=t,h=t),f=!0,d<=2*p?f=!1:d<=2*p+h?(p*=g=d/(2*p+h),h*=g):(m=Math.floor((d+h)/(p+h)),y=(d-m*p)/(m-1),h=(v=(d-(m+1)*p)/m)<=0||Math.abs(h-y)<Math.abs(h-v)?y:v),f&&(3===a?this.ctx.setLineDash([0,p+h]):this.ctx.setLineDash([p,h])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=or(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(Cl(s[0])&&(b=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new Sl(b.end.x,b.end.y),new Sl(w.start.x,w.start.y)]),this.ctx.stroke()),Cl(s[1])&&(b=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new Sl(b.end.x,b.end.y),new Sl(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=or(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=zl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(AA),dA=function(e){return e instanceof es||e instanceof Za||e instanceof Xa&&e.type!==qa&&e.type!==$a},pA=function(e,t){switch(e){case 0:return Il(t);case 2:return Tl(t);default:return kl(t)}},hA=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},fA=["-apple-system","system-ui"],gA=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===fA.indexOf(e)}):e},mA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return t=_a(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,yA(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=or(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(AA),yA=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},vA=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,i([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),bA=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new vA({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new pl(this,t)}return e.instanceCount=1,e}(),wA=function(e,t){return void 0===t&&(t={}),SA(e,t)};"undefined"!==typeof window&&dl.setContext(window);var SA=function(e,t){return r(void 0,void 0,void 0,function(){var r,i,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,F,N,P,R,L,O,D,M,Q,j,H,z,V;return o(this,function(o){switch(o.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=r.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(I=t.allowTaint)&&void 0!==I&&I,imageTimeout:null!==(T=t.imageTimeout)&&void 0!==T?T:15e3,proxy:t.proxy,useCORS:null!==(k=t.useCORS)&&void 0!==k&&k},c=n({logging:null===(U=t.logging)||void 0===U||U,cache:t.cache},A),u={windowWidth:null!==(F=t.windowWidth)&&void 0!==F?F:i.innerWidth,windowHeight:null!==(N=t.windowHeight)&&void 0!==N?N:i.innerHeight,scrollX:null!==(P=t.scrollX)&&void 0!==P?P:i.pageXOffset,scrollY:null!==(R=t.scrollY)&&void 0!==R?R:i.pageYOffset},d=new a(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),p=new bA(c,d),h=null!==(L=t.foreignObjectRendering)&&void 0!==L&&L,f={allowTaint:null!==(O=t.allowTaint)&&void 0!==O&&O,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},p.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new $s(p,e,f),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=o.sent(),v=ms(m)||fs(m)?l(m.ownerDocument):s(p,m),b=v.width,w=v.height,S=v.left,_=v.top,B=_A(p,m,t.backgroundColor),C={canvas:t.canvas,backgroundColor:B,scale:null!==(M=null!==(D=t.scale)&&void 0!==D?D:i.devicePixelRatio)&&void 0!==M?M:1,x:(null!==(Q=t.x)&&void 0!==Q?Q:0)+S,y:(null!==(j=t.y)&&void 0!==j?j:0)+_,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(b),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(w)},h?(p.logger.debug("Document cloned, using foreign object rendering"),[4,new mA(p,C).render(m)]):[3,3];case 2:return E=o.sent(),[3,5];case 3:return p.logger.debug("Document cloned, element located at "+S+","+_+" with size "+b+"x"+w+" using computed rendering"),p.logger.debug("Starting DOM parsing"),x=is(p,m),B===x.styles.backgroundColor&&(x.styles.backgroundColor=dr.TRANSPARENT),p.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),[4,new uA(p,C).render(x)];case 4:E=o.sent(),o.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&($s.destroy(y)||p.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),p.logger.debug("Finished rendering"),[2,E]}})})},_A=function(e,t,n){var r=t.ownerDocument,o=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,i=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,a="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(o)?rr(i)?a:i:o:a};return wA}()},5260:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.severityLevelFromString=function(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}},5302:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6185),o=n(693),i=n(2642),a=n(152),s=n(7751),l=n(210),A=n(9282),c=n(1992),u=n(5880),d=[200,500];t.INPThresholds=d,t.onINP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&c.whenActivated(()=>{A.initInteractionCountPolyfill();const n=o.initMetric("INP");let c;const p=i.initUnique(t,a.InteractionManager),h=e=>{u.whenIdleOrHidden(()=>{for(const n of e)p._processEntry(n);const t=p._estimateP98LongestInteraction();t&&t._latency!==n.value&&(n.value=t._latency,n.entries=t.entries,c())})},f=s.observe("event",h,{durationThreshold:t.durationThreshold??40});c=r.bindReporter(e,n,d,t.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),l.onHidden(()=>{h(f.takeRecords()),c(!0)}))})}},5304:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.REACT_MOUNT_OP="ui.react.mount",t.REACT_RENDER_OP="ui.react.render",t.REACT_UPDATE_OP="ui.react.update"},5316:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(653),o=new Set([r.CLIENT_ADDRESS_ATTRIBUTE,r.CLIENT_PORT_ATTRIBUTE,r.MCP_LOGGING_MESSAGE_ATTRIBUTE,r.MCP_RESOURCE_URI_ATTRIBUTE,r.MCP_TOOL_RESULT_CONTENT_ATTRIBUTE]);t.filterMcpPiiFromSpanData=function(e,t){return t?e:Object.entries(e).reduce((e,t)=>{let[n,i]=t;return function(e){return o.has(e)||e.startsWith(`${r.MCP_REQUEST_ARGUMENT}.`)}(n)||(e[n]=i),e},{})}},5338:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(5613),a=n(9262),s="flag.evaluation.";function l(e,t,n,r){if("boolean"!==typeof n)return;if(e.length>r)return void(o.DEBUG_BUILD&&i.debug.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`));const a=e.findIndex(e=>e.flag===t);-1!==a&&e.splice(a,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}t._INTERNAL_FLAG_BUFFER_SIZE=100,t._INTERNAL_MAX_FLAGS_PER_SPAN=10,t._INTERNAL_addFeatureFlagToActiveSpan=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if("boolean"!==typeof t)return;const r=a.getActiveSpan();if(!r)return;const o=a.spanToJSON(r).data;if(`${s}${e}`in o)return void r.setAttribute(`${s}${e}`,t);Object.keys(o).filter(e=>e.startsWith(s)).length<n&&r.setAttribute(`${s}${e}`,t)},t._INTERNAL_copyFlagsFromScopeToEvent=function(e){const t=r.getCurrentScope().getScopeData().contexts.flags,n=t?t.values:[];return n.length?(void 0===e.contexts&&(e.contexts={}),e.contexts.flags={values:[...n]},e):e},t._INTERNAL_insertFlagToScope=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;const o=r.getCurrentScope().getScopeData().contexts;o.flags||(o.flags={values:[]}),l(o.flags.values,e,t,n)},t._INTERNAL_insertToFlagBuffer=l},5359:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;t.DEBUG_BUILD=n},5392:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=r.defineIntegration(e=>{let{featureFlagClient:t}=e;return{name:"Statsig",setup(e){t.on("gate_evaluation",e=>{r._INTERNAL_insertFlagToScope(e.gate.name,e.gate.value),r._INTERNAL_addFeatureFlagToActiveSpan(e.gate.name,e.gate.value)})},processEvent:(e,t,n)=>r._INTERNAL_copyFlagsFromScopeToEvent(e)}});t.statsigIntegration=o},5503:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613);t.isJsonRpcNotification=function(e){return"object"===typeof e&&null!==e&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&!("id"in e)},t.isJsonRpcRequest=function(e){return"object"===typeof e&&null!==e&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"id"in e},t.isJsonRpcResponse=function(e){return"object"===typeof e&&null!==e&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"id"in e&&("result"in e||"error"in e)},t.validateMcpServerInstance=function(e){return"object"===typeof e&&null!==e&&"resource"in e&&"tool"in e&&"prompt"in e&&"connect"in e||(r.DEBUG_BUILD&&o.debug.warn("Did not patch MCP server. Interface is incompatible."),!1)}},5554:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399),o=n(6185),i=n(8395),a=n(9221),s=n(693),l=n(1992),A=[800,1800],c=e=>{r.WINDOW.document?.prerendering?l.whenActivated(()=>c(e)):"complete"!==r.WINDOW.document?.readyState?addEventListener("load",()=>c(e),!0):setTimeout(e)};t.TTFBThresholds=A,t.onTTFB=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=s.initMetric("TTFB"),r=o.bindReporter(e,n,A,t.reportAllChanges);c(()=>{const e=a.getNavigationEntry();e&&(n.value=Math.max(e.responseStart-i.getActivationStart(),0),n.entries=[e],r(!0))})}},5578:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937);t.captureFeedback=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.getCurrentScope();const{message:o,name:i,email:a,url:s,source:l,associatedEventId:A,tags:c}=e,u={contexts:{feedback:{contact_email:a,name:i,message:o,url:s,source:l,associated_event_id:A}},type:"feedback",level:"info",tags:c},d=n?.getClient()||r.getClient();return d&&d.emit("beforeSendFeedback",u,t),n.captureEvent(u,t)}},5590:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.LRUMap=class{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){const t=this._cache.get(e);if(void 0!==t)return this._cache.delete(e),this._cache.set(e,t),t}set(e,t){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(e,t)}remove(e){const t=this._cache.get(e);return t&&this._cache.delete(e),t}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const e=[];return this._cache.forEach(t=>e.push(t)),e}}},5613:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6893),o=n(3447),i=n(7752),a={};function s(e){if(!("console"in i.GLOBAL_OBJ))return e();const t=i.GLOBAL_OBJ.console,n={},r=Object.keys(a);r.forEach(e=>{const r=a[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}function l(){return c().enabled}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.DEBUG_BUILD&&l()&&s(()=>{i.GLOBAL_OBJ.console[e](`Sentry Logger [${e}]:`,...n)})}function c(){return o.DEBUG_BUILD?r.getGlobalSingleton("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const u={enable:function(){c().enabled=!0},disable:function(){c().enabled=!1},isEnabled:l,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A("error",...t)}};t.CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"],t.consoleSandbox=s,t.debug=u,t.originalConsoleMethods=a},5625:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3344),o=n(4937),i=n(3348),a=n(1893),s=n(8802),l=n(8397),A=n(676),c=n(9262),u=n(5649),d="_frozenDsc";function p(e,t){const n=t.getOptions(),{publicKey:o}=t.getDsn()||{},i={environment:n.environment||r.DEFAULT_ENVIRONMENT,release:n.release,public_key:o,trace_id:e,org_id:s.extractOrgIdFromClient(t)};return t.emit("createDsc",i),i}function h(e){const t=o.getClient();if(!t)return{};const n=c.getRootSpan(e),r=c.spanToJSON(n),s=r.data,A=n.spanContext().traceState,h=A?.get("sentry.sample_rate")??s[i.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]??s[i.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE];function f(e){return"number"!==typeof h&&"string"!==typeof h||(e.sample_rate=`${h}`),e}const g=n[d];if(g)return f(g);const m=A?.get("sentry.dsc"),y=m&&a.baggageHeaderToDynamicSamplingContext(m);if(y)return f(y);const v=p(e.spanContext().traceId,t),b=s[i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],w=r.description;return"url"!==b&&w&&(v.transaction=w),l.hasSpansEnabled()&&(v.sampled=String(c.spanIsSampled(n)),v.sample_rand=A?.get("sentry.sample_rand")??u.getCapturedScopesOnSpan(n).scope?.getPropagationContext().sampleRand.toString()),f(v),t.emit("createDsc",v,n),v}t.freezeDscOnSpan=function(e,t){const n=e;A.addNonEnumerableProperty(n,d,t)},t.getDynamicSamplingContextFromClient=p,t.getDynamicSamplingContextFromScope=function(e,t){const n=t.getPropagationContext();return n.dsc||p(n.traceId,e)},t.getDynamicSamplingContextFromSpan=h,t.spanToBaggageHeader=function(e){const t=h(e);return a.dynamicSamplingContextToSentryBaggageHeader(t)}},5627:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(4528),i=n(9987),a=n(1821);function s(e,t,n,i){o.DEBUG_BUILD&&r.debug.log(`Sending LCP span (${e})`);const s=a.msToSec((r.browserPerformanceTimeOrigin()||0)+(t?.startTime||0)),l=r.getCurrentScope().getScopeData().transactionName,A=t?r.htmlTreeAsString(t.element):"Largest contentful paint",c={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.lcp",[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.lcp",[r.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:0,"sentry.pageload.span_id":n,"sentry.report_event":i};t&&(t.element&&(c["lcp.element"]=r.htmlTreeAsString(t.element)),t.id&&(c["lcp.id"]=t.id),t.url&&(c["lcp.url"]=t.url.trim().slice(0,200)),null!=t.loadTime&&(c["lcp.loadTime"]=t.loadTime),null!=t.renderTime&&(c["lcp.renderTime"]=t.renderTime),null!=t.size&&(c["lcp.size"]=t.size));const u=a.startStandaloneWebVitalSpan({name:A,transaction:l,attributes:c,startTime:s});u&&(u.addEvent("lcp",{[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:e}),u.end(s))}t._sendStandaloneLcpSpan=s,t.trackLcpAsStandaloneSpan=function(e){let t,n=0;if(!a.supportsWebVital("largest-contentful-paint"))return;const r=i.addLcpInstrumentationHandler(e=>{let{metric:r}=e;const o=r.entries[r.entries.length-1];o&&(n=r.value,t=o)},!0);a.listenForWebVitalReportEvents(e,(e,o)=>{s(n,t,o,e),r()})}},5643:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425),i=n(5043),a=n(3600);function s(e,t,n,i,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],A=arguments.length>6?arguments[6]:void 0;function c(e){if(0===s.length||!A)return[e,"url"];const t=l(s,e,A);for(const n of t)if(n.match.isExact)return[n.match.path,"route"];return[e,"url"]}if(t){const t=i.location?i.location.pathname:r.WINDOW.location?r.WINDOW.location.pathname:void 0;if(t){const[n,i]=c(t);r.startBrowserTracingPageLoadSpan(e,{name:n,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"pageload",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:`auto.pageload.react.${a}`,[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:i}})}}n&&i.listen&&i.listen((t,n)=>{if(n&&("PUSH"===n||"POP"===n)){const[n,i]=c(t.pathname);r.startBrowserTracingNavigationSpan(e,{name:n,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"navigation",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:`auto.navigation.react.${a}`,[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:i}})}})}function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e.some(e=>{const o=e.path?n(t,e):r.length?r[r.length-1].match:function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}}(t);return o&&(r.push({route:e,match:o}),e.routes&&l(e.routes,t,n,r)),!!o}),r}t.reactRouterV4BrowserTracingIntegration=function(e){const t=r.browserTracingIntegration({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:o,matchPath:i,instrumentPageLoad:a=!0,instrumentNavigation:l=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),s(e,a,l,n,"reactrouter_v4",o,i)}}},t.reactRouterV5BrowserTracingIntegration=function(e){const t=r.browserTracingIntegration({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:o,matchPath:i,instrumentPageLoad:a=!0,instrumentNavigation:l=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),s(e,a,l,n,"reactrouter_v5",o,i)}}},t.withSentryRouting=function(e){const t=e.displayName||e.name,n=t=>{if(t?.computedMatch?.isExact){const e=t.computedMatch.path,n=function(){const e=o.getActiveSpan(),t=e&&o.getRootSpan(e);if(!t)return;const n=o.spanToJSON(t).op;return"navigation"===n||"pageload"===n?t:void 0}();o.getCurrentScope().setTransactionName(e),n&&(n.updateName(e),n.setAttribute(o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"route"))}return i.createElement(e,{...t})};return n.displayName=`sentryRoute(${t})`,a.hoistNonReactStatics(n,e),n}},5649:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(676),o="_sentryScope",i="_sentryIsolationScope";t.getCapturedScopesOnSpan=function(e){return{scope:e[o],isolationScope:e[i]}},t.setCapturedScopesOnSpan=function(e,t,n){e&&(r.addNonEnumerableProperty(e,i,n),r.addNonEnumerableProperty(e,o,t))}},5691:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(676),i=n(2729),a=n(9255),s=n(3398),l=n(7980),A=n(9101),c=n(199),u=n(5503);t.wrapTransportError=function(e){e.onerror&&o.fill(e,"onerror",e=>function(t){return function(e){try{l.captureError(e,"transport")}catch{}}(t),e.call(this,t)})},t.wrapTransportOnClose=function(e){e.onclose&&o.fill(e,"onclose",e=>function(){s.cleanupPendingSpansForTransport(this),A.cleanupSessionDataForTransport(this);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call(this,...n)})},t.wrapTransportOnMessage=function(e){e.onmessage&&o.fill(e,"onmessage",e=>function(t,n){if(u.isJsonRpcRequest(t)){if("initialize"===t.method)try{const e=a.extractSessionDataFromInitializeRequest(t);A.storeSessionDataForTransport(this,e)}catch{}const o=r.getIsolationScope().clone();return r.withIsolationScope(o,()=>{const r=c.buildMcpServerSpanConfig(t,this,n),o=i.startInactiveSpan(r);return s.storeSpanForRequest(this,t.id,o,t.method),i.withActiveSpan(o,()=>e.call(this,t,n))})}return u.isJsonRpcNotification(t)?c.createMcpNotificationSpan(t,this,n,()=>e.call(this,t,n)):e.call(this,t,n)})},t.wrapTransportSend=function(e){e.send&&o.fill(e,"send",e=>async function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const[o]=n;if(u.isJsonRpcNotification(o))return c.createMcpOutgoingNotificationSpan(o,this,()=>e.call(this,...n));if(u.isJsonRpcResponse(o)&&null!==o.id&&void 0!==o.id){if(o.error&&function(e){try{if(e&&"object"===typeof e&&"code"in e&&"message"in e){const t=e;if(-32603===t.code||t.code>=-32099&&t.code<=-32e3){const e=new Error(t.message);e.name=`JsonRpcError_${t.code}`,l.captureError(e,"protocol")}}}catch{}}(o.error),o.result&&"object"===typeof o.result){const e=o.result;if(e.protocolVersion||e.serverInfo)try{const e=a.extractSessionDataFromInitializeResponse(o.result);A.updateSessionDataForTransport(this,e)}catch{}}s.completeSpanWithResults(this,o.id,o.result)}return e.call(this,...n)})}},5783:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3348),o=n(9262),i=n(2349);function a(e,t){e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t)}function s(e){const{data:t,description:n}=o.spanToJSON(e);if(!n)return;if(t[i.AI_TOOL_CALL_NAME_ATTRIBUTE]&&t[i.AI_TOOL_CALL_ID_ATTRIBUTE]&&"ai.toolCall"===n)return void function(e,t){a(e,"auto.vercelai.otel"),e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.execute_tool"),c(t,i.AI_TOOL_CALL_NAME_ATTRIBUTE,"gen_ai.tool.name"),c(t,i.AI_TOOL_CALL_ID_ATTRIBUTE,"gen_ai.tool.call.id"),t["gen_ai.tool.type"]||e.setAttribute("gen_ai.tool.type","function");const n=t["gen_ai.tool.name"];n&&e.updateName(`execute_tool ${n}`)}(e,t);const s=t[i.AI_MODEL_ID_ATTRIBUTE],l=t[i.AI_MODEL_PROVIDER_ATTRIBUTE];"string"===typeof s&&"string"===typeof l&&s&&l&&function(e,t,n){a(e,"auto.vercelai.otel");const o=t.replace("ai.","");e.setAttribute("ai.pipeline.name",o),e.updateName(o);const s=n[i.AI_TELEMETRY_FUNCTION_ID_ATTRIBUTE];s&&"string"===typeof s&&t.split(".").length-1===1&&(e.updateName(`${o} ${s}`),e.setAttribute("gen_ai.function_id",s));n[i.AI_PROMPT_ATTRIBUTE]&&e.setAttribute("gen_ai.prompt",n[i.AI_PROMPT_ATTRIBUTE]);n[i.AI_MODEL_ID_ATTRIBUTE]&&!n[i.GEN_AI_RESPONSE_MODEL_ATTRIBUTE]&&e.setAttribute(i.GEN_AI_RESPONSE_MODEL_ATTRIBUTE,n[i.AI_MODEL_ID_ATTRIBUTE]);if(e.setAttribute("ai.streaming",t.includes("stream")),"ai.generateText"===t)return void e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.invoke_agent");if("ai.generateText.doGenerate"===t)return e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.generate_text"),void e.updateName(`generate_text ${n[i.AI_MODEL_ID_ATTRIBUTE]}`);if("ai.streamText"===t)return void e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.invoke_agent");if("ai.streamText.doStream"===t)return e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.stream_text"),void e.updateName(`stream_text ${n[i.AI_MODEL_ID_ATTRIBUTE]}`);if("ai.generateObject"===t)return void e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.invoke_agent");if("ai.generateObject.doGenerate"===t)return e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.generate_object"),void e.updateName(`generate_object ${n[i.AI_MODEL_ID_ATTRIBUTE]}`);if("ai.streamObject"===t)return void e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.invoke_agent");if("ai.streamObject.doStream"===t)return e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.stream_object"),void e.updateName(`stream_object ${n[i.AI_MODEL_ID_ATTRIBUTE]}`);if("ai.embed"===t)return void e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.invoke_agent");if("ai.embed.doEmbed"===t)return e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.embed"),void e.updateName(`embed ${n[i.AI_MODEL_ID_ATTRIBUTE]}`);if("ai.embedMany"===t)return void e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.invoke_agent");if("ai.embedMany.doEmbed"===t)return e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"gen_ai.embed_many"),void e.updateName(`embed_many ${n[i.AI_MODEL_ID_ATTRIBUTE]}`);if(t.startsWith("ai.stream"))e.setAttribute(r.SEMANTIC_ATTRIBUTE_SENTRY_OP,"ai.run")}(e,n,t)}function l(e){if("transaction"===e.type&&e.spans){const t=new Map;for(const n of e.spans)A(n),u(n,t);for(const n of e.spans)"gen_ai.invoke_agent"===n.op&&d(n,t)}return e}function A(e){const{data:t,origin:n}=e;if("auto.vercelai.otel"===n){c(t,i.AI_USAGE_COMPLETION_TOKENS_ATTRIBUTE,i.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE),c(t,i.AI_USAGE_PROMPT_TOKENS_ATTRIBUTE,i.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE),"number"===typeof t[i.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]&&"number"===typeof t[i.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]&&(t["gen_ai.usage.total_tokens"]=t[i.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]+t[i.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]),c(t,i.AI_PROMPT_MESSAGES_ATTRIBUTE,"gen_ai.request.messages"),c(t,i.AI_RESPONSE_TEXT_ATTRIBUTE,"gen_ai.response.text"),c(t,i.AI_RESPONSE_TOOL_CALLS_ATTRIBUTE,"gen_ai.response.tool_calls"),c(t,i.AI_RESPONSE_OBJECT_ATTRIBUTE,"gen_ai.response.object"),c(t,i.AI_PROMPT_TOOLS_ATTRIBUTE,"gen_ai.request.available_tools"),c(t,i.AI_TOOL_CALL_ARGS_ATTRIBUTE,"gen_ai.tool.input"),c(t,i.AI_TOOL_CALL_RESULT_ATTRIBUTE,"gen_ai.tool.output"),function(e){const t=e[i.AI_RESPONSE_PROVIDER_METADATA_ATTRIBUTE];if(t)try{const n=JSON.parse(t);n.openai&&(p(e,"gen_ai.usage.input_tokens.cached",n.openai.cachedPromptTokens),p(e,"gen_ai.usage.output_tokens.reasoning",n.openai.reasoningTokens),p(e,"gen_ai.usage.output_tokens.prediction_accepted",n.openai.acceptedPredictionTokens),p(e,"gen_ai.usage.output_tokens.prediction_rejected",n.openai.rejectedPredictionTokens),p(e,"gen_ai.conversation.id",n.openai.responseId)),n.anthropic&&(p(e,"gen_ai.usage.input_tokens.cached",n.anthropic.cacheReadInputTokens),p(e,"gen_ai.usage.input_tokens.cache_write",n.anthropic.cacheCreationInputTokens)),n.bedrock?.usage&&(p(e,"gen_ai.usage.input_tokens.cached",n.bedrock.usage.cacheReadInputTokens),p(e,"gen_ai.usage.input_tokens.cache_write",n.bedrock.usage.cacheWriteInputTokens)),n.deepseek&&(p(e,"gen_ai.usage.input_tokens.cached",n.deepseek.promptCacheHitTokens),p(e,"gen_ai.usage.input_tokens.cache_miss",n.deepseek.promptCacheMissTokens))}catch{}}(t);for(const e of Object.keys(t))e.startsWith("ai.")&&c(t,e,`vercel.${e}`)}}function c(e,t,n){null!=e[t]&&(e[n]=e[t],delete e[t])}function u(e,t){const n=e.parent_span_id;if(!n)return;const r=e.data[i.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE],o=e.data[i.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE];if("number"===typeof r||"number"===typeof o){const e=t.get(n)||{inputTokens:0,outputTokens:0};"number"===typeof r&&(e.inputTokens+=r),"number"===typeof o&&(e.outputTokens+=o),t.set(n,e)}}function d(e,t){const n=t.get(e.span_id);n&&(n.inputTokens>0&&(e.data[i.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE]=n.inputTokens),n.outputTokens>0&&(e.data[i.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE]=n.outputTokens),(n.inputTokens>0||n.outputTokens>0)&&(e.data["gen_ai.usage.total_tokens"]=n.inputTokens+n.outputTokens))}function p(e,t,n){null!=n&&(e[t]=n)}t.addVercelAiProcessors=function(e){e.on("spanStart",s),e.addEventProcessor(Object.assign(l,{id:"VercelAiEventProcessor"}))}},5816:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(4528);function i(e){return new URLSearchParams(e).toString()}t.getBodyString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.debug;try{if("string"===typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[i(e)];if(!e)return[void 0]}catch(n){return o.DEBUG_BUILD&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return o.DEBUG_BUILD&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]},t.getFetchRequestArgBody=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"===typeof e[1])return e[1].body},t.serializeFormData=i},5865:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650),i=n(962),a="SpotlightBrowser";const s=r.defineIntegration(function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sidecarUrl||"http://localhost:8969/stream";return{name:a,setup:()=>{i.DEBUG_BUILD&&r.debug.log("Using Sidecar URL",e)},processEvent:e=>l(e)?null:e,afterAllSetup:t=>{!function(e,t){const n=o.getNativeImplementation("fetch");let i=0;e.on("beforeEnvelope",e=>{i>3?r.debug.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",i):n(t,{method:"POST",body:r.serializeEnvelope(e),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(e=>{e.status>=200&&e.status<400&&(i=0)},e=>{i++,r.debug.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",e)})})}(t,e)}}});function l(e){return Boolean("transaction"===e.type&&e.spans&&e.contexts?.trace&&"ui.action.click"===e.contexts.trace.op&&e.spans.some(e=>{let{description:t}=e;return t?.includes("#sentry-spotlight")}))}t.INTEGRATION_NAME=a,t.isSpotlightInteraction=l,t.spotlightBrowserIntegration=s},5866:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(2809),a=n(5613),s=n(4447),l=n(7287),A=n(2394),c=n(4082),u=n(7752);function d(e,t){const n=r.getCurrentScope(),i=r.getClient();if(i){if(i.captureCheckIn)return i.captureCheckIn(e,t,n);o.DEBUG_BUILD&&a.debug.warn("Cannot capture check-in. Client does not support sending check-ins.")}else o.DEBUG_BUILD&&a.debug.warn("Cannot capture check-in. No client defined.");return l.uuid4()}function p(){const e=r.getIsolationScope(),t=r.getCurrentScope().getSession()||e.getSession();t&&i.closeSession(t),h(),e.setSession()}function h(){const e=r.getIsolationScope(),t=r.getClient(),n=e.getSession();n&&t&&t.captureSession(n)}t.addEventProcessor=function(e){r.getIsolationScope().addEventProcessor(e)},t.captureCheckIn=d,t.captureEvent=function(e,t){return r.getCurrentScope().captureEvent(e,t)},t.captureException=function(e,t){return r.getCurrentScope().captureException(e,A.parseEventHintOrCaptureContext(t))},t.captureMessage=function(e,t){const n="string"===typeof t?t:void 0,o="string"!==typeof t?{captureContext:t}:void 0;return r.getCurrentScope().captureMessage(e,n,o)},t.captureSession=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?p():h()},t.close=async function(e){const t=r.getClient();return t?t.close(e):(o.DEBUG_BUILD&&a.debug.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},t.endSession=p,t.flush=async function(e){const t=r.getClient();return t?t.flush(e):(o.DEBUG_BUILD&&a.debug.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},t.isEnabled=function(){const e=r.getClient();return!1!==e?.getOptions().enabled&&!!e?.getTransport()},t.isInitialized=function(){return!!r.getClient()},t.lastEventId=function(){return r.getIsolationScope().lastEventId()},t.setContext=function(e,t){r.getIsolationScope().setContext(e,t)},t.setExtra=function(e,t){r.getIsolationScope().setExtra(e,t)},t.setExtras=function(e){r.getIsolationScope().setExtras(e)},t.setTag=function(e,t){r.getIsolationScope().setTag(e,t)},t.setTags=function(e){r.getIsolationScope().setTags(e)},t.setUser=function(e){r.getIsolationScope().setUser(e)},t.startSession=function(e){const t=r.getIsolationScope(),n=r.getCurrentScope(),{userAgent:o}=u.GLOBAL_OBJ.navigator||{},a=i.makeSession({user:n.getUser()||t.getUser(),...o&&{userAgent:o},...e}),s=t.getSession();return"ok"===s?.status&&i.updateSession(s,{status:"exited"}),p(),t.setSession(a),a},t.withMonitor=function(e,t,n){const o=d({monitorSlug:e,status:"in_progress"},n),i=c.timestampInSeconds();function a(t){d({monitorSlug:e,status:t,checkInId:o,duration:c.timestampInSeconds()-i})}return r.withIsolationScope(()=>{let e;try{e=t()}catch(n){throw a("error"),n}return s.isThenable(e)?e.then(e=>(a("ok"),e),e=>{throw a("error"),e}):(a("ok"),e)})}},5880:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399),o=n(210),i=n(687);t.whenIdleOrHidden=e=>{const t=r.WINDOW.requestIdleCallback||r.WINDOW.setTimeout;"hidden"===r.WINDOW.document?.visibilityState?e():(t(e=i.runOnce(e)),o.onHidden(e))}},6035:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(6399),i=n(7540),a=n(9987),s=n(5627),l=n(1821),A=n(8395),c=n(9221),u=n(8011);let d,p,h=0,f={};function g(e,t,n,o,i,a){if(["mark","measure"].includes(t.entryType)&&r.stringMatchesSomePattern(t.name,a))return;const s=c.getNavigationEntry(!1),A=l.msToSec(s?s.requestStart:0),u=i+Math.max(n,A),d=i+n,p=d+o,h={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};u!==d&&(h["sentry.browser.measure_happened_before_request"]=!0,h["sentry.browser.measure_start_time"]=u),function(e,t){try{const n=t.detail;if(!n)return;if("object"===typeof n){for(const[t,o]of Object.entries(n))if(o&&r.isPrimitive(o))e[`sentry.browser.measure.detail.${t}`]=o;else if(void 0!==o)try{e[`sentry.browser.measure.detail.${t}`]=JSON.stringify(o)}catch{}return}if(r.isPrimitive(n))return void(e["sentry.browser.measure.detail"]=n);try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}(h,t),u<=p&&l.startAndEndSpan(e,u,p,{name:t.name,op:t.entryType,attributes:h})}function m(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{y(e,t,r,n)}),y(e,t,"secureConnection",n,"TLS/SSL"),y(e,t,"fetch",n,"cache"),y(e,t,"domainLookup",n,"DNS"),function(e,t,n){const o=n+l.msToSec(t.requestStart),i=n+l.msToSec(t.responseEnd),a=n+l.msToSec(t.responseStart);t.responseEnd&&(l.startAndEndSpan(e,o,i,{op:"browser.request",name:t.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),l.startAndEndSpan(e,a,i,{op:"browser.response",name:t.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}))}(e,t,n)}function y(e,t,n,o){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;const a=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return`${e}End`}(n),s=t[a],A=t[`${n}Start`];A&&s&&l.startAndEndSpan(e,o+l.msToSec(A),o+l.msToSec(s),{op:`browser.${i}`,name:t.name,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics",..."redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{}}})}function v(e,t,n,i,a,s,A){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const c=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(A?.includes(c))return;const u=r.parseUrl(n),d={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};b(d,t,"transferSize","http.response_transfer_size"),b(d,t,"encodedBodySize","http.response_content_length"),b(d,t,"decodedBodySize","http.decoded_response_content_length");const p=t.deliveryType;null!=p&&(d["http.response_delivery_type"]=p);const h=t.renderBlockingStatus;if(h&&(d["resource.render_blocking_status"]=h),u.protocol&&(d["url.scheme"]=u.protocol.split(":").pop()),u.host&&(d["server.address"]=u.host),d["url.same_origin"]=n.includes(o.WINDOW.location.origin),null!=t.nextHopProtocol){const{name:e,version:n}=l.extractNetworkProtocol(t.nextHopProtocol);d["network.protocol.name"]=e,d["network.protocol.version"]=n}const f=s+i,g=f+a;l.startAndEndSpan(e,f,g,{name:n.replace(o.WINDOW.location.origin,""),op:c,attributes:d})}function b(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}t._addMeasureSpans=g,t._addNavigationSpans=m,t._addResourceSpans=v,t.addPerformanceEntries=function(e,t){const n=l.getBrowserPerformanceAPI(),i=r.browserPerformanceTimeOrigin();if(!n?.getEntries||!i)return;const a=l.msToSec(i),s=n.getEntries(),{op:y,start_timestamp:b}=r.spanToJSON(e);s.slice(h).forEach(n=>{const r=l.msToSec(n.startTime),o=l.msToSec(Math.max(0,n.duration));if(!("navigation"===y&&b&&a+r<b))switch(n.entryType){case"navigation":m(e,n,a);break;case"mark":case"paint":case"measure":{g(e,n,r,o,a,t.ignorePerformanceApiSpans);const i=u.getVisibilityWatcher(),s=n.startTime<i.firstHiddenTime;"first-paint"===n.name&&s&&(f.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&s&&(f.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":v(e,n,n.name,r,o,a,t.ignoreResourceSpans)}}),h=Math.max(s.length-1,0),function(e){const t=o.WINDOW.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),l.isMeasurementValue(n.rtt)&&(f["connection.rtt"]={value:n.rtt,unit:"millisecond"}));l.isMeasurementValue(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);l.isMeasurementValue(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===y&&(function(e){const t=c.getNavigationEntry(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(f),t.recordClsOnPageloadSpan||delete f.cls,t.recordLcpOnPageloadSpan||delete f.lcp,Object.entries(f).forEach(e=>{let[t,n]=e;r.setMeasurement(t,n.value,n.unit)}),e.setAttribute("performance.timeOrigin",a),e.setAttribute("performance.activationStart",A.getActivationStart()),function(e,t){d&&t.recordLcpOnPageloadSpan&&(d.element&&e.setAttribute("lcp.element",r.htmlTreeAsString(d.element)),d.id&&e.setAttribute("lcp.id",d.id),d.url&&e.setAttribute("lcp.url",d.url.trim().slice(0,200)),null!=d.loadTime&&e.setAttribute("lcp.loadTime",d.loadTime),null!=d.renderTime&&e.setAttribute("lcp.renderTime",d.renderTime),e.setAttribute("lcp.size",d.size));p?.sources&&t.recordClsOnPageloadSpan&&p.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,r.htmlTreeAsString(t.node)))}(e,t)),d=void 0,p=void 0,f={}},t.startTrackingInteractions=function(){a.addPerformanceInstrumentationHandler("event",e=>{let{entries:t}=e;const n=r.getActiveSpan();if(n)for(const o of t)if("click"===o.name){const e=l.msToSec(r.browserPerformanceTimeOrigin()+o.startTime),t=l.msToSec(o.duration),i={name:r.htmlTreeAsString(o.target),op:`ui.interaction.${o.name}`,startTime:e,attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},a=r.getComponentName(o.target);a&&(i.attributes["ui.component_name"]=a),l.startAndEndSpan(n,e,e+t,i)}})},t.startTrackingLongAnimationFrames=function(){new PerformanceObserver(e=>{const t=r.getActiveSpan();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=l.msToSec(r.browserPerformanceTimeOrigin()+n.startTime),{start_timestamp:o,op:i}=r.spanToJSON(t);if("navigation"===i&&o&&e<o)continue;const a=l.msToSec(n.duration),s={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"},A=n.scripts[0],{invoker:c,invokerType:u,sourceURL:d,sourceFunctionName:p,sourceCharPosition:h}=A;s["browser.script.invoker"]=c,s["browser.script.invoker_type"]=u,d&&(s["code.filepath"]=d),p&&(s["code.function"]=p),-1!==h&&(s["browser.script.source_char_position"]=h),l.startAndEndSpan(t,e,e+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:s})}}).observe({type:"long-animation-frame",buffered:!0})},t.startTrackingLongTasks=function(){a.addPerformanceInstrumentationHandler("longtask",e=>{let{entries:t}=e;const n=r.getActiveSpan();if(!n)return;const{op:o,start_timestamp:i}=r.spanToJSON(n);for(const a of t){const e=l.msToSec(r.browserPerformanceTimeOrigin()+a.startTime),t=l.msToSec(a.duration);"navigation"===o&&i&&e<i||l.startAndEndSpan(n,e,e+t,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}})},t.startTrackingWebVitals=function(e){let{recordClsStandaloneSpans:t,recordLcpStandaloneSpans:n,client:A}=e;const c=l.getBrowserPerformanceAPI();if(c&&r.browserPerformanceTimeOrigin()){c.mark&&o.WINDOW.performance.mark("sentry-tracing-init");const e=n?s.trackLcpAsStandaloneSpan(A):a.addLcpInstrumentationHandler(e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(f.lcp={value:t.value,unit:"millisecond"},d=n)},!0),r=a.addTtfbInstrumentationHandler(e=>{let{metric:t}=e;t.entries[t.entries.length-1]&&(f.ttfb={value:t.value,unit:"millisecond"})}),l=t?i.trackClsAsStandaloneSpan(A):a.addClsInstrumentationHandler(e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(f.cls={value:t.value,unit:""},p=n)},!0);return()=>{e?.(),r(),l?.()}}return()=>{}}},6185:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.bindReporter=(e,t,n,r)=>{let o,i;return a=>{t.value>=0&&(a||r)&&(i=t.value-(o??0),(i||void 0===o)&&(o=t.value,t.delta=i,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}}},6190:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8802),o=n(7379);t.createCheckInEnvelope=function(e,t,n,i,a){const s={sent_at:(new Date).toISOString()};n?.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),i&&a&&(s.dsn=r.dsnToString(a)),t&&(s.trace=t);const l=function(e){return[{type:"check_in"},e]}(e);return o.createEnvelope(s,[l])}},6208:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650),i=n(962),a=n(1817),s=r.defineIntegration(()=>({name:"BrowserSession",setupOnce(){"undefined"!==typeof a.WINDOW.document?(r.startSession({ignoreDuration:!0}),r.captureSession(),o.addHistoryInstrumentationHandler(e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(r.startSession({ignoreDuration:!0}),r.captureSession())})):i.DEBUG_BUILD&&r.debug.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}));t.browserSessionIntegration=s},6294:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3971),o=n(5338),i=r.defineIntegration(()=>({name:"FeatureFlags",processEvent:(e,t,n)=>o._INTERNAL_copyFlagsFromScopeToEvent(e),addFeatureFlag(e,t){o._INTERNAL_insertFlagToScope(e,t),o._INTERNAL_addFeatureFlagToActiveSpan(e,t)}}));t.featureFlagsIntegration=i},6399:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425).GLOBAL_OBJ;t.WINDOW=r},6433:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"];t.getClientIPAddress=function(e){return n.map(t=>{const n=e[t],r=Array.isArray(n)?n.join(";"):n;return"Forwarded"===t?function(e){if(!e)return null;for(const t of e.split(";"))if(t.startsWith("for="))return t.slice(4);return null}(r):r?.split(",").map(e=>e.trim())}).reduce((e,t)=>t?e.concat(t):e,[]).find(e=>null!==e&&/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(e))||null},t.ipHeaderNames=n},6453:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8802),o=n(7379);function i(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}t.createLogContainerEnvelopeItem=i,t.createLogEnvelope=function(e,t,n,a){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&a&&(s.dsn=r.dsnToString(a)),o.createEnvelope(s,[i(e)])}},6497:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1817);t.showReportDialog=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.WINDOW.document,n=t?.head||t?.body;if(!n)return void(o.DEBUG_BUILD&&r.debug.error("[showReportDialog] Global document not defined"));const a=r.getCurrentScope(),s=r.getClient(),l=s?.getDsn();if(!l)return void(o.DEBUG_BUILD&&r.debug.error("[showReportDialog] DSN not configured"));const A={...e,user:{...a.getUser(),...e.user},eventId:e.eventId||r.lastEventId()},c=i.WINDOW.document.createElement("script");c.async=!0,c.crossOrigin="anonymous",c.src=r.getReportDialogEndpoint(l,A);const{onLoad:u,onClose:d}=A;if(u&&(c.onload=u),d){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{d()}finally{i.WINDOW.removeEventListener("message",e)}};i.WINDOW.addEventListener("message",e)}n.appendChild(c)}},6565:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(3971),i=n(5613),a=n(4447),s=n(9288),l=n(676),A=n(7778),c=o.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{depth:t=3,captureErrorCause:n=!0}=e;return{name:"ExtraErrorData",processEvent(e,o,c){const{maxValueLength:u=250}=c.getOptions();return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;if(!t.originalException||!a.isError(t.originalException))return e;const u=t.originalException.name||t.originalException.constructor.name,d=function(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const t of Object.keys(e)){if(-1!==r.indexOf(t))continue;const i=e[t];o[t]=a.isError(i)||"string"===typeof i?A.truncate(`${i}`,n):i}if(t&&void 0!==e.cause&&(o.cause=a.isError(e.cause)?e.cause.toString():e.cause),"function"===typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];o[e]=a.isError(n)?n.toString():n}}return o}catch(o){r.DEBUG_BUILD&&i.debug.error("Unable to extract extra data from the Error object:",o)}return null}(t.originalException,o,c);if(d){const t={...e.contexts},r=s.normalize(d,n);return a.isPlainObject(r)&&(l.addNonEnumerableProperty(r,"__sentry_skip_normalization__",!0),t[u]=r),{...e,contexts:t}}return e}(e,o,t,n,u)}}});t.extraErrorDataIntegration=c},6586:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7287);t.generateSpanId=function(){return r.uuid4().substring(16)},t.generateTraceId=function(){return r.uuid4()}},6588:(e,t,n)=>{"use strict";n.d(t,{Bs:()=>s,ID:()=>l,SN:()=>i,getBrandData:()=>o,wP:()=>a});n(4401);const r=n(377).A.PYTHON_API_URL;console.log("\ud83d\udd27 enhancedFirestoreHelpers.js - API_BASE_URL:",r),console.log("\ud83d\udd27 enhancedFirestoreHelpers.js - REACT_APP_URL env var:","http://localhost:8002");const o=async e=>{try{const t=await fetch(`${r}/get-user-brands/${encodeURIComponent(e)}`);if(!t.ok)return null;const n=await t.json();return Array.isArray(n.brands)&&n.brands.length>0?n.brands[0]:null}catch(t){console.error("\u274c Error getting brand data (via API):",t);try{const e=localStorage.getItem("incivus_brand_data_backup");if(e)return JSON.parse(e)}catch{}return null}},i=async()=>{throw new Error("getAdMedia disabled on frontend")},a=async()=>{throw new Error("createAnalysisRequest disabled on frontend")},s=async()=>{throw new Error("updateAnalysisRequestStatus disabled on frontend")},l=async()=>{throw new Error("saveAnalysisResults disabled on frontend")}},6624:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}t.SPAN_STATUS_ERROR=2,t.SPAN_STATUS_OK=1,t.SPAN_STATUS_UNSET=0,t.getSpanStatusFromHttpCode=n,t.setHttpStatus=function(e,t){e.setAttribute("http.response.status_code",t);const r=n(t);"unknown_error"!==r.message&&e.setStatus(r)}},6702:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425);t.createUserFeedbackEnvelope=function(e,t){let{metadata:n,tunnel:o,dsn:i}=t;const a={event_id:e.event_id,sent_at:(new Date).toISOString(),...n?.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}},...!!o&&!!i&&{dsn:r.dsnToString(i)}},s=function(e){return[{type:"user_report"},e]}(e);return r.createEnvelope(a,[s])}},6804:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425);function i(e,t,n,r){let o=t.pathname;n({location:t,routes:e},(e,t,n)=>{if(e||!n)return r(o);const i=function(e){if(!Array.isArray(e)||0===e.length)return"";const t=e.filter(e=>!!e.path);let n=-1;for(let r=t.length-1;r>=0;r--){const e=t[r];if(e.path?.startsWith("/")){n=r;break}}return t.slice(n).reduce((e,t)=>{let{path:n}=t;return`${e}${"/"===e||""===e?n:`/${n}`}`},"")}(n.routes||[]);return 0===i.length||"/*"===i?r(o):(o=i,r(o,"route"))})}t.reactRouterV3BrowserTracingIntegration=function(e){const t=r.browserTracingIntegration({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:a,match:s,instrumentPageLoad:l=!0,instrumentNavigation:A=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),l&&r.WINDOW.location&&i(a,r.WINDOW.location,s,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"url";r.startBrowserTracingPageLoadSpan(e,{name:t,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"pageload",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.react.reactrouter_v3",[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:n}})}),A&&n.listen&&n.listen(t=>{"PUSH"!==t.action&&"POP"!==t.action||i(a,t,s,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"url";r.startBrowserTracingNavigationSpan(e,{name:t,attributes:{[o.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"navigation",[o.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.react.reactrouter_v3",[o.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:n}})})})}}}},6831:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(5613);function a(e){return!!e&&"undefined"!==typeof e._profiler&&"function"===typeof e._profiler.start&&"function"===typeof e._profiler.stop}const s={startProfiler:function(){const e=r.getClient();if(!e)return void(o.DEBUG_BUILD&&i.debug.warn("No Sentry client available, profiling is not started"));const t=e.getIntegrationByName("ProfilingIntegration");t?a(t)?t._profiler.start():o.DEBUG_BUILD&&i.debug.warn("Profiler is not available on profiling integration."):o.DEBUG_BUILD&&i.debug.warn("ProfilingIntegration is not available")},stopProfiler:function(){const e=r.getClient();if(!e)return void(o.DEBUG_BUILD&&i.debug.warn("No Sentry client available, profiling is not started"));const t=e.getIntegrationByName("ProfilingIntegration");t?a(t)?t._profiler.stop():o.DEBUG_BUILD&&i.debug.warn("Profiler is not available on profiling integration."):o.DEBUG_BUILD&&i.debug.warn("ProfilingIntegration is not available")}};t.profiler=s},6842:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=r.GLOBAL_OBJ,i=r.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>function(e,t){const n=o.document,i=o.location&&r.stripUrlQueryAndFragment(o.location.href);if(!n||!i)return e;const s=e.exception?.values;if(!s?.length)return e;const l=n.documentElement.innerHTML;if(!l)return e;const A=["<!DOCTYPE html>","<html>",...l.split("\n"),"</html>"];return s.forEach(e=>{const n=e.stacktrace;n?.frames&&(n.frames=n.frames.map(e=>a(e,A,i,t)))}),e}(e,t)}});function a(e,t,n,o){return e.filename===n&&e.lineno&&t.length?(r.addContextToFrame(t,e,o),e):e}t.applySourceContextToFrame=a,t.contextLinesIntegration=i},6858:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6893),o=n(7090),i=n(4937),a=n(3447),s=n(304),l=n(5613),A=n(4447),c=n(1820),u=n(4082),d=n(80),p=n(6453);function h(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function f(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!n||e[t]&&!r||(e[t]=n)}function g(e,t){const n=v(),r=y(e);void 0===r?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=100&&m(e,r))}function m(e,t){const n=t??y(e)??[];if(0===n.length)return;const r=e.getOptions(),o=p.createLogEnvelope(n,r._metadata,r.tunnel,e.getDsn());v().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function y(e){return v().get(e)}function v(){return r.getGlobalSingleton("clientToLogBufferMap",()=>new WeakMap)}t._INTERNAL_captureLog=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getClient(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.getCurrentScope(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;if(!t)return void(a.DEBUG_BUILD&&l.debug.warn("No client available to capture log."));const{release:p,environment:m,enableLogs:y=!1,beforeSendLog:v}=t.getOptions();if(!y)return void(a.DEBUG_BUILD&&l.debug.warn("logging option not enabled, log will not be captured."));const[,b]=o._getTraceInfoFromScope(t,n),w={...e.attributes},{user:{id:S,email:_,username:B}}=function(e){const t=i.getGlobalScope().getScopeData();return s.mergeScopeData(t,i.getIsolationScope().getScopeData()),s.mergeScopeData(t,e.getScopeData()),t}(n);f(w,"user.id",S,!1),f(w,"user.email",_,!1),f(w,"user.name",B,!1),f(w,"sentry.release",p),f(w,"sentry.environment",m);const{name:C,version:E}=t.getSdkMetadata()?.sdk??{};f(w,"sentry.sdk.name",C),f(w,"sentry.sdk.version",E);const x=e.message;if(A.isParameterizedString(x)){const{__sentry_template_string__:e,__sentry_template_values__:t=[]}=x;w["sentry.message.template"]=e,t.forEach((e,t)=>{w[`sentry.message.parameter.${t}`]=e})}const I=c._getSpanForScope(n);f(w,"sentry.trace.parent_span_id",I?.spanContext().spanId);const T={...e,attributes:w};t.emit("beforeCaptureLog",T);const k=v?l.consoleSandbox(()=>v(T)):T;if(!k)return t.recordDroppedEvent("before_send","log_item",1),void(a.DEBUG_BUILD&&l.debug.warn("beforeSendLog returned null, log will not be captured."));const{level:U,message:F,attributes:N={},severityNumber:P}=k;r(t,{timestamp:u.timestampInSeconds(),level:U,body:F,trace_id:b?.trace_id,severity_number:P??d.SEVERITY_TEXT_TO_SEVERITY_NUMBER[U],attributes:Object.keys(N).reduce((e,t)=>(e[t]=h(N[t]),e),{})}),t.emit("afterCaptureLog",k)},t._INTERNAL_captureSerializedLog=g,t._INTERNAL_flushLogsBuffer=m,t._INTERNAL_getLogBuffer=y,t.logAttributeToSerializedLogAttribute=h},6893:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9747),o=n(7752);function i(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||r.SDK_VERSION,t[r.SDK_VERSION]=t[r.SDK_VERSION]||{}}t.getGlobalSingleton=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.GLOBAL_OBJ;const i=n.__SENTRY__=n.__SENTRY__||{},a=i[r.SDK_VERSION]=i[r.SDK_VERSION]||{};return a[e]||(a[e]=t())},t.getMainCarrier=function(){return i(o.GLOBAL_OBJ),o.GLOBAL_OBJ},t.getSentryCarrier=i},7090:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9153),o=n(3344),i=n(4937),a=n(3447),s=n(8149),l=n(3971),A=n(2809),c=n(5625),u=n(9498),d=n(5613),p=n(8802),h=n(7379),f=n(8734),g=n(4447),m=n(2019),y=n(7287),v=n(7948),b=n(2394),w=n(780),S=n(9262),_=n(7591),B=n(7815),C="Not capturing exception because it's already been captured.",E="Discarded session because of missing or non-string release",x=Symbol.for("SentryInternalError"),I=Symbol.for("SentryDoNotSendEventError");function T(e){return{message:e,[x]:!0}}function k(e){return{message:e,[I]:!0}}function U(e){return!!e&&"object"===typeof e&&x in e}function F(e){return!!e&&"object"===typeof e&&I in e}function N(e){return void 0===e.type}function P(e){return"transaction"===e.type}t.Client=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=p.makeDsn(e.dsn):a.DEBUG_BUILD&&d.debug.warn("No DSN provided, client will not send events."),this._dsn){const t=r.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=y.uuid4();if(y.checkOrSetAlreadyCaught(e))return a.DEBUG_BUILD&&d.debug.log(C),r;const o={event_id:r,...t};return this._process(this.eventFromException(e,o).then(e=>this._captureEvent(e,o,n))),o.event_id}captureMessage(e,t,n,r){const o={event_id:y.uuid4(),...n},i=g.isParameterizedString(e)?e:String(e),a=g.isPrimitive(e)?this.eventFromMessage(i,t,o):this.eventFromException(e,o);return this._process(a.then(e=>this._captureEvent(e,o,r))),o.event_id}captureEvent(e,t,n){const r=y.uuid4();if(t?.originalException&&y.checkOrSetAlreadyCaught(t.originalException))return a.DEBUG_BUILD&&d.debug.log(C),r;const o={event_id:r,...t},i=e.sdkProcessingMetadata||{},s=i.capturedSpanScope,l=i.capturedSpanIsolationScope;return this._process(this._captureEvent(e,o,s||n,l)),o.event_id}captureSession(e){this.sendSession(e),A.updateSession(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):_.resolvedSyncPromise(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(e=>{let{name:t}=e;return t.startsWith("Spotlight")}))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];l.setupIntegration(this,e,this._integrations),t||l.afterSetupIntegrations(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=s.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of t.attachments||[])n=h.addItemToEnvelope(n,h.createAttachmentEnvelopeItem(o));const r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){const{release:t,environment:n=o.DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(a.DEBUG_BUILD&&d.debug.warn(E));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(a.DEBUG_BUILD&&d.debug.warn(E));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=s.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){const r=`${e}:${t}`;a.DEBUG_BUILD&&d.debug.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=this._hooks[e];o&&o.forEach(e=>e(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,e=>(a.DEBUG_BUILD&&d.debug.error("Error while sending envelope:",e),e)):(a.DEBUG_BUILD&&d.debug.error("Transport disabled"),_.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=l.setupIntegrations(this,e),l.afterSetupIntegrations(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1;const o=t.exception?.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(!1===t?.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(A.updateSession(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new _.SyncPromise(t=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const o=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a?.length&&(t.integrations=a),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),b.prepareEvent(o,e,t,n,this,r).then(e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:i.getTraceContextFromScope(n),...e.contexts};const r=c.getDynamicSamplingContextFromScope(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e})}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.getCurrentScope(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.getIsolationScope();return a.DEBUG_BUILD&&N(e)&&d.debug.log(`Captured error event \`${f.getPossibleEventMessages(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(e=>e.event_id,e=>{a.DEBUG_BUILD&&(F(e)?d.debug.log(e.message):U(e)?d.debug.warn(e.message):d.debug.warn(e))})}_processEvent(e,t,n,r){const o=this.getOptions(),{sampleRate:i}=o,a=P(e),s=N(e),l=e.type||"error",A=`before send for type \`${l}\``,c="undefined"===typeof i?void 0:v.parseSampleRate(i);if(s&&"number"===typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error"),_.rejectedSyncPromise(k(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const u="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",u),k("An event processor returned `null`, will not send event.");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:a,ignoreSpans:s}=t;let l=n;if(N(l)&&o)return o(l,r);if(P(l)){if(a||s){const t=B.convertTransactionEventToSpanJson(l);if(s?.length&&w.shouldIgnoreSpan(t,s))return null;if(a){const e=a(t);e?l=m.merge(n,B.convertSpanJsonToTransactionEvent(e)):S.showSpanDropWarning()}if(l.spans){const t=[],n=l.spans;for(const e of n)if(s?.length&&w.shouldIgnoreSpan(e,s))w.reparentChildSpans(n,e);else if(a){const n=a(e);n?t.push(n):(S.showSpanDropWarning(),t.push(e))}else t.push(e);const r=l.spans.length-t.length;r&&e.recordDroppedEvent("before_send","span",r),l.spans=t}}if(i){if(l.spans){const e=l.spans.length;l.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(l,r)}}return l}(this,o,e,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(g.isThenable(e))return e.then(e=>{if(!g.isPlainObject(e)&&null!==e)throw T(n);return e},e=>{throw T(`${t} rejected with ${e}`)});if(!g.isPlainObject(e)&&null!==e)throw T(n);return e}(n,A)}).then(o=>{if(null===o){if(this.recordDroppedEvent("before_send",u),a){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw k(`${A} returned \`null\`, will not send event.`)}const i=n.getSession()||r.getSession();if(s&&i&&this._updateSessionFromEvent(i,o),a){const e=(o.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const l=o.transaction_info;if(a&&l&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...l,source:e}}return this.sendEvent(o,t),o}).then(null,e=>{if(F(e)||U(e))throw e;throw this.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),T(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(e=>{let[t,n]=e;const[r,o]=t.split(":");return{reason:r,category:o,quantity:n}})}_flushOutcomes(){a.DEBUG_BUILD&&d.debug.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(a.DEBUG_BUILD&&d.debug.log("No outcomes to send"));if(!this._dsn)return void(a.DEBUG_BUILD&&d.debug.log("No dsn provided, will not send outcomes"));a.DEBUG_BUILD&&d.debug.log("Sending outcomes:",e);const t=u.createClientReportEnvelope(e,this._options.tunnel&&p.dsnToString(this._dsn));this.sendEnvelope(t)}},t._getTraceInfoFromScope=function(e,t){return t?i.withScope(t,()=>{const n=S.getActiveSpan(),r=n?S.spanToTraceContext(n):i.getTraceContextFromScope(t);return[n?c.getDynamicSamplingContextFromSpan(n):c.getDynamicSamplingContextFromScope(e,t),r]}):[void 0,void 0]}},7128:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650),i=n(1817),a=n(9136),s=new WeakMap,l=new Map,A={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function c(e){const{url:t}=r.spanToJSON(e).data;if(!t||"string"!==typeof t)return;const n=o.addPerformanceInstrumentationHandler("resource",r=>{let{entries:o}=r;o.forEach(r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){a.resourceTimingToSpanAttributes(r).forEach(t=>e.setAttribute(...t)),setTimeout(n)}})})}function u(e,t){const n=r.getLocationHref();if(n){let o,i;try{o=new URL(e,n),i=new URL(n).origin}catch{return!1}const a=o.origin===i;return t?r.stringMatchesSomePattern(o.toString(),t)||a&&r.stringMatchesSomePattern(o.pathname,t):a}{const n=!!e.match(/^\/(?!\/)/);return t?r.stringMatchesSomePattern(e,t):n}}function d(e,t,n,i){const a=e.xhr,s=a?.[o.SENTRY_XHR_DATA_KEY];if(!a||a.__sentry_own_request__||!s)return;const{url:l,method:A}=s,c=r.hasSpansEnabled()&&t(l);if(e.endTimestamp&&c){const e=a.__sentry_xhr_span_id__;if(!e)return;const t=i[e];return void(t&&void 0!==s.status_code&&(r.setHttpStatus(t,s.status_code),t.end(),delete i[e]))}const u=p(l),d=u?r.parseUrl(u):r.parseUrl(l),h=r.stripUrlQueryAndFragment(l),f=!!r.getActiveSpan(),g=c&&f?r.startInactiveSpan({name:`${A} ${h}`,attributes:{url:l,type:"xhr","http.method":A,"http.url":u,"server.address":d?.host,[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new r.SentryNonRecordingSpan;a.__sentry_xhr_span_id__=g.spanContext().spanId,i[a.__sentry_xhr_span_id__]=g,n(l)&&function(e,t){const{"sentry-trace":n,baggage:o}=r.getTraceData({span:t});n&&function(e,t,n){const r=e.__sentry_xhr_v3__?.request_headers;if(r?.["sentry-trace"])return;try{if(e.setRequestHeader("sentry-trace",t),n){const t=r?.baggage;t&&t.split(",").some(e=>e.trim().startsWith("sentry-"))||e.setRequestHeader("baggage",n)}}catch{}}(e,n,o)}(a,r.hasSpansEnabled()&&f?g:void 0);const m=r.getClient();return m&&m.emit("beforeOutgoingRequestSpan",g,e),g}function p(e){try{return new URL(e,i.WINDOW.location.origin).href}catch{return}}t.defaultRequestInstrumentationOptions=A,t.instrumentOutgoingRequests=function(e,t){const{traceFetch:n,traceXHR:i,trackFetchStreamPerformance:a,shouldCreateSpanForRequest:h,enableHTTPTimings:f,tracePropagationTargets:g,onRequestSpanStart:m}={...A,...t},y="function"===typeof h?h:e=>!0,v=e=>u(e,g),b={};n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){const t=l.get(e.span_id);t&&(e.timestamp=t/1e3,l.delete(e.span_id))}}),e)),a&&r.addFetchEndInstrumentationHandler(e=>{if(e.response){const t=s.get(e.response);t&&e.endTimestamp&&l.set(t,e.endTimestamp)}}),r.addFetchInstrumentationHandler(e=>{const t=r.instrumentFetchRequest(e,y,v,b);if(e.response&&e.fetchData.__span&&s.set(e.response,e.fetchData.__span),t){const n=p(e.fetchData.url),o=n?r.parseUrl(n).host:void 0;t.setAttributes({"http.url":n,"server.address":o}),f&&c(t),m?.(t,{headers:e.headers})}})),i&&o.addXhrInstrumentationHandler(e=>{const t=d(e,y,v,b);if(t){let n;f&&c(t);try{n=new Headers(e.xhr.__sentry_xhr_v3__?.request_headers)}catch{}m?.(t,{headers:n})}})},t.shouldAttachHeaders=u,t.xhrCallback=d},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],A=s+1,c=e[A];if(0>i(l,n))A<o&&0>i(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[s]=n,r=s);else{if(!(A<o&&0>i(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var A=[],c=[],u=1,d=null,p=3,h=!1,f=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function w(e){if(g=!1,b(e),!f)if(null!==r(A))f=!0,N(S);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function S(e,n){f=!1,g&&(g=!1,y(E),E=-1),h=!0;var i=p;try{for(b(n),d=r(A);null!==d&&(!(d.expirationTime>n)||e&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(A)&&o(A),b(n)}else o(A);d=r(A)}if(null!==d)var l=!0;else{var u=r(c);null!==u&&P(w,u.startTime-n),l=!1}return l}finally{d=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,B=!1,C=null,E=-1,x=5,I=-1;function T(){return!(t.unstable_now()-I<x)}function k(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?_():(B=!1,C=null)}}else B=!1}if("function"===typeof v)_=function(){v(k)};else if("undefined"!==typeof MessageChannel){var U=new MessageChannel,F=U.port2;U.port1.onmessage=k,_=function(){F.postMessage(null)}}else _=function(){m(k,0)};function N(e){C=e,B||(B=!0,_())}function P(e,n){E=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(A)&&e===r(c)&&(g?(y(E),E=-1):g=!0,P(w,i-a))):(e.sortIndex=s,n(A,e),f||h||(f=!0,N(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7245:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(1817),i=r.defineIntegration(()=>({name:"HttpContext",preprocessEvent(e){if(!o.WINDOW.navigator&&!o.WINDOW.location&&!o.WINDOW.document)return;const t=o.getHttpRequestData(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}));t.httpContextIntegration=i},7287:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(676),o=n(7778),i=n(7752);function a(e){return e.exception?.values?.[0]}const s=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function l(e){return parseInt(e||"",10)}t.addContextToFrame=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(void 0===t.lineno)return;const r=e.length,i=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-n),i).map(e=>o.snipLine(e,0));const a=Math.min(r-1,i);t.context_line=o.snipLine(e[a],t.colno||0),t.post_context=e.slice(Math.min(i+1,r),i+1+n).map(e=>o.snipLine(e,0))},t.addExceptionMechanism=function(e,t){const n=a(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r?.data,...t.data};n.mechanism.data=e}},t.addExceptionTypeValue=function(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")},t.checkOrSetAlreadyCaught=function(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{r.addNonEnumerableProperty(e,"__sentry_captured__",!0)}catch{}return!1},t.getEventDescription=function(e){const{message:t,event_id:n}=e;if(t)return t;const r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"},t.parseSemver=function(e){const t=e.match(s)||[],n=l(t[1]),r=l(t[2]),o=l(t[3]);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(o)?void 0:o,prerelease:t[4]}},t.uuid4=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){const e=i.GLOBAL_OBJ;return e.crypto||e.msCrypto}(),t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}},7317:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(1789),i=n(1817);class a extends r.Client{constructor(e){const t=s(e),n=i.WINDOW.SENTRY_SDK_SOURCE||r.getSDKSource();r.applySdkMetadata(t,"browser",["browser"],n),super(t);const{sendDefaultPii:o,sendClientReports:a,enableLogs:l}=this._options;i.WINDOW.document&&(a||l)&&i.WINDOW.document.addEventListener("visibilitychange",()=>{"hidden"===i.WINDOW.document.visibilityState&&(a&&this._flushOutcomes(),l&&r._INTERNAL_flushLogsBuffer(this))}),l&&(this.on("flush",()=>{r._INTERNAL_flushLogsBuffer(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{r._INTERNAL_flushLogsBuffer(this)},5e3)})),o&&(this.on("postprocessEvent",r.addAutoIpAddressToUser),this.on("beforeSendSession",r.addAutoIpAddressToSession))}eventFromException(e,t){return o.eventFromException(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return o.eventFromMessage(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}function s(e){return{release:"string"===typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:i.WINDOW.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}t.BrowserClient=a,t.applyDefaultOptions=s},7340:(e,t,n)=>{"use strict";let r;n.d(t,{z:()=>o});try{r=n(3505).Logger}catch(i){r={info:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.log("\ud83d\udcdd INFO:",e,t)},warn:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.warn("\u26a0\ufe0f WARN:",e,t)},error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.error("\u274c ERROR:",e,t)},trackUserAction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.log(`\ud83d\udc64 USER ACTION: ${e}`,t)},trackApiCall:(e,t,n,r)=>console.log(`\ud83c\udf10 API: ${t} ${e} - ${n} (${r}ms)`),setUser:e=>console.log("\ud83d\udc64 SET USER:",e),clearUser:()=>console.log("\ud83d\udc64 CLEAR USER")}}const o={testAllLogTypes:()=>{console.log("\ud83e\uddea Testing all Sentry log types..."),r.info("Demo: Application started",{version:"1.0.0",environment:"production",timestamp:(new Date).toISOString()}),r.warn("Demo: This is a test warning",{component:"SentryDemo",severity:"medium"});const e=new Error("Demo: This is a test error for Sentry");e.stack="TestError: Demo error\n    at SentryDemo.testAllLogTypes\n    at onClick handler",r.error(e,{component:"SentryDemo",userAction:"test_logging",additionalInfo:"This is just a test"}),r.trackUserAction("Demo: Test Button Clicked",{buttonType:"test",location:"demo_page",timestamp:Date.now()}),r.trackApiCall("/api/demo-test","POST",200,150),r.trackApiCall("/api/demo-error","GET",500,2e3),r.setUser({id:"demo-user-123",email:"demo@example.com",username:"demo_user"}),console.log("\u2705 All logging tests completed!"),console.log("\ud83d\udcca Check your browser console (dev) or Sentry dashboard (prod)")},testJavaScriptError:()=>{console.log("\ud83d\udd25 Testing JavaScript error capture...");try{null.nonExistentProperty.anotherProperty="test"}catch(e){r.error(e,{component:"SentryDemo",action:"testJavaScriptError",errorType:"null_reference"}),console.log("\u2705 JavaScript error captured and logged")}},testApiError:()=>{console.log("\ud83c\udf10 Testing API error simulation...");const e=new Error("API request failed: Server returned 500");e.name="ApiError",e.status=500,e.endpoint="/api/test-endpoint",r.error(e,{component:"SentryDemo",action:"testApiError",endpoint:"/api/test-endpoint",method:"POST",status:500,responseTime:3e3}),console.log("\u2705 API error simulation logged")},testUserFlow:()=>{console.log("\ud83d\udc64 Testing user flow tracking...");const e=[{action:"Page Loaded",data:{page:"analysis"}},{action:"File Uploaded",data:{fileType:"image",size:"2.5MB"}},{action:"Form Filled",data:{channels:["instagram","facebook"]}},{action:"Analysis Started",data:{analysisType:"full"}},{action:"Results Viewed",data:{score:85}}];e.forEach((t,n)=>{setTimeout(()=>{r.trackUserAction(`Demo: ${t.action}`,{...t.data,step:n+1,totalSteps:e.length}),console.log(`\ud83d\udcdd Logged: ${t.action}`)},500*n)}),console.log("\u2705 User flow tracking test started")},testPerformanceMonitoring:()=>{console.log("\u26a1 Testing performance monitoring...");const e=performance.now();setTimeout(()=>{const t=performance.now()-e;r.trackApiCall("/api/heavy-computation","POST",200,Math.round(t)),r.info("Demo: Performance test completed",{operation:"heavy_computation",duration:Math.round(t),performanceGrade:t<1e3?"good":"needs_improvement"}),console.log(`\u2705 Performance test completed in ${Math.round(t)}ms`)},1e3)},clearUserContext:()=>{r.clearUser(),console.log("\ud83e\uddf9 User context cleared")},runAllTests:()=>{console.log("\ud83d\ude80 Running complete Sentry demo..."),o.testAllLogTypes(),setTimeout(()=>o.testJavaScriptError(),2e3),setTimeout(()=>o.testApiError(),4e3),setTimeout(()=>o.testUserFlow(),6e3),setTimeout(()=>o.testPerformanceMonitoring(),1e4),console.log("\u23f3 All tests queued. Check console output over the next 15 seconds.")}};window.SentryDemo=o},7341:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7752);t.vercelWaitUntil=function(e){const t=r.GLOBAL_OBJ[Symbol.for("@vercel/request-context")],n=t?.get?.();n?.waitUntil&&n.waitUntil(e)}},7365:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2556),o=n(8425),i=n(5043),a=n(5359),s=n(4195),l=n(3600),A="unknown",c={componentStack:null,error:null,eventId:null};class u extends i.Component{constructor(e){super(e),this.state=c,this._openFallbackReportDialog=!0;const t=r.getClient();t&&e.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=t.on("afterSendEvent",t=>{!t.type&&this._lastEventId&&t.event_id===this._lastEventId&&r.showReportDialog({...e.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(e,t){const{componentStack:n}=t,{beforeCapture:o,onError:i,showDialog:a,dialogOptions:l}=this.props;r.withScope(A=>{o&&o(A,e,n);const c=null!=this.props.handled?this.props.handled:!!this.props.fallback,u=s.captureReactException(e,t,{mechanism:{handled:c}});i&&i(e,n,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&r.showReportDialog({...l,eventId:u})),this.setState({error:e,componentStack:n,eventId:u})})}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:t,eventId:n}=this.state,{onUnmount:r}=this.props;r&&(this.state===c?r(null,null,null):r(e,t,n)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:e}=this.props,{error:t,componentStack:n,eventId:r}=this.state;e&&e(t,n,r),this.setState(c)}render(){const{fallback:e,children:t}=this.props,n=this.state;if(null===n.componentStack)return"function"===typeof t?t():t;const r="function"===typeof e?i.createElement(e,{error:n.error,componentStack:n.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:n.eventId}):e;return i.isValidElement(r)?r:(e&&a.DEBUG_BUILD&&o.debug.warn("fallback did not produce a valid ReactElement"),null)}}t.ErrorBoundary=u,t.UNKNOWN_COMPONENT=A,t.withErrorBoundary=function(e,t){const n=e.displayName||e.name||A,r=i.memo(n=>i.createElement(u,{...t},i.createElement(e,{...n})));return r.displayName=`errorBoundary(${n})`,l.hoistNonReactStatics(r,e),r}},7379:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6893),o=n(8802),i=n(9288),a=n(7752);function s(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function l(e){const t=r.getSentryCarrier(a.GLOBAL_OBJ);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}const A={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};t.addItemToEnvelope=function(e,t){const[n,r]=e;return[n,[...r,t]]},t.createAttachmentEnvelopeItem=function(e){const t="string"===typeof e.data?l(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]},t.createEnvelope=function(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]},t.createEventEnvelopeHeaders=function(e,t,n,r){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:o.dsnToString(r)},...i&&{trace:i}}},t.createSpanEnvelopeItem=function(e){return[{type:"span"},e]},t.envelopeContainsItemType=function(e,t){return s(e,(e,n)=>t.includes(n))},t.envelopeItemTypeToDataCategory=function(e){return A[e]},t.forEachEnvelopeItem=s,t.getSdkMetadataForEnvelopeHeader=function(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}},t.parseEnvelope=function(e){let t="string"===typeof e?l(e):e;function n(e){const n=t.subarray(0,e);return t=t.subarray(e+1),n}function o(){let e=t.indexOf(10);return e<0&&(e=t.length),JSON.parse(function(e){const t=r.getSentryCarrier(a.GLOBAL_OBJ);return t.decodePolyfill?t.decodePolyfill(e):(new TextDecoder).decode(e)}(n(e)))}const i=o(),s=[];for(;t.length;){const e=o(),t="number"===typeof e.length?e.length:void 0;s.push([e,t?n(t):o()])}return[i,s]},t.serializeEnvelope=function(e){const[t,n]=e;let r=JSON.stringify(t);function o(e){"string"===typeof r?r="string"===typeof e?r+e:[l(r),e]:r.push("string"===typeof e?l(e):e)}for(const a of n){const[e,t]=a;if(o(`\n${JSON.stringify(e)}\n`),"string"===typeof t||t instanceof Uint8Array)o(t);else{let e;try{e=JSON.stringify(t)}catch{e=JSON.stringify(i.normalize(t))}o(e)}}return"string"===typeof r?r:function(e){const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}(r)}},7446:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(1789),a=n(1817),s=r.defineIntegration(function(){const e={onerror:!0,onunhandledrejection:!0,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(e){r.addGlobalErrorInstrumentationHandler(t=>{const{stackParser:n,attachStacktrace:o}=A();if(r.getClient()!==e||a.shouldIgnoreOnError())return;const{msg:s,url:l,line:c,column:u,error:d}=t,p=function(e,t,n,o){const i=e.exception=e.exception||{},a=i.values=i.values||[],s=a[0]=a[0]||{},l=s.stacktrace=s.stacktrace||{},A=l.frames=l.frames||[],c=o,u=n,d=r.isString(t)&&t.length>0?t:r.getLocationHref();0===A.length&&A.push({colno:c,filename:d,function:r.UNKNOWN_FUNCTION,in_app:!0,lineno:u});return e}(i.eventFromUnknownInput(n,d||s,void 0,o,!1),l,c,u);p.level="error",r.captureEvent(p,{originalException:d,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}(t),l("onerror")),e.onunhandledrejection&&(!function(e){r.addGlobalUnhandledRejectionInstrumentationHandler(t=>{const{stackParser:n,attachStacktrace:o}=A();if(r.getClient()!==e||a.shouldIgnoreOnError())return;const s=function(e){if(r.isPrimitive(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),l=r.isPrimitive(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:i.eventFromUnknownInput(n,s,void 0,o,!0);l.level="error",r.captureEvent(l,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}(t),l("onunhandledrejection"))}}});function l(e){o.DEBUG_BUILD&&r.debug.log(`Global Handler attached: ${e}`)}function A(){const e=r.getClient();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}t.globalHandlersIntegration=s},7481:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=r.defineIntegration(()=>({name:"OpenFeature",processEvent:(e,t,n)=>r._INTERNAL_copyFlagsFromScopeToEvent(e)}));t.OpenFeatureIntegrationHook=class{after(e,t){r._INTERNAL_insertFlagToScope(t.flagKey,t.value),r._INTERNAL_addFeatureFlagToActiveSpan(t.flagKey,t.value)}error(e,t,n){r._INTERNAL_insertFlagToScope(e.flagKey,e.defaultValue),r._INTERNAL_addFeatureFlagToActiveSpan(e.flagKey,e.defaultValue)}},t.openFeatureIntegration=o},7534:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(6399);let i;function a(){function e(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];const s=n.length>2?n[2]:void 0;if(s){const t=i,a=function(e){try{return new URL(e,o.WINDOW.location.origin).toString()}catch{return e}}(String(s));if(i=a,t===a)return e.apply(this,n);const l={from:t,to:a};r.triggerHandlers("history",l)}return e.apply(this,n)}}o.WINDOW.addEventListener("popstate",()=>{const e=o.WINDOW.location.href,t=i;if(i=e,t===e)return;const n={from:t,to:e};r.triggerHandlers("history",n)}),r.supportsHistory()&&(r.fill(o.WINDOW.history,"pushState",e),r.fill(o.WINDOW.history,"replaceState",e))}t.addHistoryInstrumentationHandler=function(e){const t="history";r.addHandler(t,e),r.maybeInstrument(t,a)},t.instrumentHistory=a},7540:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(4528),i=n(9987),a=n(1821);t.trackClsAsStandaloneSpan=function(e){let t,n=0;if(!a.supportsWebVital("layout-shift"))return;const s=i.addClsInstrumentationHandler(e=>{let{metric:r}=e;const o=r.entries[r.entries.length-1];o&&(n=r.value,t=o)},!0);a.listenForWebVitalReportEvents(e,(e,i)=>{!function(e,t,n,i){o.DEBUG_BUILD&&r.debug.log(`Sending CLS span (${e})`);const s=a.msToSec((r.browserPerformanceTimeOrigin()||0)+(t?.startTime||0)),l=r.getCurrentScope().getScopeData().transactionName,A=t?r.htmlTreeAsString(t.sources[0]?.node):"Layout shift",c={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.cls",[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.cls",[r.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:t?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":i};t?.sources&&t.sources.forEach((e,t)=>{c[`cls.source.${t+1}`]=r.htmlTreeAsString(e.node)});const u=a.startStandaloneWebVitalSpan({name:A,transaction:l,attributes:c,startTime:s});u&&(u.addEvent("cls",{[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"",[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:e}),u.end(s))}(n,t,i,e),s()})}},7591:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447);class o{constructor(e){this._state=0,this._handlers=[],this._runExecutor(e)}then(e,t){return new o((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(o){r(o)}else n(t)},e=>{if(t)try{n(t(e))}catch(o){r(o)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new o((t,n)=>{let r,o;return this.then(t=>{o=!1,r=t,e&&e()},t=>{o=!0,r=t,e&&e()}).then(()=>{o?n(r):t(r)})})}_executeHandlers(){if(0===this._state)return;const e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(1===this._state&&e[1](this._value),2===this._state&&e[2](this._value),e[0]=!0)})}_runExecutor(e){const t=(e,t)=>{0===this._state&&(r.isThenable(t)?t.then(n,o):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(1,e)},o=e=>{t(2,e)};try{e(n,o)}catch(i){o(i)}}}t.SyncPromise=o,t.rejectedSyncPromise=function(e){return new o((t,n)=>{n(e)})},t.resolvedSyncPromise=function(e){return new o(t=>{t(e)})}},7668:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.addAutoIpAddressToSession=function(e){"aggregates"in e?void 0===e.attrs?.ip_address&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")},t.addAutoIpAddressToUser=function(e){void 0===e.user?.ip_address&&(e.user={...e.user,ip_address:"{{auto}}"})}},7745:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(2809),i=n(5613),a=n(4447),s=n(2019),l=n(7287),A=n(6586),c=n(1820),u=n(7778),d=n(4082);class p{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:A.generateTraceId(),sampleRand:Math.random()}}clone(){const e=new p;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,c._setSpanForScope(e,c._getSpanForScope(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&o.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e,n=t instanceof p?t.getScopeData():a.isPlainObject(t)?e:void 0,{tags:r,extra:o,user:i,contexts:s,level:l,fingerprint:A=[],propagationContext:c}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},i&&Object.keys(i).length&&(this._user=i),l&&(this._level=l),A.length&&(this._fingerprint=A),c&&(this._propagationContext=c),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,c._setSpanForScope(this,void 0),this._attachments=[],this.setPropagationContext({traceId:A.generateTraceId(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:d.dateTimestampInSeconds(),...e,message:e.message?u.truncate(e.message,2048):e.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:c._getSpanForScope(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=s.merge(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t?.event_id||l.uuid4();if(!this._client)return r.DEBUG_BUILD&&i.debug.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n?.event_id||l.uuid4();if(!this._client)return r.DEBUG_BUILD&&i.debug.warn("No client configured on scope - will not capture message!"),o;const a=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:a,...n,event_id:o},this),o}captureEvent(e,t){const n=t?.event_id||l.uuid4();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(r.DEBUG_BUILD&&i.debug.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}t.Scope=p},7751:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.observe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}}},7752:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=globalThis;t.GLOBAL_OBJ=n},7760:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(6399),i="__sentry_xhr_v3__";function a(){if(!o.WINDOW.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const o=new Error,a=1e3*r.timestampInSeconds(),s=r.isString(n[0])?n[0].toUpperCase():void 0,l=function(e){if(r.isString(e))return e;try{return e.toString()}catch{}return}(n[1]);if(!s||!l)return e.apply(t,n);t[i]={method:s,url:l,request_headers:{}},"POST"===s&&l.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const A=()=>{const e=t[i];if(e&&4===t.readyState){try{e.status_code=t.status}catch{}const n={endTimestamp:1e3*r.timestampInSeconds(),startTimestamp:a,xhr:t,virtualError:o};r.triggerHandlers("xhr",n)}};return"onreadystatechange"in t&&"function"===typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(A(),e.apply(t,n))}):t.addEventListener("readystatechange",A),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[o,a]=n,s=t[i];return s&&r.isString(o)&&r.isString(a)&&(s.request_headers[o.toLowerCase()]=a),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const o=t[i];if(!o)return e.apply(t,n);void 0!==n[0]&&(o.body=n[0]);const a={startTimestamp:1e3*r.timestampInSeconds(),xhr:t};return r.triggerHandlers("xhr",a),e.apply(t,n)}})}t.SENTRY_XHR_DATA_KEY=i,t.addXhrInstrumentationHandler=function(e){r.addHandler("xhr",e),r.maybeInstrument("xhr",a)},t.instrumentXHR=a},7778:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!r.isString(e)&&(r.isRegExp(t)?t.test(e):!!r.isString(t)&&(n?e===t:e.includes(t)))}t.isMatchingPattern=o,t.safeJoin=function(e,t){if(!Array.isArray(e))return"";const n=[];for(let o=0;o<e.length;o++){const t=e[o];try{r.isVueViewModel(t)?n.push("[VueViewModel]"):n.push(String(t))}catch{n.push("[value cannot be serialized]")}}return n.join(t)},t.snipLine=function(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n},t.stringMatchesSomePattern=function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(n=>o(e,n,t))},t.truncate=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}},7785:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(676),a=n(7980);function s(e,t){i.fill(e,t,e=>function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];const A=a[a.length-1];if("function"!==typeof A)return e.call(this,n,...a);const c=function(e,t,n){return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];try{return l.call(this,e,t,n,a)}catch(A){return r.DEBUG_BUILD&&o.debug.warn("MCP handler wrapping failed:",A),e.apply(this,a)}}}(A,t,n);return e.call(this,n,...a.slice(0,-1),c)})}function l(e,t,n,r){try{const o=e.apply(this,r);return o&&"object"===typeof o&&"function"===typeof o.then?Promise.resolve(o).catch(e=>{throw A(e,t,n),e}):o}catch(o){throw A(o,t,n),o}}function A(e,t,n){try{const r={};"tool"===t?(r.tool_name=n,"ProtocolValidationError"===e.name||e.message.includes("validation")||e.message.includes("protocol")?a.captureError(e,"validation",r):"ServerTimeoutError"===e.name||e.message.includes("timed out")||e.message.includes("timeout")?a.captureError(e,"timeout",r):a.captureError(e,"tool_execution",r)):"resource"===t?(r.resource_uri=n,a.captureError(e,"resource_execution",r)):"prompt"===t&&(r.prompt_name=n,a.captureError(e,"prompt_execution",r))}catch(r){}}function c(e){s(e,"tool")}function u(e){s(e,"resource")}function d(e){s(e,"prompt")}t.wrapAllMCPHandlers=function(e){c(e),u(e),d(e)},t.wrapPromptHandlers=d,t.wrapResourceHandlers=u,t.wrapToolHandlers=c},7815:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3348);t.convertSpanJsonToTransactionEvent=function(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[r.SEMANTIC_ATTRIBUTE_PROFILE_ID]:e.profile_id},...e.exclusive_time&&{[r.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:e.exclusive_time}}}},measurements:e.measurements}},t.convertTransactionEventToSpanJson=function(e){const{trace_id:t,parent_span_id:n,span_id:o,status:i,origin:a,data:s,op:l}=e.contexts?.trace??{};return{data:s??{},description:e.transaction,op:l,parent_span_id:n,span_id:o??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:a,profile_id:s?.[r.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:s?.[r.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:e.measurements,is_segment:!0}}},7825:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9987),i=n(1821),a=[],s=new Map;const l={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function A(){return o.addInpInstrumentationHandler(c)}const c=e=>{let{metric:t}=e;if(void 0==t.value)return;const n=i.msToSec(t.value);if(n>60)return;const o=t.entries.find(e=>e.duration===t.value&&l[e.name]);if(!o)return;const{interactionId:a}=o,A=l[o.name],c=i.msToSec(r.browserPerformanceTimeOrigin()+o.startTime),u=r.getActiveSpan(),d=u?r.getRootSpan(u):void 0,p=(null!=a?s.get(a):void 0)||d,h=p?r.spanToJSON(p).description:r.getCurrentScope().getScopeData().transactionName,f=r.htmlTreeAsString(o.target),g={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.inp",[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`ui.interaction.${A}`,[r.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:o.duration},m=i.startStandaloneWebVitalSpan({name:f,transaction:h,attributes:g,startTime:c});m&&(m.addEvent("inp",{[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[r.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t.value}),m.end(c+n))};t._onInp=c,t._trackINP=A,t.registerInpInteractionListener=function(){const e=e=>{let{entries:t}=e;const n=r.getActiveSpan(),i=n&&r.getRootSpan(n);t.forEach(e=>{if(!o.isPerformanceEventTiming(e)||!i)return;const t=e.interactionId;if(null!=t&&!s.has(t)){if(a.length>10){const e=a.shift();s.delete(e)}a.push(t),s.set(t,i)}})};o.addPerformanceInstrumentationHandler("event",e),o.addPerformanceInstrumentationHandler("first-input",e)},t.startTrackingINP=function(){if(i.getBrowserPerformanceAPI()&&r.browserPerformanceTimeOrigin()){const e=A();return()=>{e()}}return()=>{}}},7842:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4913),o=n(6893),i=n(4937),a=n(5866),s=n(5613),l=n(9262),A=n(5625),c=n(1893),u=n(2149);t.getTraceData=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.client||i.getClient();if(!a.isEnabled()||!t)return{};const n=o.getMainCarrier(),d=r.getAsyncContextStrategy(n);if(d.getTraceData)return d.getTraceData(e);const p=e.scope||i.getCurrentScope(),h=e.span||l.getActiveSpan(),f=h?l.spanToTraceHeader(h):function(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return u.generateSentryTraceHeader(t,r,n)}(p),g=h?A.getDynamicSamplingContextFromSpan(h):A.getDynamicSamplingContextFromScope(t,p),m=c.dynamicSamplingContextToSentryBaggageHeader(g);return u.TRACEPARENT_REGEXP.test(f)?{"sentry-trace":f,baggage:m}:(s.debug.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}},7911:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425);t.diagnoseSdkConnectivity=async function(){const e=r.getClient();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await r.suppressTracing(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}},7948:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.parseSampleRate=function(e){if("boolean"===typeof e)return Number(e);const t="string"===typeof e?parseFloat(e):e;return"number"!==typeof t||isNaN(t)||t<0||t>1?void 0:t}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7980:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(5866),i=n(9262),a=n(6624);t.captureError=function(e,t,n){try{if(!r.getClient())return;const s=i.getActiveSpan();s?.isRecording()&&s.setStatus({code:a.SPAN_STATUS_ERROR,message:"internal_error"}),o.captureException(e,{mechanism:{type:"mcp_server",handled:!1,data:{error_type:t||"handler_execution",...n}}})}catch{}}},7989:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(8149),a=n(3348),s=n(5613),l=n(6586),A=n(9262),c=n(4082),u=n(5625),d=n(2109),p=n(2040),h=n(5649);class f{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||l.generateTraceId(),this._spanId=e.spanId||l.generateSpanId(),this._startTime=e.startTimestamp||c.timestampInSeconds(),this._links=e.links,this._attributes={},this.setAttributes({[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[a.SEMANTIC_ATTRIBUTE_SENTRY_OP]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?A.TRACE_FLAG_SAMPLED:A.TRACE_FLAG_NONE}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=A.spanTimeInputToSeconds(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"custom"),this}end(e){this._endTime||(this._endTime=A.spanTimeInputToSeconds(e),d.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:A.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],profile_id:this._attributes[a.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[a.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:p.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&A.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?A.getRootSpan(this).spanContext().spanId:void 0,links:A.convertSpanLinksForEnvelope(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){o.DEBUG_BUILD&&s.debug.log("[Tracing] Adding an event to span:",e);const r=g(t)?t:n||c.timestampInSeconds(),i=g(t)?{}:t||{},a={name:e,time:A.spanTimeInputToSeconds(r),attributes:i};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=r.getClient();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===A.getRootSpan(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=r.getClient();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(i.createSpanEnvelope([this],e)):(o.DEBUG_BUILD&&s.debug.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();if(t){(h.getCapturedScopesOnSpan(this).scope||r.getCurrentScope()).captureEvent(t)}}_convertSpanToTransaction(){if(!m(A.spanToJSON(this)))return;this._name||(o.DEBUG_BUILD&&s.debug.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=h.getCapturedScopesOnSpan(this),n=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(!0!==this._sampled)return;const r=A.getSpanDescendants(this).filter(e=>e!==this&&!function(e){return e instanceof f&&e.isStandaloneSpan()}(e)).map(e=>A.spanToJSON(e)).filter(m),i=this._attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];delete this._attributes[a.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],r.forEach(e=>{delete e.data[a.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]});const l={contexts:{trace:A.spanToTransactionTraceContext(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:u.getDynamicSamplingContextFromSpan(this)},request:n,...i&&{transaction_info:{source:i}}},c=p.timedEventsToMeasurements(this._events);return c&&Object.keys(c).length&&(o.DEBUG_BUILD&&s.debug.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function g(e){return e&&"number"===typeof e||e instanceof Date||Array.isArray(e)}function m(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}t.SentrySpan=f},8e3:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650);function i(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=s(t);return r?`${o} ${r}`:`${o}`}function a(e){let t;if("xhr"in e){const n=e.xhr[o.SENTRY_XHR_DATA_KEY];t=n&&o.getBodyString(n.body)[0]}else{const n=o.getFetchRequestArgBody(e.input);t=o.getBodyString(n)[0]}return t}function s(e){const t=e.match(/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/);if(t)return{operationType:t[1],operationName:t[2]};const n=e.match(/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/);return n?{operationType:n[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function l(e){let t;try{const n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}const A=r.defineIntegration(e=>({name:"GraphQLClient",setup(t){!function(e,t){e.on("beforeOutgoingRequestSpan",(e,n)=>{const o=r.spanToJSON(e).data||{};if(!("http.client"===o[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]))return;const s=o[r.SEMANTIC_ATTRIBUTE_URL_FULL]||o["http.url"],A=o[r.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD]||o["http.method"];if(!r.isString(s)||!r.isString(A))return;const{endpoints:c}=t,u=r.stringMatchesSomePattern(s,c),d=a(n);if(u&&d){const t=l(d);if(t){const n=i(t);e.updateName(`${A} ${s} (${n})`),e.setAttribute("graphql.document",d)}}})}(t,e),function(e,t){e.on("beforeOutgoingRequestBreadcrumb",(e,n)=>{const{category:o,type:s,data:A}=e;if("http"===s&&("fetch"===o||"xhr"===o)){const e=A?.url,{endpoints:o}=t,s=r.stringMatchesSomePattern(e,o),c=a(n);if(s&&A&&c){const e=l(c);if(!A.graphql&&e){const t=i(e);A["graphql.document"]=e.query,A["graphql.operation"]=t}}}})}(t,e)}}));t.getGraphQLRequestPayload=l,t.getRequestPayloadXhrOrFetch=a,t.graphqlClientIntegration=A,t.parseGraphQLQuery=s},8009:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(1432),i=n(4810),a=n(5613),s=n(9262),l=n(6624);let A=!1;t.registerSpanErrorInstrumentation=function(){function e(){const e=s.getActiveSpan(),t=e&&s.getRootSpan(e);if(t){const e="internal_error";r.DEBUG_BUILD&&a.debug.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:l.SPAN_STATUS_ERROR,message:e})}}A||(e.tag="sentry_tracingErrorCallback",A=!0,o.addGlobalErrorInstrumentationHandler(e),i.addGlobalUnhandledRejectionInstrumentationHandler(e))}},8011:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399),o=n(8395);let i=-1;const a=e=>{"hidden"===r.WINDOW.document.visibilityState&&i>-1&&(i="visibilitychange"===e.type?e.timeStamp:0,s())},s=()=>{removeEventListener("visibilitychange",a,!0),removeEventListener("prerenderingchange",a,!0)};t.getVisibilityWatcher=()=>{if(r.WINDOW.document&&i<0){const e=o.getActivationStart(),t=r.WINDOW.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;i=t??("hidden"!==r.WINDOW.document?.visibilityState||r.WINDOW.document?.prerendering?1/0:0),addEventListener("visibilitychange",a,!0),addEventListener("prerenderingchange",a,!0)}return{get firstHiddenTime(){return i}}}},8149:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5625),o=n(8802),i=n(7379),a=n(780),s=n(9262);t.createEventEnvelope=function(e,t,n,r){const o=i.getSdkMetadataForEnvelopeHeader(n),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n?.sdk);const s=i.createEventEnvelopeHeaders(e,o,r,t);delete e.sdkProcessingMetadata;const l=[{type:a},e];return i.createEnvelope(s,[l])},t.createSessionEnvelope=function(e,t,n,r){const a=i.getSdkMetadataForEnvelopeHeader(n),s={sent_at:(new Date).toISOString(),...a&&{sdk:a},...!!r&&t&&{dsn:o.dsnToString(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return i.createEnvelope(s,[l])},t.createSpanEnvelope=function(e,t){const n=r.getDynamicSamplingContextFromSpan(e[0]),l=t?.getDsn(),A=t?.getOptions().tunnel,c={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!A&&l&&{dsn:o.dsnToString(l)}},{beforeSendSpan:u,ignoreSpans:d}=t?.getOptions()||{},p=d?.length?e.filter(e=>!a.shouldIgnoreSpan(s.spanToJSON(e),d)):e,h=e.length-p.length;h&&t?.recordDroppedEvent("before_send","span",h);const f=u?e=>{const t=s.spanToJSON(e),n=u(t);return n||(s.showSpanDropWarning(),t)}:s.spanToJSON,g=[];for(const r of p){const e=f(r);e&&g.push(i.createSpanEnvelopeItem(e))}return i.createEnvelope(c,g)}},8232:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.GEN_AI_OPERATION_NAME_ATTRIBUTE="gen_ai.operation.name",t.GEN_AI_REQUEST_AVAILABLE_TOOLS_ATTRIBUTE="gen_ai.request.available_tools",t.GEN_AI_REQUEST_FREQUENCY_PENALTY_ATTRIBUTE="gen_ai.request.frequency_penalty",t.GEN_AI_REQUEST_MESSAGES_ATTRIBUTE="gen_ai.request.messages",t.GEN_AI_REQUEST_MODEL_ATTRIBUTE="gen_ai.request.model",t.GEN_AI_REQUEST_PRESENCE_PENALTY_ATTRIBUTE="gen_ai.request.presence_penalty",t.GEN_AI_REQUEST_STREAM_ATTRIBUTE="gen_ai.request.stream",t.GEN_AI_REQUEST_TEMPERATURE_ATTRIBUTE="gen_ai.request.temperature",t.GEN_AI_REQUEST_TOP_P_ATTRIBUTE="gen_ai.request.top_p",t.GEN_AI_RESPONSE_FINISH_REASONS_ATTRIBUTE="gen_ai.response.finish_reasons",t.GEN_AI_RESPONSE_ID_ATTRIBUTE="gen_ai.response.id",t.GEN_AI_RESPONSE_MODEL_ATTRIBUTE="gen_ai.response.model",t.GEN_AI_RESPONSE_STREAMING_ATTRIBUTE="gen_ai.response.streaming",t.GEN_AI_RESPONSE_TEXT_ATTRIBUTE="gen_ai.response.text",t.GEN_AI_RESPONSE_TOOL_CALLS_ATTRIBUTE="gen_ai.response.tool_calls",t.GEN_AI_SYSTEM_ATTRIBUTE="gen_ai.system",t.GEN_AI_USAGE_INPUT_TOKENS_ATTRIBUTE="gen_ai.usage.input_tokens",t.GEN_AI_USAGE_OUTPUT_TOKENS_ATTRIBUTE="gen_ai.usage.output_tokens",t.GEN_AI_USAGE_TOTAL_TOKENS_ATTRIBUTE="gen_ai.usage.total_tokens",t.OPENAI_OPERATIONS={CHAT:"chat",RESPONSES:"responses"},t.OPENAI_RESPONSE_ID_ATTRIBUTE="openai.response.id",t.OPENAI_RESPONSE_MODEL_ATTRIBUTE="openai.response.model",t.OPENAI_RESPONSE_TIMESTAMP_ATTRIBUTE="openai.response.timestamp",t.OPENAI_USAGE_COMPLETION_TOKENS_ATTRIBUTE="openai.usage.completion_tokens",t.OPENAI_USAGE_PROMPT_TOKENS_ATTRIBUTE="openai.usage.prompt_tokens"},8246:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(3971),i=n(5613),a=n(1274),s=o.defineIntegration(()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(l(t,e))return r.DEBUG_BUILD&&i.debug.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}});function l(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!c(e,t))return!1;if(!A(e,t))return!1;return!0}(e,t)||!!function(e,t){const n=u(t),r=u(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!c(e,t))return!1;if(!A(e,t))return!1;return!0}(e,t))}function A(e,t){let n=a.getFramesFromEvent(e),r=a.getFramesFromEvent(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function c(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch{return!1}}function u(e){return e.exception?.values?.[0]}t._shouldDropEvent=l,t.dedupeIntegration=s},8295:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(962),i=n(2561),a=n(1672),s=r.defineIntegration(()=>({name:"BrowserProfiling",setup(e){const t=r.getActiveSpan(),n=t&&r.getRootSpan(t);n&&a.isAutomatedPageLoadSpan(n)&&a.shouldProfileSpan(n)&&i.startProfileForSpan(n),e.on("spanStart",e=>{e===r.getRootSpan(e)&&a.shouldProfileSpan(e)&&i.startProfileForSpan(e)}),e.on("beforeEnvelope",e=>{if(!a.getActiveProfilesCount())return;const t=a.findProfiledTransactionsFromEnvelope(e);if(!t.length)return;const n=[];for(const i of t){const e=i?.contexts,t=e?.profile?.profile_id,s=e?.profile?.start_timestamp;if("string"!==typeof t){o.DEBUG_BUILD&&r.debug.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!t){o.DEBUG_BUILD&&r.debug.log("[Profiling] cannot find profile for a span without a profile context");continue}e?.profile&&delete e.profile;const l=a.takeProfileFromGlobalCache(t);if(!l){o.DEBUG_BUILD&&r.debug.log(`[Profiling] Could not retrieve profile for span: ${t}`);continue}const A=a.createProfilingEvent(t,s,l,i);A&&n.push(A)}a.addProfilesToEnvelope(e,n)})}}));t.browserProfilingIntegration=s},8395:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9221);t.getActivationStart=()=>{const e=r.getNavigationEntry();return e?.activationStart??0}},8397:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937);t.hasSpansEnabled=function(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=e||r.getClient()?.getOptions();return!!t&&(null!=t.tracesSampleRate||!!t.tracesSampler)}},8425:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8009),o=n(5649),i=n(60),a=n(7989),s=n(4867),l=n(6624),A=n(2729),c=n(5625),u=n(2040),d=n(9687),p=n(2109),h=n(3348),f=n(8149),g=n(5866),m=n(4937),y=n(3677),v=n(4913),b=n(6893),w=n(2809),S=n(7745),_=n(9160),B=n(9153),C=n(7090),E=n(3371),x=n(9397),I=n(3435),T=n(4427),k=n(2529),U=n(3971),F=n(304),N=n(2394),P=n(6190),R=n(8397),L=n(9162),O=n(1989),D=n(452),M=n(7668),Q=n(9262),j=n(7948),H=n(9754),z=n(7842),V=n(4038),K=n(2051),W=n(90),G=n(3344),$=n(4283),q=n(9181),Y=n(8670),J=n(4131),X=n(9976),Z=n(3816),ee=n(2886),te=n(8246),ne=n(6565),re=n(3203),oe=n(539),ie=n(8715),ae=n(4496),se=n(2196),le=n(6294),Ae=n(6831),ce=n(1273),ue=n(3202),de=n(2790),pe=n(5578),he=n(6858),fe=n(2547),ge=n(5783),me=n(2154),ye=n(9867),ve=n(5338),be=n(8926),we=n(2442),Se=n(4575),_e=n(8802),Be=n(1617),Ce=n(7752),Ee=n(1094),xe=n(4907),Ie=n(1432),Te=n(4810),ke=n(162),Ue=n(4447),Fe=n(1207),Ne=n(5613),Pe=n(7287),Re=n(3307),Le=n(9288),Oe=n(676),De=n(4356),Me=n(436),Qe=n(5260),je=n(1274),He=n(3354),ze=n(7778),Ve=n(3075),Ke=n(7591),We=n(4082),Ge=n(2149),$e=n(5124),qe=n(7379),Ye=n(9498),Je=n(3186),Xe=n(1893),Ze=n(3866),et=n(844),tt=n(9444),nt=n(5590),rt=n(6586),ot=n(7341),it=n(1220),at=n(9747),st=n(3647),lt=n(8606);t.registerSpanErrorInstrumentation=r.registerSpanErrorInstrumentation,t.getCapturedScopesOnSpan=o.getCapturedScopesOnSpan,t.setCapturedScopesOnSpan=o.setCapturedScopesOnSpan,t.TRACING_DEFAULTS=i.TRACING_DEFAULTS,t.startIdleSpan=i.startIdleSpan,t.SentrySpan=a.SentrySpan,t.SentryNonRecordingSpan=s.SentryNonRecordingSpan,t.SPAN_STATUS_ERROR=l.SPAN_STATUS_ERROR,t.SPAN_STATUS_OK=l.SPAN_STATUS_OK,t.SPAN_STATUS_UNSET=l.SPAN_STATUS_UNSET,t.getSpanStatusFromHttpCode=l.getSpanStatusFromHttpCode,t.setHttpStatus=l.setHttpStatus,t.continueTrace=A.continueTrace,t.startInactiveSpan=A.startInactiveSpan,t.startNewTrace=A.startNewTrace,t.startSpan=A.startSpan,t.startSpanManual=A.startSpanManual,t.suppressTracing=A.suppressTracing,t.withActiveSpan=A.withActiveSpan,t.getDynamicSamplingContextFromClient=c.getDynamicSamplingContextFromClient,t.getDynamicSamplingContextFromScope=c.getDynamicSamplingContextFromScope,t.getDynamicSamplingContextFromSpan=c.getDynamicSamplingContextFromSpan,t.spanToBaggageHeader=c.spanToBaggageHeader,t.setMeasurement=u.setMeasurement,t.timedEventsToMeasurements=u.timedEventsToMeasurements,t.sampleSpan=d.sampleSpan,t.logSpanEnd=p.logSpanEnd,t.logSpanStart=p.logSpanStart,t.SEMANTIC_ATTRIBUTE_CACHE_HIT=h.SEMANTIC_ATTRIBUTE_CACHE_HIT,t.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=h.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,t.SEMANTIC_ATTRIBUTE_CACHE_KEY=h.SEMANTIC_ATTRIBUTE_CACHE_KEY,t.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=h.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,t.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD=h.SEMANTIC_ATTRIBUTE_HTTP_REQUEST_METHOD,t.SEMANTIC_ATTRIBUTE_PROFILE_ID=h.SEMANTIC_ATTRIBUTE_PROFILE_ID,t.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME=h.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME,t.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=h.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=h.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,t.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=h.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,t.SEMANTIC_ATTRIBUTE_SENTRY_OP=h.SEMANTIC_ATTRIBUTE_SENTRY_OP,t.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=h.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,t.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE=h.SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=h.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,t.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=h.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,t.SEMANTIC_ATTRIBUTE_URL_FULL=h.SEMANTIC_ATTRIBUTE_URL_FULL,t.SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE=h.SEMANTIC_LINK_ATTRIBUTE_LINK_TYPE,t.createEventEnvelope=f.createEventEnvelope,t.createSessionEnvelope=f.createSessionEnvelope,t.createSpanEnvelope=f.createSpanEnvelope,t.addEventProcessor=g.addEventProcessor,t.captureCheckIn=g.captureCheckIn,t.captureEvent=g.captureEvent,t.captureException=g.captureException,t.captureMessage=g.captureMessage,t.captureSession=g.captureSession,t.close=g.close,t.endSession=g.endSession,t.flush=g.flush,t.isEnabled=g.isEnabled,t.isInitialized=g.isInitialized,t.lastEventId=g.lastEventId,t.setContext=g.setContext,t.setExtra=g.setExtra,t.setExtras=g.setExtras,t.setTag=g.setTag,t.setTags=g.setTags,t.setUser=g.setUser,t.startSession=g.startSession,t.withMonitor=g.withMonitor,t.getClient=m.getClient,t.getCurrentScope=m.getCurrentScope,t.getGlobalScope=m.getGlobalScope,t.getIsolationScope=m.getIsolationScope,t.getTraceContextFromScope=m.getTraceContextFromScope,t.withIsolationScope=m.withIsolationScope,t.withScope=m.withScope,t.getDefaultCurrentScope=y.getDefaultCurrentScope,t.getDefaultIsolationScope=y.getDefaultIsolationScope,t.setAsyncContextStrategy=v.setAsyncContextStrategy,t.getGlobalSingleton=b.getGlobalSingleton,t.getMainCarrier=b.getMainCarrier,t.closeSession=w.closeSession,t.makeSession=w.makeSession,t.updateSession=w.updateSession,t.Scope=S.Scope,t.notifyEventProcessors=_.notifyEventProcessors,t.getEnvelopeEndpointWithUrlEncodedAuth=B.getEnvelopeEndpointWithUrlEncodedAuth,t.getReportDialogEndpoint=B.getReportDialogEndpoint,t.Client=C.Client,t.ServerRuntimeClient=E.ServerRuntimeClient,t.initAndBind=x.initAndBind,t.setCurrentClient=x.setCurrentClient,t.createTransport=I.createTransport,t.makeOfflineTransport=T.makeOfflineTransport,t.makeMultiplexedTransport=k.makeMultiplexedTransport,t.addIntegration=U.addIntegration,t.defineIntegration=U.defineIntegration,t.getIntegrationsToSetup=U.getIntegrationsToSetup,t.applyScopeDataToEvent=F.applyScopeDataToEvent,t.mergeScopeData=F.mergeScopeData,t.prepareEvent=N.prepareEvent,t.createCheckInEnvelope=P.createCheckInEnvelope,t.hasSpansEnabled=R.hasSpansEnabled,t.isSentryRequestUrl=L.isSentryRequestUrl,t.handleCallbackErrors=O.handleCallbackErrors,t.fmt=D.fmt,t.parameterize=D.parameterize,t.addAutoIpAddressToSession=M.addAutoIpAddressToSession,t.addAutoIpAddressToUser=M.addAutoIpAddressToUser,t.addChildSpanToSpan=Q.addChildSpanToSpan,t.convertSpanLinksForEnvelope=Q.convertSpanLinksForEnvelope,t.getActiveSpan=Q.getActiveSpan,t.getRootSpan=Q.getRootSpan,t.getSpanDescendants=Q.getSpanDescendants,t.getStatusMessage=Q.getStatusMessage,t.spanIsSampled=Q.spanIsSampled,t.spanTimeInputToSeconds=Q.spanTimeInputToSeconds,t.spanToJSON=Q.spanToJSON,t.spanToTraceContext=Q.spanToTraceContext,t.spanToTraceHeader=Q.spanToTraceHeader,t.updateSpanName=Q.updateSpanName,t.parseSampleRate=j.parseSampleRate,t.applySdkMetadata=H.applySdkMetadata,t.getTraceData=z.getTraceData,t.getTraceMetaTags=V.getTraceMetaTags,t.debounce=K.debounce,t.extractQueryParamsFromUrl=W.extractQueryParamsFromUrl,t.headersToDict=W.headersToDict,t.httpRequestToRequestData=W.httpRequestToRequestData,t.winterCGHeadersToDict=W.winterCGHeadersToDict,t.winterCGRequestToRequestData=W.winterCGRequestToRequestData,t.DEFAULT_ENVIRONMENT=G.DEFAULT_ENVIRONMENT,t.addBreadcrumb=$.addBreadcrumb,t.functionToStringIntegration=q.functionToStringIntegration,t.eventFiltersIntegration=Y.eventFiltersIntegration,t.inboundFiltersIntegration=Y.inboundFiltersIntegration,t.linkedErrorsIntegration=J.linkedErrorsIntegration,t.moduleMetadataIntegration=X.moduleMetadataIntegration,t.requestDataIntegration=Z.requestDataIntegration,t.captureConsoleIntegration=ee.captureConsoleIntegration,t.dedupeIntegration=te.dedupeIntegration,t.extraErrorDataIntegration=ne.extraErrorDataIntegration,t.rewriteFramesIntegration=re.rewriteFramesIntegration,t.instrumentSupabaseClient=oe.instrumentSupabaseClient,t.supabaseIntegration=oe.supabaseIntegration,t.zodErrorsIntegration=ie.zodErrorsIntegration,t.thirdPartyErrorFilterIntegration=ae.thirdPartyErrorFilterIntegration,t.consoleIntegration=se.consoleIntegration,t.featureFlagsIntegration=le.featureFlagsIntegration,t.profiler=Ae.profiler,t.instrumentFetchRequest=ce.instrumentFetchRequest,t.trpcMiddleware=ue.trpcMiddleware,t.wrapMcpServerWithSentry=de.wrapMcpServerWithSentry,t.captureFeedback=pe.captureFeedback,t._INTERNAL_captureLog=he._INTERNAL_captureLog,t._INTERNAL_captureSerializedLog=he._INTERNAL_captureSerializedLog,t._INTERNAL_flushLogsBuffer=he._INTERNAL_flushLogsBuffer,t.consoleLoggingIntegration=fe.consoleLoggingIntegration,t.addVercelAiProcessors=ge.addVercelAiProcessors,t.instrumentOpenAiClient=me.instrumentOpenAiClient,t.OPENAI_INTEGRATION_NAME=ye.OPENAI_INTEGRATION_NAME,t._INTERNAL_FLAG_BUFFER_SIZE=ve._INTERNAL_FLAG_BUFFER_SIZE,t._INTERNAL_MAX_FLAGS_PER_SPAN=ve._INTERNAL_MAX_FLAGS_PER_SPAN,t._INTERNAL_addFeatureFlagToActiveSpan=ve._INTERNAL_addFeatureFlagToActiveSpan,t._INTERNAL_copyFlagsFromScopeToEvent=ve._INTERNAL_copyFlagsFromScopeToEvent,t._INTERNAL_insertFlagToScope=ve._INTERNAL_insertFlagToScope,t.applyAggregateErrorsToEvent=be.applyAggregateErrorsToEvent,t.getBreadcrumbLogLevelFromHttpStatusCode=we.getBreadcrumbLogLevelFromHttpStatusCode,t.getComponentName=Se.getComponentName,t.getLocationHref=Se.getLocationHref,t.htmlTreeAsString=Se.htmlTreeAsString,t.dsnFromString=_e.dsnFromString,t.dsnToString=_e.dsnToString,t.makeDsn=_e.makeDsn,t.SentryError=Be.SentryError,t.GLOBAL_OBJ=Ce.GLOBAL_OBJ,t.addConsoleInstrumentationHandler=Ee.addConsoleInstrumentationHandler,t.addFetchEndInstrumentationHandler=xe.addFetchEndInstrumentationHandler,t.addFetchInstrumentationHandler=xe.addFetchInstrumentationHandler,t.addGlobalErrorInstrumentationHandler=Ie.addGlobalErrorInstrumentationHandler,t.addGlobalUnhandledRejectionInstrumentationHandler=Te.addGlobalUnhandledRejectionInstrumentationHandler,t.addHandler=ke.addHandler,t.maybeInstrument=ke.maybeInstrument,t.resetInstrumentationHandlers=ke.resetInstrumentationHandlers,t.triggerHandlers=ke.triggerHandlers,t.isDOMError=Ue.isDOMError,t.isDOMException=Ue.isDOMException,t.isElement=Ue.isElement,t.isError=Ue.isError,t.isErrorEvent=Ue.isErrorEvent,t.isEvent=Ue.isEvent,t.isInstanceOf=Ue.isInstanceOf,t.isParameterizedString=Ue.isParameterizedString,t.isPlainObject=Ue.isPlainObject,t.isPrimitive=Ue.isPrimitive,t.isRegExp=Ue.isRegExp,t.isString=Ue.isString,t.isSyntheticEvent=Ue.isSyntheticEvent,t.isThenable=Ue.isThenable,t.isVueViewModel=Ue.isVueViewModel,t.isBrowser=Fe.isBrowser,t.CONSOLE_LEVELS=Ne.CONSOLE_LEVELS,t.consoleSandbox=Ne.consoleSandbox,t.debug=Ne.debug,t.originalConsoleMethods=Ne.originalConsoleMethods,t.addContextToFrame=Pe.addContextToFrame,t.addExceptionMechanism=Pe.addExceptionMechanism,t.addExceptionTypeValue=Pe.addExceptionTypeValue,t.checkOrSetAlreadyCaught=Pe.checkOrSetAlreadyCaught,t.getEventDescription=Pe.getEventDescription,t.parseSemver=Pe.parseSemver,t.uuid4=Pe.uuid4,t.isNodeEnv=Re.isNodeEnv,t.loadModule=Re.loadModule,t.normalize=Le.normalize,t.normalizeToSize=Le.normalizeToSize,t.normalizeUrlToBase=Le.normalizeUrlToBase,t.addNonEnumerableProperty=Oe.addNonEnumerableProperty,t.convertToPlainObject=Oe.convertToPlainObject,t.dropUndefinedKeys=Oe.dropUndefinedKeys,t.extractExceptionKeysForMessage=Oe.extractExceptionKeysForMessage,t.fill=Oe.fill,t.getOriginalFunction=Oe.getOriginalFunction,t.markFunctionWrapped=Oe.markFunctionWrapped,t.objectify=Oe.objectify,t.basename=De.basename,t.dirname=De.dirname,t.isAbsolute=De.isAbsolute,t.join=De.join,t.normalizePath=De.normalizePath,t.relative=De.relative,t.resolve=De.resolve,t.SENTRY_BUFFER_FULL_ERROR=Me.SENTRY_BUFFER_FULL_ERROR,t.makePromiseBuffer=Me.makePromiseBuffer,t.severityLevelFromString=Qe.severityLevelFromString,t.UNKNOWN_FUNCTION=je.UNKNOWN_FUNCTION,t.createStackParser=je.createStackParser,t.getFramesFromEvent=je.getFramesFromEvent,t.getFunctionName=je.getFunctionName,t.stackParserFromStackParserOptions=je.stackParserFromStackParserOptions,t.stripSentryFramesAndReverse=je.stripSentryFramesAndReverse,t.filenameIsInApp=He.filenameIsInApp,t.node=He.node,t.nodeStackLineParser=He.nodeStackLineParser,t.isMatchingPattern=ze.isMatchingPattern,t.safeJoin=ze.safeJoin,t.snipLine=ze.snipLine,t.stringMatchesSomePattern=ze.stringMatchesSomePattern,t.truncate=ze.truncate,t.isNativeFunction=Ve.isNativeFunction,t.supportsDOMError=Ve.supportsDOMError,t.supportsDOMException=Ve.supportsDOMException,t.supportsErrorEvent=Ve.supportsErrorEvent,t.supportsFetch=Ve.supportsFetch,t.supportsHistory=Ve.supportsHistory,t.supportsNativeFetch=Ve.supportsNativeFetch,t.supportsReferrerPolicy=Ve.supportsReferrerPolicy,t.supportsReportingObserver=Ve.supportsReportingObserver,t.SyncPromise=Ke.SyncPromise,t.rejectedSyncPromise=Ke.rejectedSyncPromise,t.resolvedSyncPromise=Ke.resolvedSyncPromise,t.browserPerformanceTimeOrigin=We.browserPerformanceTimeOrigin,t.dateTimestampInSeconds=We.dateTimestampInSeconds,t.timestampInSeconds=We.timestampInSeconds,t.TRACEPARENT_REGEXP=Ge.TRACEPARENT_REGEXP,t.extractTraceparentData=Ge.extractTraceparentData,t.generateSentryTraceHeader=Ge.generateSentryTraceHeader,t.propagationContextFromHeaders=Ge.propagationContextFromHeaders,t.shouldContinueTrace=Ge.shouldContinueTrace,t.getSDKSource=$e.getSDKSource,t.isBrowserBundle=$e.isBrowserBundle,t.addItemToEnvelope=qe.addItemToEnvelope,t.createAttachmentEnvelopeItem=qe.createAttachmentEnvelopeItem,t.createEnvelope=qe.createEnvelope,t.createEventEnvelopeHeaders=qe.createEventEnvelopeHeaders,t.createSpanEnvelopeItem=qe.createSpanEnvelopeItem,t.envelopeContainsItemType=qe.envelopeContainsItemType,t.envelopeItemTypeToDataCategory=qe.envelopeItemTypeToDataCategory,t.forEachEnvelopeItem=qe.forEachEnvelopeItem,t.getSdkMetadataForEnvelopeHeader=qe.getSdkMetadataForEnvelopeHeader,t.parseEnvelope=qe.parseEnvelope,t.serializeEnvelope=qe.serializeEnvelope,t.createClientReportEnvelope=Ye.createClientReportEnvelope,t.DEFAULT_RETRY_AFTER=Je.DEFAULT_RETRY_AFTER,t.disabledUntil=Je.disabledUntil,t.isRateLimited=Je.isRateLimited,t.parseRetryAfterHeader=Je.parseRetryAfterHeader,t.updateRateLimits=Je.updateRateLimits,t.MAX_BAGGAGE_STRING_LENGTH=Xe.MAX_BAGGAGE_STRING_LENGTH,t.SENTRY_BAGGAGE_KEY_PREFIX=Xe.SENTRY_BAGGAGE_KEY_PREFIX,t.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=Xe.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,t.baggageHeaderToDynamicSamplingContext=Xe.baggageHeaderToDynamicSamplingContext,t.dynamicSamplingContextToSentryBaggageHeader=Xe.dynamicSamplingContextToSentryBaggageHeader,t.objectToBaggageHeader=Xe.objectToBaggageHeader,t.parseBaggageHeader=Xe.parseBaggageHeader,t.getHttpSpanDetailsFromUrlObject=Ze.getHttpSpanDetailsFromUrlObject,t.getSanitizedUrlString=Ze.getSanitizedUrlString,t.getSanitizedUrlStringFromUrlObject=Ze.getSanitizedUrlStringFromUrlObject,t.isURLObjectRelative=Ze.isURLObjectRelative,t.parseStringToURLObject=Ze.parseStringToURLObject,t.parseUrl=Ze.parseUrl,t.stripUrlQueryAndFragment=Ze.stripUrlQueryAndFragment,t.eventFromMessage=et.eventFromMessage,t.eventFromUnknownInput=et.eventFromUnknownInput,t.exceptionFromError=et.exceptionFromError,t.parseStackFrames=et.parseStackFrames,t.callFrameToStackFrame=tt.callFrameToStackFrame,t.watchdogTimer=tt.watchdogTimer,t.LRUMap=nt.LRUMap,t.generateSpanId=rt.generateSpanId,t.generateTraceId=rt.generateTraceId,t.vercelWaitUntil=ot.vercelWaitUntil,t.flushIfServerless=it.flushIfServerless,t.SDK_VERSION=at.SDK_VERSION,t.getDebugImagesForResources=st.getDebugImagesForResources,t.getFilenameToDebugIdMap=st.getFilenameToDebugIdMap,t.escapeStringForRegex=lt.escapeStringForRegex},8606:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.escapeStringForRegex=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},8670:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(3971),i=n(5613),a=n(8734),s=n(7287),l=n(7778),A=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],c=o.defineIntegration(function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup(n){const r=n.getOptions();e=d(t,r)},processEvent(n,o,A){if(!e){const n=A.getOptions();e=d(t,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;const n=e.transaction;return!!n&&l.stringMatchesSomePattern(n,t)}(e,t.ignoreTransactions))return r.DEBUG_BUILD&&i.debug.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${s.getEventDescription(e)}`),!0}else{if(function(e,t){if(!t?.length)return!1;return a.getPossibleEventMessages(e).some(e=>l.stringMatchesSomePattern(e,t))}(e,t.ignoreErrors))return r.DEBUG_BUILD&&i.debug.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${s.getEventDescription(e)}`),!0;if(function(e){if(!e.exception?.values?.length)return!1;return!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)}(e))return r.DEBUG_BUILD&&i.debug.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${s.getEventDescription(e)}`),!0;if(function(e,t){if(!t?.length)return!1;const n=p(e);return!!n&&l.stringMatchesSomePattern(n,t)}(e,t.denyUrls))return r.DEBUG_BUILD&&i.debug.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${s.getEventDescription(e)}.\nUrl: ${p(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;const n=p(e);return!n||l.stringMatchesSomePattern(n,t)}(e,t.allowUrls))return r.DEBUG_BUILD&&i.debug.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${s.getEventDescription(e)}.\nUrl: ${p(e)}`),!0}return!1}(n,e)?null:n}}}),u=o.defineIntegration(function(){return{...c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),name:"InboundFilters"}});function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:A],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function p(e){try{const t=[...e.exception?.values??[]].reverse().find(e=>void 0===e.mechanism?.parent_id&&e.stacktrace?.frames?.length),n=t?.stacktrace?.frames;return n?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return r.DEBUG_BUILD&&i.debug.error(`Cannot extract url for event ${s.getEventDescription(e)}`),null}}t.eventFiltersIntegration=c,t.inboundFiltersIntegration=u},8715:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3971),o=n(4447),i=n(7778);function a(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function s(e){return e.map(e=>"number"===typeof e?"<array>":e).join(".")}function l(e){const t=new Set;for(const r of e.issues){const e=s(r.path);e.length>0&&t.add(e)}const n=Array.from(t);if(0===n.length){let t="variable";if(e.issues.length>0){const n=e.issues[0];void 0!==n&&"expected"in n&&"string"===typeof n.expected&&(t=n.expected)}return`Failed to validate ${t}`}return`Failed to validate keys: ${i.truncate(n.join(", "),100)}`}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!n.exception?.values||!r.originalException||(i=r.originalException,!o.isError(i)||"ZodError"!==i.name||!Array.isArray(i.issues))||0===r.originalException.issues.length)return n;var i;try{const o=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(a);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:o})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:l(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":o.slice(0,e)}}}catch(s){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:s instanceof Error?`${s.name}: ${s.message}\n${s.stack}`:"unknown"}}}}}const c=r.defineIntegration(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit??10;return{name:"ZodErrors",processEvent:(n,r)=>A(t,e.saveZodIssuesAsAttachment,n,r)}});t.applyZodErrorsToEvent=A,t.flattenIssue=a,t.flattenIssuePath=s,t.formatIssueMessage=l,t.zodErrorsIntegration=c},8734:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getPossibleEventMessages=function(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}},8751:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650);t.makeFetchTransport=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.getNativeImplementation("fetch"),n=0,i=0;return r.createTransport(e,function(a){const s=a.body.length;n+=s,i++;const l={body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&i<15,...e.fetchOptions};if(!t)return o.clearCachedImplementation("fetch"),r.rejectedSyncPromise("No fetch implementation available");try{return t(e.url,l).then(e=>(n-=s,i--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(A){return o.clearCachedImplementation("fetch"),n-=s,i--,r.rejectedSyncPromise(A)}})}},8772:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650),i=n(962),a=n(1817),s=1024,l=r.defineIntegration(function(){const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return{name:"Breadcrumbs",setup(t){e.console&&r.addConsoleInstrumentationHandler(function(e){return function(t){if(r.getClient()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:r.severityLevelFromString(t.level),message:r.safeJoin(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${r.safeJoin(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}r.addBreadcrumb(n,{input:t.args,level:t.level})}}(t)),e.dom&&o.addClickKeypressInstrumentationHandler(function(e,t){return function(n){if(r.getClient()!==e)return;let o,a,l="object"===typeof t?t.serializeAttribute:void 0,A="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;A&&A>s&&(i.DEBUG_BUILD&&r.debug.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${A} was configured. Sentry will use 1024 instead.`),A=s),"string"===typeof l&&(l=[l]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;o=r.htmlTreeAsString(t,{keyAttrs:l,maxStringLength:A}),a=r.getComponentName(t)}catch{o="<unknown>"}if(0===o.length)return;const c={category:`ui.${n.name}`,message:o};a&&(c.data={"ui.component_name":a}),r.addBreadcrumb(c,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&o.addXhrInstrumentationHandler(function(e){return function(t){if(r.getClient()!==e)return;const{startTimestamp:n,endTimestamp:i}=t,a=t.xhr[o.SENTRY_XHR_DATA_KEY];if(!n||!i||!a)return;const{method:s,url:l,status_code:A,body:c}=a,u={method:s,url:l,status_code:A},d={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:i},p={category:"xhr",data:u,type:"http",level:r.getBreadcrumbLogLevelFromHttpStatusCode(A)};e.emit("beforeOutgoingRequestBreadcrumb",p,d),r.addBreadcrumb(p,d)}}(t)),e.fetch&&r.addFetchInstrumentationHandler(function(e){return function(t){if(r.getClient()!==e)return;const{startTimestamp:n,endTimestamp:o}=t;if(o&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const i=t.fetchData,a={data:t.error,input:t.args,startTimestamp:n,endTimestamp:o},s={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,a),r.addBreadcrumb(s,a)}else{const i=t.response,a={...t.fetchData,status_code:i?.status};t.fetchData.request_body_size,t.fetchData.response_body_size;const s={input:t.args,response:i,startTimestamp:n,endTimestamp:o},l={category:"fetch",data:a,type:"http",level:r.getBreadcrumbLogLevelFromHttpStatusCode(a.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,s),r.addBreadcrumb(l,s)}}}(t)),e.history&&o.addHistoryInstrumentationHandler(function(e){return function(t){if(r.getClient()!==e)return;let n=t.from,o=t.to;const i=r.parseUrl(a.WINDOW.location.href);let s=n?r.parseUrl(n):void 0;const l=r.parseUrl(o);s?.path||(s=i),i.protocol===l.protocol&&i.host===l.host&&(o=l.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),r.addBreadcrumb({category:"navigation",data:{from:n,to:o}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(e){return function(t){r.getClient()===e&&r.addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:r.getEventDescription(t)},{event:t})}}(t))}}});t.breadcrumbsIntegration=l},8802:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=/^o(\d+)\./,a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function s(e){const t=a.exec(e);if(!t)return void o.consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});const[n,r,i="",s="",A="",c=""]=t.slice(1);let u="",d=c;const p=d.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),d=p.pop()),d){const e=d.match(/^\d+/);e&&(d=e[0])}return l({host:s,pass:i,path:u,projectId:d,port:A,protocol:n,publicKey:r})}function l(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function A(e){const t=e.match(i);return t?.[1]}t.dsnFromString=s,t.dsnToString=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:r,pass:o,port:i,projectId:a,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`},t.extractOrgIdFromClient=function(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=A(n)),r},t.extractOrgIdFromDsnHost=A,t.makeDsn=function(e){const t="string"===typeof e?s(e):l(e);if(t&&function(e){if(!r.DEBUG_BUILD)return!0;const{port:t,projectId:n,protocol:i}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(o.debug.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(i)?!t||!isNaN(parseInt(t,10))||(o.debug.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(o.debug.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(o.debug.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8926:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447);function o(e,t,n,s,l,A,c,u){if(A.length>=n+1)return A;let d=[...A];if(r.isInstanceOf(s[l],Error)){i(c,u);const r=e(t,s[l]),A=d.length;a(r,l,A,u),d=o(e,t,n,s[l],l,[r,...d],r,A)}return Array.isArray(s.errors)&&s.errors.forEach((s,A)=>{if(r.isInstanceOf(s,Error)){i(c,u);const r=e(t,s),p=d.length;a(r,`errors[${A}]`,p,u),d=o(e,t,n,s,l,[r,...d],r,p)}}),d}function i(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function a(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}t.applyAggregateErrorsToEvent=function(e,t,n,i,a,s){if(!a.exception?.values||!s||!r.isInstanceOf(s.originalException,Error))return;const l=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;l&&(a.exception.values=o(e,t,i,s.originalException,n,a.exception.values,l,0))}},9006:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9987),i=n(1821);const a=e=>{let{entries:t}=e;const n=r.getActiveSpan(),o=n?r.getRootSpan(n):void 0,a=o?r.spanToJSON(o).description:r.getCurrentScope().getScopeData().transactionName;t.forEach(e=>{const t=e;if(!t.identifier)return;const n=t.name,o=t.renderTime,s=t.loadTime,[l,A]=s?[i.msToSec(s),"load-time"]:o?[i.msToSec(o),"render-time"]:[r.timestampInSeconds(),"entry-emission"],c="image-paint"===n?i.msToSec(Math.max(0,(o??0)-(s??0))):0,u={[r.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.elementtiming",[r.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.elementtiming",[r.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"component","sentry.span_start_time_source":A,"sentry.transaction_name":a,"element.id":t.id,"element.type":t.element?.tagName?.toLowerCase()||"unknown","element.size":t.naturalWidth&&t.naturalHeight?`${t.naturalWidth}x${t.naturalHeight}`:void 0,"element.render_time":o,"element.load_time":s,"element.url":t.url||void 0,"element.identifier":t.identifier,"element.paint_type":n};r.startSpan({name:`element[${t.identifier}]`,attributes:u,startTime:l,onlyIfParent:!0},e=>{e.end(l+c)})})};t._onElementTiming=a,t.startTrackingElementTiming=function(){return i.getBrowserPerformanceAPI()&&r.browserPerformanceTimeOrigin()?o.addPerformanceInstrumentationHandler("element",a):()=>{}}},9101:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=new WeakMap;t.cleanupSessionDataForTransport=function(e){n.delete(e)},t.getClientInfoForTransport=function(e){return n.get(e)?.clientInfo},t.getProtocolVersionForTransport=function(e){return n.get(e)?.protocolVersion},t.getSessionDataForTransport=function(e){return n.get(e)},t.storeSessionDataForTransport=function(e,t){e.sessionId&&n.set(e,t)},t.updateSessionDataForTransport=function(e,t){if(e.sessionId){const r=n.get(e)||{};n.set(e,{...r,...t})}}},9136:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(9650);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((r.browserPerformanceTimeOrigin()||performance.timeOrigin)+e)/1e3}t.resourceTimingToSpanAttributes=function(e){const t=[];if(void 0!=e.nextHopProtocol){const{name:n,version:r}=o.extractNetworkProtocol(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return r.browserPerformanceTimeOrigin()?[...t,["http.request.redirect_start",i(e.redirectStart)],["http.request.fetch_start",i(e.fetchStart)],["http.request.domain_lookup_start",i(e.domainLookupStart)],["http.request.domain_lookup_end",i(e.domainLookupEnd)],["http.request.connect_start",i(e.connectStart)],["http.request.secure_connection_start",i(e.secureConnectionStart)],["http.request.connection_end",i(e.connectEnd)],["http.request.request_start",i(e.requestStart)],["http.request.response_start",i(e.responseStart)],["http.request.response_end",i(e.responseEnd)]]:t}},9153:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8802);function o(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}t.getEnvelopeEndpointWithUrlEncodedAuth=function(e,t,n){return t||`${function(e){return`${o(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`},t.getReportDialogEndpoint=function(e,t){const n=r.makeDsn(e);if(!n)return"";const i=`${o(n)}embed/error-page/`;let a=`dsn=${r.dsnToString(n)}`;for(const r in t)if("dsn"!==r&&"onClose"!==r)if("user"===r){const e=t.user;if(!e)continue;e.name&&(a+=`&name=${encodeURIComponent(e.name)}`),e.email&&(a+=`&email=${encodeURIComponent(e.email)}`)}else a+=`&${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`;return`${i}?${a}`}},9160:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(4447),a=n(7591);t.notifyEventProcessors=function e(t,n,s){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new a.SyncPromise((a,A)=>{const c=t[l];if(null===n||"function"!==typeof c)a(n);else{const u=c({...n},s);r.DEBUG_BUILD&&c.id&&null===u&&o.debug.log(`Event processor "${c.id}" dropped event`),i.isThenable(u)?u.then(n=>e(t,n,s,l+1).then(a)).then(null,A):e(t,u,s,l+1).then(a).then(null,A)}})}},9162:(e,t)=>{function n(e){return"/"===e[e.length-1]?e.slice(0,-1):e}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSentryRequestUrl=function(e,t){const r=t?.getDsn(),o=t?.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return n(e)===n(t)}(e,o)}},9181:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3971),i=n(676);let a;const s=new WeakMap,l=o.defineIntegration(()=>({name:"FunctionToString",setupOnce(){a=Function.prototype.toString;try{Function.prototype.toString=function(){const e=i.getOriginalFunction(this),t=s.has(r.getClient())&&void 0!==e?e:this;for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a.apply(t,o)}}catch{}},setup(e){s.set(e,!0)}}));t.functionToStringIntegration=l},9221:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6399);t.getNavigationEntry=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=r.WINDOW.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t}},9232:(e,t,n)=>{"use strict";n.d(t,{MF:()=>ce,j6:()=>ie,xZ:()=>ae,om:()=>oe,Sx:()=>de,Wp:()=>ue,KO:()=>pe});var r=n(9606),o=n(2965),i=n(1776);let a,s;const l=new WeakMap,A=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return A.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),g(l.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(m(this),t,...r);return c.set(i,t.sort?t.sort():[t]),g(i)}}function f(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(A.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});A.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(g(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&l.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const m=e=>d.get(e);const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],b=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!y.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),o&&t.done]))[0]};return b.set(t,i),i}p=(e=>({...e,get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(p);class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const _="@firebase/app",B="0.14.0",C=new o.Vy("@firebase/app"),E="@firebase/app-compat",x="@firebase/analytics-compat",I="@firebase/analytics",T="@firebase/app-check-compat",k="@firebase/app-check",U="@firebase/auth",F="@firebase/auth-compat",N="@firebase/database",P="@firebase/data-connect",R="@firebase/database-compat",L="@firebase/functions",O="@firebase/functions-compat",D="@firebase/installations",M="@firebase/installations-compat",Q="@firebase/messaging",j="@firebase/messaging-compat",H="@firebase/performance",z="@firebase/performance-compat",V="@firebase/remote-config",K="@firebase/remote-config-compat",W="@firebase/storage",G="@firebase/storage-compat",$="@firebase/firestore",q="@firebase/ai",Y="@firebase/firestore-compat",J="firebase",X="[DEFAULT]",Z={[_]:"fire-core",[E]:"fire-core-compat",[I]:"fire-analytics",[x]:"fire-analytics-compat",[k]:"fire-app-check",[T]:"fire-app-check-compat",[U]:"fire-auth",[F]:"fire-auth-compat",[N]:"fire-rtdb",[P]:"fire-data-connect",[R]:"fire-rtdb-compat",[L]:"fire-fn",[O]:"fire-fn-compat",[D]:"fire-iid",[M]:"fire-iid-compat",[Q]:"fire-fcm",[j]:"fire-fcm-compat",[H]:"fire-perf",[z]:"fire-perf-compat",[V]:"fire-rc",[K]:"fire-rc-compat",[W]:"fire-gcs",[G]:"fire-gcs-compat",[$]:"fire-fst",[Y]:"fire-fst-compat",[q]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){C.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function oe(e){const t=e.name;if(ne.has(t))return C.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of ee.values())re(n,e);for(const n of te.values())re(n,e);return!0}function ie(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return null!==e&&void 0!==e&&void 0!==e.settings}const se={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},le=new i.FA("app","Firebase",se);class Ae{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}const ce="12.0.0";function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const o={name:X,automaticDataCollectionEnabled:!0,...t},a=o.name;if("string"!==typeof a||!a)throw le.create("bad-app-name",{appName:String(a)});if(n||(n=(0,i.T9)()),!n)throw le.create("no-options");const s=ee.get(a);if(s){if((0,i.bD)(n,s.options)&&(0,i.bD)(o,s.config))return s;throw le.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of ne.values())l.addComponent(r);const A=new Ae(n,o,l);return ee.set(a,A),A}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;const t=ee.get(e);if(!t&&e===X&&(0,i.T9)())return ue();if(!t)throw le.create("no-app",{appName:e});return t}function pe(e,t,n){let o=Z[e]??e;n&&(o+=`-${n}`);const i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void C.warn(e.join(" "))}oe(new r.uA(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const he="firebase-heartbeat-store";let fe=null;function ge(){return fe||(fe=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=g(a);return r&&a.addEventListener("upgradeneeded",e=>{r(g(a.result),e.oldVersion,e.newVersion,g(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(he)}catch(n){console.warn(n)}}}).catch(e=>{throw le.create("idb-open",{originalErrorMessage:e.message})})),fe}async function me(e,t){try{const n=(await ge()).transaction(he,"readwrite"),r=n.objectStore(he);await r.put(t,ye(e)),await n.done}catch(n){if(n instanceof i.g)C.warn(n.message);else{const e=le.create("idb-set",{originalErrorMessage:n?.message});C.warn(e.message)}}}function ye(e){return`${e.name}!${e.options.appId}`}class ve{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new we(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=be();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){C.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=be(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Se(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Se(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,i.Uj)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return C.warn(e),""}}}function be(){return(new Date).toISOString().substring(0,10)}class we{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.zW)()&&(0,i.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ge()).transaction(he),n=await t.objectStore(he).get(ye(e));return await t.done,n}catch(t){if(t instanceof i.g)C.warn(t.message);else{const e=le.create("idb-get",{originalErrorMessage:t?.message});C.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return me(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return me(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Se(e){return(0,i.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var _e;_e="",oe(new r.uA("platform-logger",e=>new S(e),"PRIVATE")),oe(new r.uA("heartbeat",e=>new ve(e),"PRIVATE")),pe(_,B,_e),pe(_,B,"esm2020"),pe("fire-js","")},9255:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3866),o=n(653),i=n(215),a=n(9101);function s(e){const t=e.constructor?.name?.toLowerCase()||"";return t.includes("stdio")?{mcpTransport:"stdio",networkTransport:"pipe"}:t.includes("streamablehttp")||t.includes("streamable")?{mcpTransport:"http",networkTransport:"tcp"}:t.includes("sse")?{mcpTransport:"sse",networkTransport:"tcp"}:{mcpTransport:"unknown",networkTransport:"unknown"}}function l(e,t){const n={};switch(e){case"notifications/cancelled":t?.requestId&&(n["mcp.cancelled.request_id"]=String(t.requestId)),t?.reason&&(n["mcp.cancelled.reason"]=String(t.reason));break;case"notifications/message":t?.level&&(n[o.MCP_LOGGING_LEVEL_ATTRIBUTE]=String(t.level)),t?.logger&&(n[o.MCP_LOGGING_LOGGER_ATTRIBUTE]=String(t.logger)),void 0!==t?.data&&(n[o.MCP_LOGGING_DATA_TYPE_ATTRIBUTE]=typeof t.data,"string"===typeof t.data?n[o.MCP_LOGGING_MESSAGE_ATTRIBUTE]=t.data:n[o.MCP_LOGGING_MESSAGE_ATTRIBUTE]=JSON.stringify(t.data));break;case"notifications/progress":t?.progressToken&&(n["mcp.progress.token"]=String(t.progressToken)),"number"===typeof t?.progress&&(n["mcp.progress.current"]=t.progress),"number"===typeof t?.total&&(n["mcp.progress.total"]=t.total,"number"===typeof t?.progress&&(n["mcp.progress.percentage"]=t.progress/t.total*100)),t?.message&&(n["mcp.progress.message"]=String(t.message));break;case"notifications/resources/updated":if(t?.uri){n[o.MCP_RESOURCE_URI_ATTRIBUTE]=String(t.uri);const e=r.parseStringToURLObject(String(t.uri));e&&!r.isURLObjectRelative(e)&&(n["mcp.resource.protocol"]=e.protocol.replace(":",""))}break;case"notifications/initialized":n["mcp.lifecycle.phase"]="initialization_complete",n["mcp.protocol.ready"]=1}return n}function A(e){const t={};if(e&&"object"===typeof e&&null!==e){const n=e;"string"===typeof n.name&&(t.name=n.name),"string"===typeof n.title&&(t.title=n.title),"string"===typeof n.version&&(t.version=n.version)}return t}function c(e){const t=a.getClientInfoForTransport(e),n={};return t?.name&&(n["mcp.client.name"]=t.name),t?.title&&(n["mcp.client.title"]=t.title),t?.version&&(n["mcp.client.version"]=t.version),n}function u(e){const t=a.getSessionDataForTransport(e)?.serverInfo,n={};return t?.name&&(n[o.MCP_SERVER_NAME_ATTRIBUTE]=t.name),t?.title&&(n[o.MCP_SERVER_TITLE_ATTRIBUTE]=t.title),t?.version&&(n[o.MCP_SERVER_VERSION_ATTRIBUTE]=t.version),n}function d(e){return{address:e?.requestInfo?.remoteAddress||e?.clientAddress||e?.request?.ip||e?.request?.connection?.remoteAddress,port:e?.requestInfo?.remotePort||e?.clientPort||e?.request?.connection?.remotePort}}function p(e){const t={[o.MCP_TOOL_RESULT_CONTENT_COUNT_ATTRIBUTE]:e.length};for(const[n,r]of e.entries()){if("object"!==typeof r||null===r)continue;const o=r,i=1===e.length?"mcp.tool.result":`mcp.tool.result.${n}`,a=(e,n)=>{"string"===typeof n&&(t[`${i}.${e}`]=n)};if(a("content_type",o.type),a("mime_type",o.mimeType),a("uri",o.uri),a("name",o.name),"string"===typeof o.text){const e=o.text,n=500;t[`${i}.content`]=e.length>n?`${e.slice(0,n-3)}...`:e}"string"===typeof o.data&&(t[`${i}.data_size`]=o.data.length);const s=o.resource;if("object"===typeof s&&null!==s){const e=s;a("resource_uri",e.uri),a("resource_mime_type",e.mimeType)}}return t}t.buildTransportAttributes=function(e,t){const n=e.sessionId,r=t?d(t):{},{mcpTransport:i,networkTransport:l}=s(e),A=c(e),p=u(e),h=a.getProtocolVersionForTransport(e);return{...n&&{[o.MCP_SESSION_ID_ATTRIBUTE]:n},...r.address&&{[o.CLIENT_ADDRESS_ATTRIBUTE]:r.address},...r.port&&{[o.CLIENT_PORT_ATTRIBUTE]:r.port},[o.MCP_TRANSPORT_ATTRIBUTE]:i,[o.NETWORK_TRANSPORT_ATTRIBUTE]:l,[o.NETWORK_PROTOCOL_VERSION_ATTRIBUTE]:"2.0",...h&&{[o.MCP_PROTOCOL_VERSION_ATTRIBUTE]:h},...A,...p}},t.buildTypeSpecificAttributes=function(e,t,n){if("request"===e){const e=t,r=i.extractTargetInfo(e.method,n||{});return{...void 0!==e.id&&{[o.MCP_REQUEST_ID_ATTRIBUTE]:String(e.id)},...r.attributes,...i.getRequestArguments(e.method,n||{})}}return l(t.method,n||{})},t.extractClientInfo=d,t.extractSessionDataFromInitializeRequest=function(e){const t={};if(e.params&&"object"===typeof e.params&&null!==e.params){const n=e.params;"string"===typeof n.protocolVersion&&(t.protocolVersion=n.protocolVersion),n.clientInfo&&(t.clientInfo=A(n.clientInfo))}return t},t.extractSessionDataFromInitializeResponse=function(e){const t={};if(e&&"object"===typeof e){const n=e;"string"===typeof n.protocolVersion&&(t.protocolVersion=n.protocolVersion),n.serverInfo&&(t.serverInfo=A(n.serverInfo))}return t},t.extractToolResultAttributes=function(e){let t={};if("object"!==typeof e||null===e)return t;const n=e;return"boolean"===typeof n.isError&&(t[o.MCP_TOOL_RESULT_IS_ERROR_ATTRIBUTE]=n.isError),Array.isArray(n.content)&&(t={...t,...p(n.content)}),t},t.getClientAttributes=c,t.getNotificationAttributes=l,t.getServerAttributes=u,t.getTransportTypes=s},9262:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4913),o=n(6893),i=n(4937),a=n(3348),s=n(6624),l=n(5649),A=n(676),c=n(6586),u=n(4082),d=n(2149),p=n(5613),h=n(1820);let f=!1;function g(e){return e&&e.length>0?e.map(e=>{let{context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:i}=e;return{span_id:t,trace_id:n,sampled:1===r,attributes:i,...o}}):void 0}function m(e){return"number"===typeof e?y(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?y(e.getTime()):u.timestampInSeconds()}function y(e){return e>9999999999?e/1e3:e}function v(e){if(function(e){return"function"===typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}(e)){const{attributes:r,startTime:o,name:i,endTime:s,status:l,links:A}=e;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0,start_timestamp:m(o),timestamp:m(s)||void 0,status:w(l),op:r[a.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:r[a.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],links:g(A)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function b(e){const{traceFlags:t}=e.spanContext();return 1===t}function w(e){if(e&&e.code!==s.SPAN_STATUS_UNSET)return e.code===s.SPAN_STATUS_OK?"ok":e.message||"unknown_error"}const S="_sentryChildSpans",_="_sentryRootSpan";t.TRACE_FLAG_NONE=0,t.TRACE_FLAG_SAMPLED=1,t.addChildSpanToSpan=function(e,t){const n=e[_]||e;A.addNonEnumerableProperty(t,_,n),e[S]?e[S].add(t):A.addNonEnumerableProperty(e,S,new Set([t]))},t.convertSpanLinksForEnvelope=g,t.getActiveSpan=function(){const e=o.getMainCarrier(),t=r.getAsyncContextStrategy(e);return t.getActiveSpan?t.getActiveSpan():h._getSpanForScope(i.getCurrentScope())},t.getRootSpan=function(e){return e[_]||e},t.getSpanDescendants=function(e){const t=new Set;return function e(n){if(!t.has(n)&&b(n)){t.add(n);const r=n[S]?Array.from(n[S]):[];for(const t of r)e(t)}}(e),Array.from(t)},t.getStatusMessage=w,t.removeChildSpanFromSpan=function(e,t){e[S]&&e[S].delete(t)},t.showSpanDropWarning=function(){f||(p.consoleSandbox(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),f=!0)},t.spanIsSampled=b,t.spanTimeInputToSeconds=m,t.spanToJSON=v,t.spanToTraceContext=function(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:v(e).parent_span_id,i=l.getCapturedScopesOnSpan(e).scope;return{parent_span_id:o,span_id:r?i?.getPropagationContext().propagationSpanId||c.generateSpanId():t,trace_id:n}},t.spanToTraceHeader=function(e){const{traceId:t,spanId:n}=e.spanContext(),r=b(e);return d.generateSentryTraceHeader(t,n,r)},t.spanToTransactionTraceContext=function(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:a,origin:s,links:l}=v(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:a,origin:s,links:l}},t.updateSpanName=function(e,t){e.updateName(t),e.setAttributes({[a.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",[a.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME]:t})}},9282:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7751);let o=0,i=1/0,a=0;const s=e=>{e.forEach(e=>{e.interactionId&&(i=Math.min(i,e.interactionId),a=Math.max(a,e.interactionId),o=a?(a-i)/7+1:0)})};let l;t.getInteractionCount=()=>l?o:performance.interactionCount||0,t.initInteractionCountPolyfill=()=>{"interactionCount"in performance||l||(l=r.observe("event",s,{type:"event",buffered:!0,durationThreshold:0}))}},9288:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4447),o=n(676),i=n(1274);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return s("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function s(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}();const[c,u]=A;if(null==t||["boolean","string"].includes(typeof t)||"number"===typeof t&&Number.isFinite(t))return t;const d=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof n.g&&t===n.g)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if(r.isVueViewModel(t))return"[VueViewModel]";if(r.isSyntheticEvent(t))return"[SyntheticEvent]";if("number"===typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"===typeof t)return`[Function: ${i.getFunctionName(t)}]`;if("symbol"===typeof t)return`[${String(t)}]`;if("bigint"===typeof t)return`[BigInt: ${String(t)}]`;const o=function(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(o){return`**non-serializable** (${o})`}}(e,t);if(!d.startsWith("[object "))return d;if(t.__sentry_skip_normalization__)return t;const p="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:a;if(0===p)return d.replace("object ","");if(c(t))return"[Circular ~]";const h=t;if(h&&"function"===typeof h.toJSON)try{return s("",h.toJSON(),p-1,l,A)}catch{}const f=Array.isArray(t)?[]:{};let g=0;const m=o.convertToPlainObject(t);for(const n in m){if(!Object.prototype.hasOwnProperty.call(m,n))continue;if(g>=l){f[n]="[MaxProperties ~]";break}const e=m[n];f[n]=s(n,e,p-1,l,A),g++}return u(t),f}t.normalize=a,t.normalizeToSize=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400;const o=a(t,n);return i=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>r?e(t,n-1,r):o;var i},t.normalizeUrlToBase=function(e,t){const n=t.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let r=e;try{r=decodeURI(e)}catch{}return r.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${n}/*`,"ig"),"app:///")}},9326:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(883),o=r.buildFeedbackIntegration({getModalIntegration:()=>r.feedbackModalIntegration,getScreenshotIntegration:()=>r.feedbackScreenshotIntegration});t.feedbackSyncIntegration=o},9397:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4937),o=n(3447),i=n(5613);function a(e){r.getCurrentScope().setClient(e)}t.initAndBind=function(e,t){!0===t.debug&&(o.DEBUG_BUILD?i.debug.enable():i.consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),r.getCurrentScope().update(t.initialScope);const n=new e(t);return a(n),n.init(),n},t.setCurrentClient=a},9444:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3354),o=n(1274);t.callFrameToStackFrame=function(e,t,n){const i=t?t.replace(/^file:\/\//,""):void 0,a=e.location.columnNumber?e.location.columnNumber+1:void 0,s=e.location.lineNumber?e.location.lineNumber+1:void 0;return{filename:i,module:n(i),function:e.functionName||o.UNKNOWN_FUNCTION,colno:a,lineno:s,in_app:i?r.filenameIsInApp(i):void 0}},t.watchdogTimer=function(e,t,n,r){const o=e();let i=!1,a=!0;return setInterval(()=>{const e=o.getTimeMs();!1===i&&e>t+n&&(i=!0,a&&r()),e<t+n&&(i=!1)},20),{poll:()=>{o.reset()},enabled:e=>{a=e}}}},9498:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7379),o=n(4082);t.createClientReportEnvelope=function(e,t,n){const i=[{type:"client_report"},{timestamp:n||o.dateTimestampInSeconds(),discarded_events:e}];return r.createEnvelope(t?{dsn:t}:{},[i])}},9606:(e,t,n)=>{"use strict";n.d(t,{h1:()=>s,uA:()=>o});var r=n(1776);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const o=this.instances.get(n);return o&&e(o,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===i?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9638:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425);function o(e,t,n,o){r._INTERNAL_captureLog({level:e,message:t,attributes:n,severityNumber:o})}t.fmt=r.fmt,t.debug=function(e,t){o("debug",e,t)},t.error=function(e,t){o("error",e,t)},t.fatal=function(e,t){o("fatal",e,t)},t.info=function(e,t){o("info",e,t)},t.trace=function(e,t){o("trace",e,t)},t.warn=function(e,t){o("warn",e,t)}},9650:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9987),o=n(6035),i=n(9006),a=n(1821),s=n(3210),l=n(7534),A=n(1335),c=n(7760),u=n(5816),d=n(7825);t.addClsInstrumentationHandler=r.addClsInstrumentationHandler,t.addInpInstrumentationHandler=r.addInpInstrumentationHandler,t.addLcpInstrumentationHandler=r.addLcpInstrumentationHandler,t.addPerformanceInstrumentationHandler=r.addPerformanceInstrumentationHandler,t.addTtfbInstrumentationHandler=r.addTtfbInstrumentationHandler,t.addPerformanceEntries=o.addPerformanceEntries,t.startTrackingInteractions=o.startTrackingInteractions,t.startTrackingLongAnimationFrames=o.startTrackingLongAnimationFrames,t.startTrackingLongTasks=o.startTrackingLongTasks,t.startTrackingWebVitals=o.startTrackingWebVitals,t.startTrackingElementTiming=i.startTrackingElementTiming,t.extractNetworkProtocol=a.extractNetworkProtocol,t.addClickKeypressInstrumentationHandler=s.addClickKeypressInstrumentationHandler,t.addHistoryInstrumentationHandler=l.addHistoryInstrumentationHandler,t.clearCachedImplementation=A.clearCachedImplementation,t.fetch=A.fetch,t.getNativeImplementation=A.getNativeImplementation,t.setTimeout=A.setTimeout,t.SENTRY_XHR_DATA_KEY=c.SENTRY_XHR_DATA_KEY,t.addXhrInstrumentationHandler=c.addXhrInstrumentationHandler,t.getBodyString=u.getBodyString,t.getFetchRequestArgBody=u.getFetchRequestArgBody,t.serializeFormData=u.serializeFormData,t.registerInpInteractionListener=d.registerInpInteractionListener,t.startTrackingINP=d.startTrackingINP},9687:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3447),o=n(5613),i=n(8397),a=n(7948);t.sampleSpan=function(e,t,n){if(!i.hasSpansEnabled(e))return[!1];let s,l;"function"===typeof e.tracesSampler?(l=e.tracesSampler({...t,inheritOrSampleWith:e=>"number"===typeof t.parentSampleRate?t.parentSampleRate:"boolean"===typeof t.parentSampled?Number(t.parentSampled):e}),s=!0):void 0!==t.parentSampled?l=t.parentSampled:"undefined"!==typeof e.tracesSampleRate&&(l=e.tracesSampleRate,s=!0);const A=a.parseSampleRate(l);if(void 0===A)return r.DEBUG_BUILD&&o.debug.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(l)} of type ${JSON.stringify(typeof l)}.`),[!1];if(!A)return r.DEBUG_BUILD&&o.debug.log("[Tracing] Discarding transaction because "+("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,A,s];const c=n<A;return c||r.DEBUG_BUILD&&o.debug.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(l)})`),[c,A,s]}},9747:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.SDK_VERSION="10.2.0"},9754:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9747);t.applySdkMetadata=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${o}:@sentry/${e}`,version:r.SDK_VERSION})),version:r.SDK_VERSION}),e._metadata=i}},9867:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=["response.output_item.added","response.function_call_arguments.delta","response.function_call_arguments.done","response.output_item.done"],r=["response.created","response.in_progress","response.failed","response.completed","response.incomplete","response.queued","response.output_text.delta",...n];t.INSTRUMENTED_METHODS=["responses.create","chat.completions.create"],t.OPENAI_INTEGRATION_NAME="OpenAI",t.RESPONSES_TOOL_CALL_EVENT_TYPES=n,t.RESPONSE_EVENT_TYPES=r},9976:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3971),o=n(3012),i=n(7379),a=r.defineIntegration(()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",e=>{i.forEachEnvelopeItem(e,(e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(o.stripMetadataFromStackFrames(t),e[1]=t)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;o.addMetadataToStackFrames(n,t)})}}));t.moduleMetadataIntegration=a},9987:(e,t,n)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8425),o=n(4528),i=n(2291),a=n(5302),s=n(2676),l=n(7751),A=n(5554),c={},u={};let d,p,h,f;function g(e,t){const n=c[e];if(n?.length)for(const a of n)try{a(t)}catch(i){o.DEBUG_BUILD&&r.debug.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${r.getFunctionName(a)}\nError:`,i)}}function m(){return i.onCLS(e=>{g("cls",{metric:e}),d=e},{reportAllChanges:!0})}function y(){return s.onLCP(e=>{g("lcp",{metric:e}),p=e},{reportAllChanges:!0})}function v(){return A.onTTFB(e=>{g("ttfb",{metric:e}),h=e})}function b(){return a.onINP(e=>{g("inp",{metric:e}),f=e})}function w(e,t,n,r){let o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return S(e,t),u[e]||(o=n(),u[e]=!0),r&&t({metric:r}),_(e,t,i?o:void 0)}function S(e,t){c[e]=c[e]||[],c[e].push(t)}function _(e,t,n){return()=>{n&&n();const r=c[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}t.addClsInstrumentationHandler=function(e){return w("cls",e,m,d,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},t.addInpInstrumentationHandler=function(e){return w("inp",e,b,f)},t.addLcpInstrumentationHandler=function(e){return w("lcp",e,y,p,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},t.addPerformanceInstrumentationHandler=function(e,t){return S(e,t),u[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);l.observe(e,t=>{g(e,{entries:t})},t)}(e),u[e]=!0),_(e,t)},t.addTtfbInstrumentationHandler=function(e){return w("ttfb",e,v,h)},t.isPerformanceEventTiming=function(e){return"duration"in e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{433:"fea0a81a",732:"5133c88f",977:"246b5a9a"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="shopify-incivus-ui:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var A=document.getElementsByTagName("script"),c=0;c<A.length;c++){var u=A[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(n)),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],A=0;if(a.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);A<a.length;A++)i=a[A],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkshopify_incivus_ui=self.webpackChunkshopify_incivus_ui||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(5043),r=n.t(t,2),o=n(4391),i=n(7950),a=n.t(i,2);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(t,n,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:a=!1}=o,p=i.history,h=e.Pop,f=null,g=m();function m(){return(p.state||{idx:null}).idx}function y(){h=e.Pop;let t=m(),n=null==t?null:t-g;g=t,f&&f({action:h,location:b.location,delta:n})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(s({},p.state,{idx:g}),""));let b={get action(){return h},get location(){return t(i,p)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(l,y),f=e,()=>{i.removeEventListener(l,y),f=null}},createHref:e=>n(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){h=e.Push;let o=u(b.location,t,n);r&&r(o,t),g=m()+1;let s=c(o,g),l=b.createHref(o);try{p.pushState(s,"",l)}catch(A){if(A instanceof DOMException&&"DataCloneError"===A.name)throw A;i.location.assign(l)}a&&f&&f({action:h,location:b.location,delta:1})},replace:function(t,n){h=e.Replace;let o=u(b.location,t,n);r&&r(o,t),g=m();let i=c(o,g),s=b.createHref(o);p.replaceState(i,"",s),a&&f&&f({action:h,location:b.location,delta:0})},go:e=>p.go(e)};return b}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}Error;const m=["post","put","patch","delete"],y=(new Set(m),["get",...m]);new Set(y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}const b=t.createContext(null);const w=t.createContext(null);function S(){return null!=t.useContext(w)}t.Component;function _(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function B(n){let{basename:r="/",children:o=null,location:i,navigationType:a=e.Pop,navigator:s,static:l=!1,future:c}=n;S()&&A(!1);let u=r.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:u,navigator:s,static:l,future:v({v7_relativeSplatPath:!1},c)}),[u,c,s,l]);"string"===typeof i&&(i=p(i));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:_="default"}=i,B=t.useMemo(()=>{let e=g(h,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:y,key:_},navigationType:a}},[u,h,f,m,y,_,a]);return null==B?null:t.createElement(b.Provider,{value:d},t.createElement(w.Provider,{children:o,value:B}))}new Promise(()=>{});t.Component;new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch($u){}new Map;const C=r.startTransition;a.flushSync,r.useId;function E(e){let{basename:n,children:r,future:o,window:i}=e,a=t.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),h(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return u("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,s)));let l=a.current,[A,c]=t.useState({action:l.action,location:l.location}),{v7_startTransition:p}=o||{},f=t.useCallback(e=>{p&&C?C(()=>c(e)):c(e)},[c,p]);return t.useLayoutEffect(()=>l.listen(f),[l,f]),t.useEffect(()=>_(o),[o]),t.createElement(B,{basename:n,children:r,location:A.location,navigationType:A.action,navigator:l,future:o})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var x,I;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(x||(x={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(I||(I={}));n(2539);var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var k=(e,n)=>{const r=(0,t.forwardRef)((r,o)=>{let{color:i="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:A,...c}=r;return(0,t.createElement)("svg",{ref:o,...T,width:a,height:a,stroke:i,strokeWidth:l?24*Number(s)/Number(a):s,className:`lucide lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...c},[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...(Array.isArray(A)?A:[A])||[]]);var u});return r.displayName=`${e}`,r};const U=k("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),F=k("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),N=k("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);var P=n(4401),R=n(377);const L=R.A.PYTHON_API_URL;console.log("\ud83d\udd27 firebase/firestoreHelpers.js - API_BASE_URL:",L),console.log("\ud83d\udd27 firebase/firestoreHelpers.js - REACT_APP_URL env var:","http://localhost:8002");const O=async e=>{try{const t=await fetch(`${L}/get-user-profile/${encodeURIComponent(e)}`);if(404===t.status)return null;if(500===t.status)return console.warn("\u26a0\ufe0f Backend server error (500) - user profile may not exist yet"),null;if(!t.ok)throw new Error(`HTTP ${t.status}`);return await t.json()}catch(t){return console.warn("\u26a0\ufe0f getUserProfileDetails failed, treating as user not found:",t.message),null}},D=async e=>{try{const t=await fetch(`${L}/get-plan-selections/${encodeURIComponent(e)}`);if(404===t.status)return null;if(500===t.status)return console.warn("\u26a0\ufe0f Backend server error (500) - plan selections may not exist yet"),null;if(!t.ok)throw new Error(`HTTP ${t.status}`);return await t.json()}catch(t){return console.warn("\u26a0\ufe0f getPlanSelectionDetails failed, treating as not found:",t.message),null}},M=async(e,t)=>{const n=new FormData;n.append("userId",e),n.append("timestamp",(new Date).toISOString()),n.append("brandName",t.brandName||""),n.append("tagline",t.tagline||""),n.append("brandDescription",t.brandDescription||""),n.append("industryCategory",t.industryCategory||""),n.append("targetAudience",t.targetAudience||""),n.append("primaryColor",t.primaryColor||""),n.append("secondaryColor",t.secondaryColor||""),n.append("accentColor",t.accentColor||""),n.append("colorPalette",t.colorPalette||""),n.append("toneOfVoice",t.toneOfVoice||""),n.append("customTone",t.customTone||""),n.append("communicationStyle",t.communicationStyle||""),n.append("brandVoice",t.brandVoice||""),n.append("keyMessages",t.keyMessages||""),n.append("isComplete",String(t.isComplete||!1)),n.append("completionPercentage",String(t.completionPercentage||0)),n.append("lastUpdated",(new Date).toISOString()),n.append("dataVersion",String(t.dataVersion||1)),n.append("source",t.source||"frontend"),n.append("apiEndpoint",t.apiEndpoint||"branddata-form"),n.append("submissionSource",t.submissionSource||"web"),n.append("systemMetadata",t.systemMetadata||"{}"),t.logoFiles&&t.logoFiles.length>0?(console.log("\ud83d\udd0d saveBrandSetup - Processing logoFiles:",t.logoFiles.length,"files"),n.append("logoCount",String(t.logoFiles.length)),t.logoFiles.forEach((e,r)=>{var o;console.log(`\ud83d\udd0d saveBrandSetup - Processing logo ${r}:`,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.type,null===e||void 0===e?void 0:e.size),n.append(`logo_${r}`,e),n.append(`logo_${r}_metadata`,(null===(o=t.logoMetadata)||void 0===o?void 0:o[r])||"")})):console.log("\ud83d\udd0d saveBrandSetup - No logoFiles to process"),t.videoFiles&&t.videoFiles.length>0&&t.videoFiles.forEach((e,r)=>{var o;n.append("videoFiles",e),n.append("videoMetadata",(null===(o=t.videoMetadata)||void 0===o?void 0:o[r])||"")}),t.imageFiles&&t.imageFiles.length>0&&t.imageFiles.forEach((e,r)=>{var o;n.append("imageFiles",e),n.append("imageMetadata",(null===(o=t.imageMetadata)||void 0===o?void 0:o[r])||"")});const r=await fetch(`${L}/branddata-form`,{method:"POST",body:n});if(!r.ok)throw new Error(`HTTP ${r.status}`);return await r.json()},Q=async e=>{try{const t=await fetch(`${L}/get-user-brands/${encodeURIComponent(e)}`);if(404===t.status)return null;if(!t.ok)throw new Error(`HTTP ${t.status}`);const n=await t.json();return n.brands&&n.brands.length>0?n.brands[0]:null}catch(t){return console.error("Error fetching brand setup:",t),null}};var j=n(579);const H=(0,t.createContext)(),z=()=>{const e=(0,t.useContext)(H);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},V=e=>{let{children:r}=e;const[o,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(!0),[l,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=(0,P.Bh)(async e=>{if(i(e),s(!1),e){const t=localStorage.getItem("incivus_user_id");if(t&&t!==e.uid){console.log("\ud83d\udd04 Different user detected, clearing stale localStorage data...");const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith("incivus_")&&e.push(n)}e.forEach(e=>{localStorage.removeItem(e),console.log(`\ud83d\uddd1\ufe0f Cleared stale data: ${e}`)}),console.log(`\u2705 Cleared ${e.length} stale localStorage items`)}localStorage.setItem("incivus_user_id",e.uid),await c(e);"true"===localStorage.getItem("incivus_plan_just_upgraded")&&(console.log("\ud83c\udfaf Plan was just upgraded, forcing fresh data load..."),localStorage.removeItem("incivus_plan_just_upgraded"),await d(e.uid),console.log("\u2705 User data refreshed after plan upgrade"))}else localStorage.removeItem("incivus_user_id")});return e},[]);const c=async e=>{try{if(await O(e.uid))console.log("\u2705 Existing user logged in:",e.email);else{var t,n,r,o;const i={email:e.email,fullName:e.displayName||"",username:e.email.split("@")[0],photoURL:e.photoURL,phoneNumber:e.phoneNumber,isEmailVerified:e.emailVerified,authProvider:(null===(t=e.providerData)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.providerId)||"email",isGoogleUser:"google.com"===(null===(r=e.providerData)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.providerId)};await(async(e,t)=>{const n={userId:e,timestamp:(new Date).toISOString(),userProfile:{personalInfo:{fullName:t.fullName||"",email:t.email||"",username:t.username||"",phoneNumber:t.phoneNumber||null,photoURL:t.photoURL||null},companyInfo:{companyName:t.companyName||"",companySize:t.companySize||"",designation:t.designation||"",sector:t.sector||""},authInfo:{authProvider:t.authProvider||"email",isGoogleUser:!!t.isGoogleUser,isEmailVerified:!!t.isEmailVerified,termsAccepted:!!t.termsAccepted,registrationDate:(new Date).toISOString(),lastLoginDate:(new Date).toISOString()}},metadata:{source:"frontend",version:"1.0"}},r=await fetch(`${L}/UserProfileDetails`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP ${r.status}`);return!0})(e.uid,i),console.log("\u2705 New user profile created for:",e.email)}}catch(l){console.error("\u274c Error saving user to database:",l)}},u=async e=>{try{console.log("\ud83d\udd04 Loading complete user data for:",e);const t=await O(e),n=await D(e);if(t&&(localStorage.setItem("incivus_user_profile_details",JSON.stringify(t)),console.log("\u2705 User profile details loaded from database")),n){const e={planType:n.planId,planName:n.planName,selectedFeatures:n.selectedFeatures||[],adQuota:n.totalAds,totalPrice:n.totalPrice,validityDays:n.validityDays,subscriptionStartDate:n.subscriptionStartDate,subscriptionEndDate:n.subscriptionEndDate,isActive:n.isActive,paymentStatus:n.paymentStatus,subscribed:"completed"===n.paymentStatus,purchaseDate:n.createdAt,status:n.isActive?"active":"inactive"};localStorage.setItem("incivus_subscription",JSON.stringify(e)),console.log("\u2705 Subscription data loaded from database:",e)}return{profileDetails:t,planDetails:n}}catch(l){return console.error("\u274c Error loading complete user data:",l),null}},d=async e=>{try{console.log("\ud83d\udd0d Checking user completion status for:",e);const c=await(async e=>{try{var t,n,r,o,i,a,s,A;const[l,c,u]=await Promise.all([O(e).catch(()=>null),D(e).catch(()=>null),Q(e).catch(()=>null)]),d=(null===l||void 0===l||null===(t=l.userProfile)||void 0===t||null===(n=t.authInfo)||void 0===n?void 0:n.termsAccepted)||(null===l||void 0===l||null===(r=l.userProfile)||void 0===r?void 0:r.termsAccepted)||(null===l||void 0===l?void 0:l.termsAccepted)||!1,p=l&&(l.userProfile&&l.userProfile.personalInfo&&l.userProfile.personalInfo.fullName&&l.userProfile.companyInfo&&l.userProfile.companyInfo.companyName||l.fullName&&l.email||l.userProfile&&l.userProfile.fullName||l.email&&(l.fullName||l.displayName)),h=c&&(c.paymentStatus&&"pending"!==c.paymentStatus||c.plans&&Array.isArray(c.plans)&&c.plans.some(e=>"completed"===e.paymentStatus));return console.log("\ud83d\udd0d User completion check:",{userId:e,hasProfile:!!l,hasEssentialProfileData:p,hasPlan:!!c,hasValidPlan:h,hasBrand:!!u,termsAccepted:d,profileStructure:l?Object.keys(l):null,planStructure:c?Object.keys(c):null,profileDataChecks:{hasNestedStructure:!(null===l||void 0===l||null===(o=l.userProfile)||void 0===o||null===(i=o.personalInfo)||void 0===i||!i.fullName||null===l||void 0===l||null===(a=l.userProfile)||void 0===a||null===(s=a.companyInfo)||void 0===s||!s.companyName),hasSimpleStructure:!(null===l||void 0===l||!l.fullName||null===l||void 0===l||!l.email),hasLegacyStructure:!(null===l||void 0===l||null===(A=l.userProfile)||void 0===A||!A.fullName),hasDirectFields:!(null===l||void 0===l||!l.email||!(null!==l&&void 0!==l&&l.fullName||null!==l&&void 0!==l&&l.displayName)),actualProfileKeys:l?Object.keys(l):null,userProfileKeys:null!==l&&void 0!==l&&l.userProfile?Object.keys(l.userProfile):null}}),{userProfile:l,userProfileDetails:l,planDetails:c,brandData:u,hasProfile:!!l,hasPlan:!!c,hasBrand:!!u,hasEssentialData:p,hasAcceptedTerms:d,userExistsInDB:!!l,isComplete:p}}catch(l){return console.error("Error checking user completion status:",l),{userProfile:null,userProfileDetails:null,planDetails:null,brandData:null,hasProfile:!1,hasPlan:!1,hasBrand:!1,hasEssentialData:!1,hasAcceptedTerms:!1,userExistsInDB:!1,isComplete:!1}}})(e);if(console.log("\ud83d\udd0d Raw completion status from database:",c),c.profileDetails&&(localStorage.setItem("incivus_user_profile_details",JSON.stringify(c.profileDetails)),console.log("\u2705 Profile details stored in localStorage")),c.planDetails){console.log("\ud83d\udccb Plan details found:",c.planDetails);const e={planType:c.planDetails.planId,planName:c.planDetails.planName,selectedFeatures:c.planDetails.selectedFeatures||[],adQuota:c.planDetails.totalAds,totalPrice:c.planDetails.totalPrice,validityDays:c.planDetails.validityDays,subscriptionStartDate:c.planDetails.subscriptionStartDate,subscriptionEndDate:c.planDetails.subscriptionEndDate,isActive:c.planDetails.isActive,paymentStatus:c.planDetails.paymentStatus,subscribed:"completed"===c.planDetails.paymentStatus,purchaseDate:c.planDetails.createdAt,status:c.planDetails.isActive?"active":"inactive"};localStorage.setItem("incivus_subscription",JSON.stringify(e))}c.brandSetup&&(localStorage.setItem("incivus_brand_config",JSON.stringify(c.brandSetup)),localStorage.setItem("incivus_brand_setup_complete","true"));const u=c.userProfile,d=c.userProfileDetails,p=c.planDetails;if(console.log("\ud83d\udcca User profile found:",!!u),console.log("\ud83d\udcca User profile details found:",!!d),console.log("\ud83d\udcca Plan details found:",!!p),u&&console.log("\ud83d\udd0d User profile data:",u),u&&!d){console.log("\ud83d\udd04 Migrating user data from old to new collection structure...");try{const{saveUserProfileDetails:t}=await Promise.resolve().then(n.bind(n,1988)),r={fullName:u.fullName||u.displayName||(null===o||void 0===o?void 0:o.displayName)||"User",email:u.email||(null===o||void 0===o?void 0:o.email)||"",username:u.username||u.fullName||u.displayName||(null===o||void 0===o?void 0:o.displayName)||`user_${Date.now()}`,companyName:u.companyName||"",companySize:u.companySize||"",designation:u.designation||"",sector:u.sector||"",authProvider:u.authProvider||"email",isGoogleUser:u.isGoogleUser||!1,photoURL:u.photoURL||(null===o||void 0===o?void 0:o.photoURL)||"",phoneNumber:u.phoneNumber||(null===o||void 0===o?void 0:o.phoneNumber)||"",isEmailVerified:u.isEmailVerified||(null===o||void 0===o?void 0:o.emailVerified)||!1,termsAccepted:u.termsAccepted||!1},i={};Object.entries(r).forEach(e=>{let[t,n]=e;void 0!==n&&null!==n?i[t]=n:"username"!==t&&"fullName"!==t&&"email"!==t||(i[t]="username"===t?`user_${Date.now()}`:"fullName"===t?"User":"email"===t&&(null===o||void 0===o?void 0:o.email)||"")}),console.log("\ud83d\udd04 Cleaned profile data for migration:",i),await t(e,i),console.log("\u2705 User data migrated successfully"),d=await O(e),console.log("\ud83d\udcca Migrated user profile details found:",!!d)}catch(s){console.error("\u274c Error migrating user data:",s)}}const h=c.hasProfile,f=c.hasProfile,g="true"===localStorage.getItem("incivus_terms_accepted")||u&&u.termsAccepted||d&&d.termsAccepted,m=c.isComplete||f&&g;console.log("\ud83d\udcca User exists in database:",h),console.log("\ud83d\udcca Database completion status:",c.isComplete),console.log("\ud83d\udcca Has essential data:",f),console.log("\ud83d\udcca Has accepted terms:",g),console.log("\ud83d\udccb User completion analysis:"),console.log("  - User exists in database:",h),console.log("  - Has essential data:",f),console.log("  - Has accepted terms:",g),console.log("  - Is complete:",m);let y=!1,v=null;try{var t,r,i,a;const{getBrandData:o}=await Promise.resolve().then(n.bind(n,6588));v=await o(e),y=!!(v&&v.brandName&&v.toneOfVoice&&Array.isArray(v.toneOfVoice)&&v.toneOfVoice.length>0&&(v.completedAt||v.lastUpdated)),console.log("\ud83c\udfa8 Brand setup check:",{brandDataExists:!!v,hasBrandName:!(null===(t=v)||void 0===t||!t.brandName),hasToneOfVoice:!!(null!==(r=v)&&void 0!==r&&r.toneOfVoice&&Array.isArray(v.toneOfVoice)&&v.toneOfVoice.length>0),hasCompletionDate:!!(null!==(i=v)&&void 0!==i&&i.completedAt||null!==(a=v)&&void 0!==a&&a.lastUpdated),brandSetupComplete:y}),y&&(localStorage.setItem("incivus_brand_setup_complete","true"),localStorage.setItem("incivus_brand_config",JSON.stringify(v)),console.log("\u2705 Brand setup completion status stored in localStorage"))}catch(A){console.log("\u2139\ufe0f Could not check brand setup (likely new user):",A.message)}if(m){if(localStorage.setItem("incivus_user_complete","true"),localStorage.setItem("incivus_terms_accepted","true"),p){const e={planType:p.planId,planName:p.planName,selectedFeatures:p.selectedFeatures||[],adQuota:p.totalAds,totalPrice:p.totalPrice,validityDays:p.validityDays,subscriptionStartDate:p.subscriptionStartDate,subscriptionEndDate:p.subscriptionEndDate,isActive:p.isActive,paymentStatus:p.paymentStatus,subscribed:"completed"===p.paymentStatus,purchaseDate:p.createdAt,status:p.isActive?"active":"inactive",source:"database"};localStorage.setItem("incivus_subscription",JSON.stringify(e)),console.log("\u2705 Plan details stored in localStorage:",e)}console.log("\u2705 Updated localStorage with completion status")}return{userExistsInDB:h,isComplete:m,hasAcceptedTerms:g,isSignupComplete:f,userProfile:u,userProfileDetails:d,planDetails:p,brandSetupComplete:y,brandData:v}}catch(l){return console.error("\u274c Error checking user completion status:",l),{userExistsInDB:!1,isComplete:!1,hasAcceptedTerms:!1,isSignupComplete:!1,userProfile:null,userProfileDetails:null,planDetails:null,brandSetupComplete:!1,brandData:null}}},p={currentUser:o,loginWithGoogle:async()=>{try{var e;console.log("\ud83c\udfaf AuthContext: Starting Google login..."),A(null);const t=await(0,P.G6)();console.log("\u2705 AuthContext: Google login successful:",null===(e=t.user)||void 0===e?void 0:e.email);const n=await d(t.user.uid);return console.log("\ud83d\udd0d User completion status:",n),await u(t.user.uid),localStorage.setItem("incivus_google_user",JSON.stringify({email:t.user.email,name:t.user.displayName,photoURL:t.user.photoURL})),n.userExistsInDB&&n.isComplete?(console.log("\u2705 Existing user detected in database with complete profile - setting completion flags"),localStorage.setItem("incivus_user_logged_in","true"),localStorage.setItem("incivus_user_complete","true"),n.hasAcceptedTerms&&localStorage.setItem("incivus_terms_accepted","true"),n.userProfile&&localStorage.setItem("incivus_user_profile",JSON.stringify(n.userProfile)),n.userProfileDetails&&localStorage.setItem("incivus_user_profile_details",JSON.stringify(n.userProfileDetails)),console.log("\ud83d\ude80 Redirecting existing user directly to dashboard")):n.userExistsInDB&&!n.isComplete?(console.log("\u26a0\ufe0f User exists in database but profile incomplete - will go through registration to complete"),localStorage.setItem("incivus_user_logged_in","true")):(console.log("\ud83c\udd95 New user not found in database - will go through registration flow"),localStorage.setItem("incivus_user_logged_in","true")),{...t,userExists:n.isComplete,completionStatus:n}}catch(l){throw console.error("\u274c AuthContext: Google login failed:",l),A(l.message),l}},loginWithFacebook:async()=>{try{A(null);return await(0,P.zo)()}catch(l){throw A(l.message),l}},loginWithMicrosoft:async()=>{try{A(null);return await(0,P.h_)()}catch(l){throw A(l.message),l}},loginWithEmailPassword:async(e,t)=>{try{var n;A(null),console.log("\ud83d\udd10 AuthContext: Starting email/password login for:",e);const r=await(0,P.Ru)(e,t);console.log("\u2705 AuthContext: Email/password login successful:",null===(n=r.user)||void 0===n?void 0:n.email);const o=await d(r.user.uid);return console.log("\ud83d\udd0d User completion status:",o),await u(r.user.uid),localStorage.setItem("incivus_user_logged_in","true"),localStorage.setItem("incivus_user_email",e),o.userExistsInDB&&o.isComplete?(console.log("\u2705 Existing user detected in database with complete profile - setting completion flags"),localStorage.setItem("incivus_user_complete","true"),localStorage.setItem("incivus_terms_accepted","true"),o.userProfile&&localStorage.setItem("incivus_user_profile",JSON.stringify(o.userProfile)),o.userProfileDetails&&localStorage.setItem("incivus_user_profile_details",JSON.stringify(o.userProfileDetails)),console.log("\ud83d\ude80 Redirecting existing user directly to dashboard")):o.userExistsInDB&&!o.isComplete?console.log("\u26a0\ufe0f User exists in database but profile incomplete - will go through registration to complete"):console.log("\ud83c\udd95 New user not found in database - will go through registration flow"),{...r,userExists:o.isComplete,completionStatus:o}}catch(l){throw console.error("\u274c AuthContext: Email/password login failed:",l),A(l.message),l}},signUpWithEmailPassword:async(e,t)=>{try{var n;A(null),console.log("\ud83d\udd10 AuthContext: Starting email/password signup for:",e);const r=await(0,P.bk)(e,t);return console.log("\u2705 AuthContext: Email/password signup successful:",null===(n=r.user)||void 0===n?void 0:n.email),localStorage.setItem("incivus_user_logged_in","true"),localStorage.setItem("incivus_user_email",e),console.log("\ud83c\udd95 New user created - will go through registration flow"),{...r,userExists:!1,completionStatus:{isComplete:!1,hasAcceptedTerms:!1,isSignupComplete:!1,userProfile:null,userProfileDetails:null,planDetails:null}}}catch(l){throw console.error("\u274c AuthContext: Email/password signup failed:",l),A(l.message),l}},logout:async()=>{try{A(null),console.log("\ud83e\uddf9 Clearing user data from localStorage...");const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith("incivus_")&&e.push(n)}e.forEach(e=>{localStorage.removeItem(e),console.log(`\ud83d\uddd1\ufe0f Removed: ${e}`)}),console.log(`\u2705 Cleared ${e.length} localStorage items`),localStorage.removeItem("emailForSignIn"),await(0,P.je)(),i(null),console.log("\u2705 User logged out and data cleared")}catch(l){throw A(l.message),l}},error:l,clearError:()=>{A(null)},loading:a,getUserProfileData:async e=>{try{return await O(e)}catch(l){return console.error("\u274c Error getting user profile:",l),null}},getUserPlanData:async e=>{try{return await D(e)}catch(l){return console.error("\u274c Error getting user plan details:",l),null}},checkUserCompletionStatus:d,sendEmailSignInLink:async e=>{try{return await(0,P.dm)(e),localStorage.setItem("emailForSignIn",e),console.log("\u2705 Sign-in link sent to:",e),{success:!0,message:"Sign-in link sent to your email!"}}catch(l){throw console.error("\u274c Error sending sign-in link:",l),l}},completeEmailSignIn:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;try{var n;const r=e||localStorage.getItem("emailForSignIn");if(!r)throw new Error("Email is required to complete sign-in");const o=await(0,P.ec)(r,t);return localStorage.removeItem("emailForSignIn"),console.log("\u2705 Email link sign-in completed:",null===(n=o.user)||void 0===n?void 0:n.email),o}catch(l){throw console.error("\u274c Error completing email link sign-in:",l),l}},sendPasswordResetEmail:async e=>{try{return await(0,P.hE)(e),console.log("\u2705 Password reset email sent to:",e),{success:!0,message:"Password reset email sent!"}}catch(l){throw console.error("\u274c Error sending password reset email:",l),l}},isEmailLink:P.b};return(0,j.jsx)(H.Provider,{value:p,children:!a&&r})},K=e=>{let{onLoginSuccess:n}=e;const{loginWithGoogle:r,loginWithEmailPassword:o,signUpWithEmailPassword:i,sendEmailSignInLink:a,completeEmailSignIn:s,sendPasswordResetEmail:l,isEmailLink:A,error:c,clearError:u}=z(),[d,p]=(0,t.useState)({email:"",password:"",confirmPassword:""}),[h,f]=(0,t.useState)(!1),[g,m]=(0,t.useState)(!1),[y,v]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[S,_]=(0,t.useState)({}),[B,C]=(0,t.useState)(!1),[E,x]=(0,t.useState)(null),[I,T]=(0,t.useState)(!1),[k,P]=(0,t.useState)(!1),[R,L]=(0,t.useState)(!1),[O,D]=(0,t.useState)(!1),[M,Q]=(0,t.useState)(!1),[H,V]=(0,t.useState)(window.innerWidth<=768),K=()=>{const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";let t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(36*Math.random()));return t};t.useEffect(()=>{v(K())},[]),t.useEffect(()=>{const e=()=>{V(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t.useEffect(()=>{(async()=>{if(A(window.location.href)){console.log("\ud83d\udd17 Email link detected, attempting sign-in...");try{C(!0);let e=localStorage.getItem("emailForSignIn");if(e||(e=window.prompt("Please provide your email for confirmation")),e){const t=await s(e);t&&n&&n(t.user,t)}}catch(e){console.error("\u274c Email link sign-in error:",e),_({email:"Failed to sign in with email link. Please try again or use password login."})}finally{C(!1)}}})()},[A,s,n]),t.useEffect(()=>{I&&d.password&&d.confirmPassword&&(d.password!==d.confirmPassword?_(e=>({...e,confirmPassword:"Passwords do not match"})):_(e=>({...e,confirmPassword:""})))},[d.password,d.confirmPassword,I]);const W=e=>{const{name:t,value:n}=e.target;p(e=>({...e,[t]:n})),S[t]&&_(e=>({...e,[t]:""})),c&&u()};return(0,j.jsxs)("div",{className:"auth-container",style:{display:"flex",alignItems:"stretch",justifyContent:"center",padding:"0",height:"100vh",maxHeight:"100vh",overflow:"hidden",flexDirection:H?"column":"row"},children:[(0,j.jsx)("div",{style:{flex:"0 0 70%",background:"linear-gradient(135deg, var(--primary-purple) 0%, var(--secondary-purple) 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:H?"1.5rem":"2rem",height:H?"40vh":"100vh",position:"relative",overflow:"hidden"},children:(0,j.jsx)("div",{style:{textAlign:"center",position:"relative",zIndex:2},children:(0,j.jsxs)("div",{style:{width:H?"280px":"380px",height:H?"280px":"380px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 auto",position:"relative"},children:[(0,j.jsx)("div",{style:{marginBottom:H?"1rem":"1.2rem"},children:(0,j.jsx)("img",{src:"/logo/C5i name with Logo.svg",alt:"C5i Logo",style:{height:H?"80px":"100px",width:"auto",display:"block"}})}),(0,j.jsx)("h1",{style:{fontSize:H?"2.5rem":"3.2rem",fontWeight:"800",color:"transparent",textAlign:"center",letterSpacing:"0.05em",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",background:"linear-gradient(135deg, #5b21b6 0%, #7c3aed 50%, #8b5cf6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textShadow:"0 4px 12px rgba(91, 33, 182, 0.3)",lineHeight:"1.1",margin:0},children:"INCIVUS"})]})})}),(0,j.jsx)("div",{style:{flex:"0 0 30%",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%)",backdropFilter:"blur(20px)",display:"flex",alignItems:"center",justifyContent:"center",padding:H?"0.8rem":"1rem",height:H?"60vh":"100vh",overflow:"auto",position:"relative",borderLeft:"1px solid rgba(124, 58, 237, 0.1)"},children:(0,j.jsx)("div",{style:{maxWidth:"350px",width:"100%",position:"relative",zIndex:2},children:(0,j.jsxs)("div",{className:"auth-card",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.8) 100%)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 20px 40px rgba(124, 58, 237, 0.1), 0 8px 32px rgba(0, 0, 0, 0.05)",padding:"2rem",position:"relative",overflow:"hidden"},children:[(0,j.jsxs)("div",{className:"auth-header",style:{marginBottom:"2rem",textAlign:"center",paddingTop:"0.5rem"},children:[(0,j.jsx)("h2",{style:{fontSize:"1.75rem",fontWeight:"700",color:"#000000",marginBottom:"0.5rem",letterSpacing:"-0.01em"},children:I?"\ud83d\ude80 Start Analyzing":"Hey There \ud83d\ude0a"}),(0,j.jsx)("p",{style:{color:"var(--text-light)",fontSize:"1rem",marginBottom:"1rem"},children:I?"Join thousands optimizing their Ad performance":"Sign in to continue analyzing your creative"})]}),(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return d.email.trim()?/\S+@\S+\.\S+/.test(d.email)||(e.email="Email is invalid"):e.email="Email is required",d.password?I&&d.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",I&&(d.confirmPassword?d.password!==d.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password"),b.toUpperCase()!==y&&(e.captcha="Captcha verification failed"),_(e),0===Object.keys(e).length})()){C(!0);try{let e;var t;if(I)e=await i(d.email,d.password),console.log("\u2705 Account created successfully:",null===(t=e.user)||void 0===t?void 0:t.email);else e=await o(d.email,d.password);e&&n&&n(e.user,e)}catch(r){console.error((I?"Sign up":"Login")+" error:",r),"auth/email-already-in-use"===r.code?_({email:'This email is already registered. Try signing in instead, or use "Continue with Google" if you signed up with Google.'}):"auth/invalid-credential"===r.code?(_({password:"Invalid email or password. Please check your credentials and try again."}),P(!0),console.log("\u2753 LOGIN HELP:"),console.log('1. If you\'re a NEW USER: Click "Create New Account" button at the bottom'),console.log('2. If you signed up with GOOGLE: Click "Continue with Google" instead'),console.log('3. If you forgot your password: Use the "Reset Password" link that appeared'),console.log("4. Make sure your email and password are entered correctly")):"auth/user-not-found"===r.code?_({email:"No account found with this email. Please sign up first or check your email address."}):"auth/wrong-password"===r.code?(_({password:"Incorrect password. Please try again or reset your password."}),P(!0)):"auth/too-many-requests"===r.code?(_({password:"Too many failed login attempts. Please try again later or reset your password."}),P(!0)):_({password:`Authentication failed: ${r.message||"Please try again"}`})}finally{C(!1)}}},children:[(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.3rem",fontWeight:"500",fontSize:"0.8rem",color:"var(--text-dark)"},children:"Email Address *"}),(0,j.jsx)("input",{type:"email",name:"email",value:d.email,onChange:W,style:{width:"100%",padding:"0.875rem 1rem",border:S.email?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.875rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},placeholder:"Enter your email address"}),S.email&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:S.email})]}),(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.3rem",fontWeight:"500",fontSize:"0.8rem",color:"var(--text-dark)"},children:"Password *"}),(0,j.jsxs)("div",{style:{position:"relative"},children:[(0,j.jsx)("input",{type:h?"text":"password",name:"password",value:d.password,onChange:W,style:{width:"100%",padding:"0.6rem 0.8rem",paddingRight:"2.5rem",border:S.password?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.8rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},placeholder:"Enter your password"}),(0,j.jsx)("button",{type:"button",onClick:()=>f(!h),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"var(--text-light)",cursor:"pointer"},children:h?(0,j.jsx)(U,{size:20}):(0,j.jsx)(F,{size:20})})]}),S.password&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:S.password})]}),I&&(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.3rem",fontWeight:"500",fontSize:"0.8rem",color:"var(--text-dark)"},children:"Confirm Password *"}),(0,j.jsxs)("div",{style:{position:"relative"},children:[(0,j.jsx)("input",{type:g?"text":"password",name:"confirmPassword",value:d.confirmPassword,onChange:W,style:{width:"100%",padding:"0.6rem 0.8rem",paddingRight:"2.5rem",border:S.confirmPassword?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.8rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},placeholder:"Confirm your password"}),(0,j.jsx)("button",{type:"button",onClick:()=>m(!g),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"var(--text-light)",cursor:"pointer"},children:g?(0,j.jsx)(U,{size:20}):(0,j.jsx)(F,{size:20})})]}),S.confirmPassword&&(0,j.jsx)("p",{style:{color:d.password===d.confirmPassword?"#10b981":"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:d.password===d.confirmPassword&&d.confirmPassword?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{style:{color:"#10b981"},children:"\u2713"}),"Passwords match"]}):S.confirmPassword}),d.password&&d.confirmPassword&&!S.confirmPassword&&(0,j.jsxs)("p",{style:{color:"#10b981",fontSize:"0.75rem",marginTop:"0.25rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("span",{children:"\u2713"}),"Passwords match"]})]}),(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.3rem",fontWeight:"500",fontSize:"0.8rem",color:"var(--text-dark)"},children:"Captcha Verification *"}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[(0,j.jsx)("div",{style:{flex:1,padding:"0.4rem",background:"var(--light-gray)",border:"1px solid var(--border-gray)",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.2rem",color:"var(--text-dark)",userSelect:"none"},children:y}),(0,j.jsx)("button",{type:"button",onClick:()=>{v(K()),w("")},style:{padding:"0.4rem",background:"var(--primary-purple)",color:"var(--white)",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Refresh"})]}),(0,j.jsx)("input",{type:"text",value:b,onChange:e=>{w(e.target.value),S.captcha&&_(e=>({...e,captcha:""}))},style:{width:"100%",padding:"0.6rem 0.8rem",border:S.captcha?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.8rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},placeholder:"Enter the captcha code"}),S.captcha&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:S.captcha})]}),c&&(0,j.jsx)("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"1rem"},children:(0,j.jsx)("p",{style:{color:"#dc2626",fontSize:"0.875rem",margin:0},children:c})}),R&&(0,j.jsxs)("div",{style:{padding:"1rem",background:"#d4edda",color:"#155724",borderRadius:"0.5rem",marginBottom:"1rem",textAlign:"center",fontSize:"0.875rem"},children:["\u2705 Password reset email sent to ",d.email,". Check your inbox!"]}),M&&(0,j.jsxs)("div",{style:{padding:"1rem",background:"#d4edda",color:"#155724",borderRadius:"0.5rem",marginBottom:"1rem",textAlign:"center",fontSize:"0.875rem"},children:["\u2705 Sign-in link sent to ",d.email,". Check your inbox and click the link to sign in!"]}),(0,j.jsx)("button",{type:"submit",disabled:B,className:"btn btn-primary",style:{width:"100%",padding:"0.7rem",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:B?.7:1,background:B?"var(--primary-purple)":"linear-gradient(135deg, var(--primary-purple), var(--secondary-purple))",border:"none",borderRadius:"12px",boxShadow:"0 8px 24px rgba(124, 58, 237, 0.3)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:B?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(N,{size:20,className:"animate-spin"}),"Signing In..."]}):I?"Sign Up":"Sign In"}),(0,j.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--border-gray)",textAlign:"center"},children:[(0,j.jsx)("p",{style:{color:"var(--text-light)",fontSize:"0.875rem",marginBottom:"0.75rem"},children:I?"Already have an account?":"New to INCIVUS?"}),(0,j.jsx)("button",{type:"button",onClick:()=>{T(!I),p(e=>({...e,confirmPassword:""})),_(e=>({...e,confirmPassword:""}))},style:{background:"linear-gradient(135deg, #7c3aed, #6366f1)",border:"none",borderRadius:"8px",color:"white",padding:"0.75rem 1.5rem",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.3)",width:"100%"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 16px rgba(124, 58, 237, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0px)",e.target.style.boxShadow="0 4px 12px rgba(124, 58, 237, 0.3)"},children:I?"Sign In Instead":"Create New Account"})]})]}),S.password&&S.password.includes("Invalid email or password")&&(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"rgba(99, 102, 241, 0.1)",border:"1px solid rgba(99, 102, 241, 0.2)",borderRadius:"8px",fontSize:"0.75rem",color:"var(--text-dark)"},children:[(0,j.jsx)("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:"#6366f1"},children:"Need Help? Common Solutions:"}),(0,j.jsxs)("ul",{style:{margin:0,paddingLeft:"1rem",lineHeight:"1.4"},children:[(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"New User?"}),' Click "Create New Account" button at the bottom']}),(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"Signed up with Google?"}),' Use "Continue with Google" button above']}),(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"Forgot Password?"}),' Use the "Reset Password" link ',k&&"(already shown above)"]}),(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"Check:"})," Email spelling and password accuracy"]})]})]}),(0,j.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--border-gray)"},children:[(0,j.jsx)("p",{style:{textAlign:"center",color:"var(--text-light)",marginBottom:"0.75rem",fontSize:"0.8rem"},children:"Or continue with"}),(0,j.jsx)("div",{style:{display:"grid",gap:"0.4rem"},children:(0,j.jsxs)("button",{type:"button",onClick:()=>(async e=>{x(e);try{let t;if("google"!==e)throw new Error("Unknown provider");t=await r(),t&&n&&n(t.user,t)}catch(t){console.error(`${e} login error:`,t),alert(`${e} Sign-in Error: ${t.message}\n\nPlease complete the Google Cloud Console setup as described in FIREBASE_SETUP.md`)}finally{x(null)}})("google"),disabled:null!==E,style:{width:"100%",padding:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6))",backdropFilter:"blur(10px)",color:"var(--text-dark)",fontSize:"0.8rem",fontWeight:"500",cursor:E?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.3s ease",opacity:E&&"google"!==E?.5:1,boxShadow:"0 4px 16px rgba(0, 0, 0, 0.05)"},children:["google"===E?(0,j.jsx)(N,{size:20,className:"animate-spin"}):(0,j.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,j.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,j.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,j.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,j.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),!I&&(0,j.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--border-gray)",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,j.jsx)("p",{style:{textAlign:"center",color:"var(--text-light)",marginBottom:"0.5rem",fontSize:"0.8rem"},children:"Having trouble signing in?"}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,j.jsx)("button",{type:"button",onClick:()=>P(!0),style:{flex:1,padding:"0.5rem",border:"1px solid #dc3545",borderRadius:"8px",background:"white",color:"#dc3545",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.background="#dc3545",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.background="white",e.target.style.color="#dc3545"},children:"Reset Password"}),(0,j.jsx)("button",{type:"button",onClick:()=>D(!0),style:{flex:1,padding:"0.5rem",border:"1px solid #6366f1",borderRadius:"8px",background:"white",color:"#6366f1",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.background="#6366f1",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.background="white",e.target.style.color="#6366f1"},children:"Email Link Login"})]}),k&&(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",fontSize:"0.875rem"},children:[(0,j.jsx)("p",{style:{color:"#856404",marginBottom:"0.75rem",fontWeight:"600"},children:"Reset Your Password"}),(0,j.jsx)("p",{style:{color:"#856404",marginBottom:"1rem",fontSize:"0.8rem"},children:'Enter your email address above and click "Send Reset Email" to receive password reset instructions.'}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,j.jsx)("button",{onClick:async()=>{if(d.email.trim())try{C(!0),await l(d.email),L(!0),P(!1),console.log("\u2705 Password reset email sent to:",d.email)}catch(e){console.error("\u274c Password reset error:",e),"auth/user-not-found"===e.code?_({email:'No account found with this email. Try "Continue with Google" or create a new account.'}):_({email:"Failed to send password reset email. Please try again."})}finally{C(!1)}else _({email:"Please enter your email address first"})},disabled:B,style:{flex:1,padding:"0.5rem",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",fontSize:"0.8rem",cursor:B?"not-allowed":"pointer",opacity:B?.7:1},children:B?"Sending...":"Send Reset Email"}),(0,j.jsx)("button",{onClick:()=>P(!1),style:{padding:"0.5rem 1rem",background:"transparent",color:"#856404",border:"1px solid #856404",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer"},children:"Cancel"})]})]}),O&&(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#e7f3ff",border:"1px solid #b3d9ff",borderRadius:"8px",fontSize:"0.875rem"},children:[(0,j.jsx)("p",{style:{color:"#2c5aa0",marginBottom:"0.75rem",fontWeight:"600"},children:"Sign In with Email Link"}),(0,j.jsx)("p",{style:{color:"#2c5aa0",marginBottom:"1rem",fontSize:"0.8rem"},children:'Enter your email address above and click "Send Sign-in Link" to receive a secure login link. No password required!'}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,j.jsx)("button",{onClick:async()=>{if(d.email.trim())try{C(!0),await a(d.email),Q(!0),D(!1),console.log("\u2705 Sign-in link sent to:",d.email)}catch(e){console.error("\u274c Email link error:",e),"auth/user-not-found"===e.code?_({email:"No account found with this email. Try creating a new account first."}):_({email:"Failed to send sign-in link. Please try again."})}finally{C(!1)}else _({email:"Please enter your email address first"})},disabled:B,style:{flex:1,padding:"0.5rem",background:"#6366f1",color:"white",border:"none",borderRadius:"6px",fontSize:"0.8rem",cursor:B?"not-allowed":"pointer",opacity:B?.7:1},children:B?"Sending...":"Send Sign-in Link"}),(0,j.jsx)("button",{onClick:()=>D(!1),style:{padding:"0.5rem 1rem",background:"transparent",color:"#2c5aa0",border:"1px solid #2c5aa0",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer"},children:"Cancel"})]})]})]})]})]})})})]})},W=k("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);var G=n(1988);const $=R.A.PYTHON_API_URL,q=R.A.PYTHON_API_URL;console.log("\ud83d\udd27 jsonApiHelpers.js - API_BASE_URL:",$),console.log("\ud83d\udd27 jsonApiHelpers.js - USER_PROFILE_API_BASE_URL:",q),console.log("\ud83d\udd27 jsonApiHelpers.js - REACT_APP_URL env var:","http://localhost:8002"),console.log("\ud83d\udd27 jsonApiHelpers.js - REACT_APP_API_URL env var:","http://localhost:8000");const Y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{userId:t,timestamp:(new Date).toISOString(),userProfile:{personalInfo:{fullName:e.fullName,email:e.email,username:e.username,phoneNumber:n.phoneNumber||null,photoURL:n.photoURL||null},companyInfo:{companyName:e.companyName,companySize:e.companySize,designation:e.designation,sector:e.sector,customDesignation:"Custom"===e.designation?e.customDesignation:null,customSector:"Custom"===e.sector?e.customSector:null},authInfo:{authProvider:n.authProvider||"email",isGoogleUser:n.isGoogleUser||!1,isEmailVerified:n.isEmailVerified||!1,termsAccepted:!0,registrationDate:(new Date).toISOString(),lastLoginDate:(new Date).toISOString()},preferences:{newsletter:n.newsletter||!1,marketing:n.marketing||!1,notifications:n.notifications||!0}},metadata:{source:"web_signup",version:"1.0",userAgent:navigator.userAgent,referrer:document.referrer||null,...n.metadata}}},J=e=>{var t,n,r,o,i,a;const s=[];return e.userId||s.push("userId is required"),null!==(t=e.userProfile)&&void 0!==t&&null!==(n=t.personalInfo)&&void 0!==n&&n.fullName||s.push("fullName is required"),null!==(r=e.userProfile)&&void 0!==r&&null!==(o=r.personalInfo)&&void 0!==o&&o.email||s.push("email is required"),null!==(i=e.userProfile)&&void 0!==i&&null!==(a=i.companyInfo)&&void 0!==a&&a.companyName||s.push("companyName is required"),{isValid:0===s.length,errors:s}},X=async e=>{try{const t=J(e);if(!t.isValid)throw new Error(`Validation failed: ${t.errors.join(", ")}`);console.log("\ud83d\udce4 Sending signup data to:",`${$}/postUserProfileDetails`),console.log("\ud83d\udce6 Request payload:",e);const n=await fetch(`${$}/postUserProfileDetails`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(`HTTP ${n.status}: ${e.message||n.statusText}`)}const r=await n.json();return console.log("\u2705 Signup data sent successfully:",r),{success:!0,data:r,userId:e.userId}}catch(t){throw console.error("\u274c Error sending signup data:",t),t}},Z=async e=>{try{console.log("\ufffd\ufffd Fetching user data for:",e);const t=await fetch(`${$}/getUserProfileDetails/${e}`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok){if(404===t.status)return{success:!1,data:null,message:"User not found"};const e=await t.json().catch(()=>({}));throw new Error(`HTTP ${t.status}: ${e.message||t.statusText}`)}const n=await t.json();return console.log("\u2705 User data fetched successfully:",n),{success:!0,data:n}}catch(t){throw console.error("\u274c Error fetching user data:",t),t}},ee=async(e,t)=>{try{console.log("\ud83d\udcdd Updating user data for:",e,t);const n=await fetch(`${$}/updateUserProfileDetails/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({updates:t,timestamp:(new Date).toISOString()})});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(`HTTP ${n.status}: ${e.message||n.statusText}`)}const r=await n.json();return console.log("\u2705 User data updated successfully:",r),{success:!0,data:r}}catch(n){throw console.error("\u274c Error updating user data:",n),n}},te=e=>{try{const t=`incivus_signup_state_${e.userId}`;return localStorage.setItem(t,JSON.stringify(e)),localStorage.setItem("incivus_last_signup_state",t),console.log("\ud83d\udcbe Signup state saved locally:",t),!0}catch(t){return console.error("\u274c Error saving signup state locally:",t),!1}},ne=e=>{try{const t=`incivus_signup_state_${e}`,n=localStorage.getItem(t);if(!n)return{success:!1,data:null,message:"No local state found"};const r=JSON.parse(n);return console.log("\ud83d\udcf1 Signup state fetched from local storage:",r),{success:!0,data:r}}catch(t){return console.error("\u274c Error fetching signup state locally:",t),{success:!1,data:null,error:t.message}}},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");return i.href=o,i.download=t||`signup_data_${e.userId}_${Date.now()}.json`,i.click(),URL.revokeObjectURL(o),console.log("\ud83d\udce4 Signup JSON exported successfully"),!0}catch(n){return console.error("\u274c Error exporting signup JSON:",n),!1}},oe=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=e=>{try{const r=JSON.parse(e.target.result),o=J(r);if(!o.isValid)return void n(new Error(`Invalid JSON structure: ${o.errors.join(", ")}`));console.log("\ud83d\udce5 Signup JSON imported successfully"),t(r)}catch(r){n(new Error(`Failed to parse JSON: ${r.message}`))}},r.onerror=()=>{n(new Error("Failed to read file"))},r.readAsText(e)}),ie=function(e,t){var n,r,o,i;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{userId:t,timestamp:(new Date).toISOString(),brandSetup:{brandIdentity:{brandName:e.brandName||"",tagline:e.tagline||"",brandDescription:e.brandDescription||"",industryCategory:e.industryCategory||"",targetAudience:e.targetAudience||""},visualIdentity:{logos:e.logos||[],primaryLogo:(null===(n=e.logos)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.url)||(null===(o=e.logos)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.preview)||"",logoVariations:e.logos||[],colorPalette:{primaryColor:e.primaryColor||"#F05A28",secondaryColor:e.secondaryColor||"#000000",accentColor:e.accentColor||"#FFFFFF",brandColors:[e.primaryColor,e.secondaryColor,e.accentColor].filter(Boolean)}},brandVoice:{toneOfVoice:"Custom"===e.toneOfVoice?e.customTone:e.toneOfVoice,customTone:e.customTone||"",communicationStyle:e.communicationStyle||"",brandVoice:e.brandVoice||"",keyMessages:e.keyMessages||[]},completionStatus:{isComplete:!0,completionPercentage:100,lastUpdated:(new Date).toISOString()}},systemMetadata:{submissionTime:(new Date).toISOString(),dataVersion:"1.0",source:"brand-setup-form",apiEndpoint:"branddata-form",...a}}},ae=async e=>{const t=se(e);if(!t.isValid)throw new Error(`Validation failed: ${t.errors.join(", ")}`);console.log("\ud83d\udce4 Sending brand setup data to:",`${$}/postBrandSetupDetails`),console.log("\ud83d\udce6 Request payload:",e);const n=await fetch(`${$}/postBrandSetupDetails`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(`HTTP ${n.status}: ${e.message||n.statusText}`)}return{success:!0,data:await n.json()}},se=e=>{var t;const n=[];return e.userId||n.push("User ID is required"),e.brandSetup||n.push("Brand setup data is required"),!e.brandSetup||null!==(t=e.brandSetup.brandIdentity)&&void 0!==t&&t.brandName||n.push("Brand name is required"),{isValid:0===n.length,errors:n}},le=e=>{try{localStorage.setItem("incivus_brand_setup_json",JSON.stringify(e)),localStorage.setItem("incivus_brand_setup_timestamp",(new Date).toISOString()),console.log("\ud83d\udcbe Brand setup JSON saved to localStorage")}catch(t){console.error("\u274c Error saving brand setup to localStorage:",t)}},Ae=async e=>{const{saveBrandSetupDetails:t}=await Promise.resolve().then(n.bind(n,1988)),r={brandName:e.brandSetup.brandIdentity.brandName,tagline:e.brandSetup.brandIdentity.tagline,brandDescription:e.brandSetup.brandIdentity.brandDescription,industryCategory:e.brandSetup.brandIdentity.industryCategory,targetAudience:e.brandSetup.brandIdentity.targetAudience,primaryColor:e.brandSetup.visualIdentity.colorPalette.primaryColor,secondaryColor:e.brandSetup.visualIdentity.colorPalette.secondaryColor,accentColor:e.brandSetup.visualIdentity.colorPalette.accentColor,colorPalette:e.brandSetup.visualIdentity.colorPalette.brandColors,primaryLogo:e.brandSetup.visualIdentity.primaryLogo,logoVariations:e.brandSetup.visualIdentity.logoVariations,toneOfVoice:e.brandSetup.brandVoice.toneOfVoice,customTone:e.brandSetup.brandVoice.customTone,communicationStyle:e.brandSetup.brandVoice.communicationStyle,brandVoice:e.brandSetup.brandVoice.brandVoice,keyMessages:e.brandSetup.brandVoice.keyMessages,isComplete:e.brandSetup.completionStatus.isComplete,completionPercentage:e.brandSetup.completionStatus.completionPercentage};await t(e.userId,r),console.log("\u2705 Brand setup data saved to Firebase via JSON")},ce=(R.A.PYTHON_API_URL,R.A.PYTHON_API_URL,async e=>{let{userId:t,blob:n,fileName:r,analysisId:o}=e;const i=new FormData;i.append("userId",t),i.append("fileName",r||"analysis.pdf"),i.append("analysisId",o||""),i.append("file",new File([n],r||"analysis.pdf",{type:"application/pdf"}));const a=await fetch(`${q}/upload-analysis-pdf`,{method:"POST",body:i});if(!a.ok){const e=await a.text().catch(()=>"");throw new Error(`HTTP ${a.status}: ${e}`)}return await a.json()});"undefined"!==typeof window&&(window.signupAPI={createJSON:Y,sendData:X,fetchData:Z,updateData:ee,saveLocal:te,fetchLocal:ne,export:re,import:oe},window.brandSetupAPI={createJSON:ie,sendData:ae,saveLocal:le,sendToFirebase:Ae,validate:se});const ue=e=>{let{label:n,name:r,value:o,onChange:i,onFocus:a,onBlur:s,type:l="text",placeholder:A,required:c=!1,disabled:u=!1,readonly:d=!1,error:p=null,helperText:h="",showPassword:f=!1,onTogglePassword:g=null,isGoogleUser:m=!1,...y}=e;const v=`input-${r}`,[b,w]=(0,t.useState)(!1);return(0,j.jsxs)("div",{style:{width:"100%"},children:[(0,j.jsxs)("label",{htmlFor:v,style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",fontSize:"0.875rem",color:"var(--text-dark)"},children:[n,c?" *":""]}),(0,j.jsxs)("div",{style:{position:"relative"},children:[(0,j.jsx)("input",{id:v,name:r,value:o,onChange:i,onFocus:e=>{w(!0),a&&a(e)},onBlur:e=>{w(!1),s&&s(e)},type:"password"===l?f?"text":"password":l,placeholder:A,required:c,disabled:u,readOnly:d,style:{width:"100%",padding:"0.875rem 1rem",paddingRight:"password"===l&&g?"3rem":"1rem",border:p?"1px solid #ef4444":b?"1px solid var(--primary-purple)":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.875rem",background:m?"linear-gradient(135deg, rgba(248, 250, 252, 0.7), rgba(248, 250, 252, 0.5))":"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)",opacity:m?.8:1,boxShadow:b?"0 0 0 3px rgba(124, 58, 237, 0.1)":"none"},...y}),"password"===l&&g&&(0,j.jsx)("button",{type:"button",onClick:g,style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"var(--text-light)",padding:"0.25rem",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{e.target.style.backgroundColor="rgba(124, 58, 237, 0.1)"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},children:f?(0,j.jsx)(U,{size:20}):(0,j.jsx)(F,{size:20})})]}),(p||h)&&(0,j.jsx)("div",{style:{color:p?"#ef4444":"var(--text-light)",fontSize:"0.875rem",marginTop:"0.25rem"},children:p||h})]})},de=e=>{let{label:n,name:r,value:o,onChange:i,options:a=[],required:s=!1,disabled:l=!1,error:A=null,helperText:c="",placeholder:u="",isGoogleUser:d=!1,onShowCustom:p=null,...h}=e;const f=`select-${r}`,[g,m]=(0,t.useState)(!1);return(0,j.jsxs)("div",{style:{width:"100%"},children:[(0,j.jsxs)("label",{htmlFor:f,style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",fontSize:"0.875rem",color:"var(--text-dark)"},children:[n,s?" *":""]}),(0,j.jsxs)("select",{id:f,name:r,value:o,onChange:e=>{if(!e||!e.target)return void console.warn("\u26a0\ufe0f MuiSelect handleChange: Invalid event object",e);"Custom"===e.target.value&&p?p(!0):p&&p(!1),"function"===typeof i?i(e):console.warn("\u26a0\ufe0f MuiSelect handleChange: onChange is not a function",i)},onFocus:()=>{m(!0)},onBlur:()=>{m(!1)},required:s,disabled:l,style:{width:"100%",padding:"0.875rem 1rem",border:A?"1px solid #ef4444":g?"1px solid var(--primary-purple)":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.875rem",background:d?"linear-gradient(135deg, rgba(248, 250, 252, 0.7), rgba(248, 250, 252, 0.5))":"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)",opacity:d?.8:1,boxShadow:g?"0 0 0 3px rgba(124, 58, 237, 0.1)":"none",cursor:l?"not-allowed":"pointer"},...h,children:[(0,j.jsx)("option",{value:"",children:u||`Select ${n.toLowerCase()}`}),a.map((e,t)=>(0,j.jsx)("option",{value:e,children:e},t))]}),(A||c)&&(0,j.jsx)("div",{style:{color:A?"#ef4444":"var(--text-light)",fontSize:"0.875rem",marginTop:"0.25rem"},children:A||c})]})},pe=e=>{let{onSignupComplete:n}=e;const{currentUser:r}=z(),[o,i]=(0,t.useState)({fullName:"",email:"",username:"",companyName:"",companySize:"",designation:"",sector:"",customDesignation:"",customSector:""}),[a,s]=(0,t.useState)({}),[l,A]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[g,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("incivus_google_user");if(e){const t=JSON.parse(e);u(!0),i(e=>{var n;return{...e,fullName:t.name||"",email:t.email||"",username:(null===(n=t.email)||void 0===n?void 0:n.split("@")[0])||""}})}else r&&(u(!1),i(e=>{var t;return{...e,email:r.email||"",username:(null===(t=r.email)||void 0===t?void 0:t.split("@")[0])||""}}),console.log("\ud83d\udcdd Email/Password user detected, form fields are editable"))},[r]);const y=e=>{if(!e||!e.target)return void console.warn("\u26a0\ufe0f handleInputChange: Invalid event object",e);const{name:t,value:n}=e.target;if(t){if("designation"===t){if("Custom"===n)return void p(!0);p(!1)}if("sector"===t){if("Custom"===n)return void f(!0);f(!1)}i(e=>({...e,[t]:n||""})),a[t]&&s(e=>({...e,[t]:""}))}else console.warn("\u26a0\ufe0f handleInputChange: No name property in event target",e.target)};return(0,j.jsxs)("div",{className:"auth-container",style:{background:"linear-gradient(135deg, var(--primary-purple) 0%, var(--secondary-purple) 100%)",position:"relative",minHeight:"100vh",overflow:"auto",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"2rem",paddingBottom:"2rem"},children:[(0,j.jsx)("div",{style:{position:"absolute",top:"10%",right:"15%",width:"120px",height:"120px",background:"radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 70%)",borderRadius:"50%",filter:"blur(50px)",animation:"pulse 5s ease-in-out infinite"}}),(0,j.jsx)("div",{style:{position:"absolute",bottom:"15%",left:"10%",width:"90px",height:"90px",background:"radial-gradient(circle, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.04) 70%)",borderRadius:"50%",filter:"blur(40px)",animation:"floatSlow 7s ease-in-out infinite"}}),(0,j.jsx)("div",{style:{position:"absolute",top:"50%",left:"5%",width:"70px",height:"70px",background:"radial-gradient(circle, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 70%)",borderRadius:"50%",filter:"blur(35px)",animation:"float 8s ease-in-out infinite"}}),(0,j.jsxs)("div",{style:{maxWidth:"500px",width:"100%",margin:"0 auto",padding:"0.5rem",position:"relative",zIndex:2},children:[(0,j.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,j.jsx)("button",{type:"button",onClick:()=>{localStorage.removeItem("incivus_google_user"),localStorage.removeItem("incivus_user_logged_in"),window.location.reload()},style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15))",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"0.75rem 1.25rem",borderRadius:"12px",cursor:"pointer",fontSize:"0.875rem",color:"white",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s ease",fontWeight:"500",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.1)"},onMouseLeave:e=>{e.target.style.transform="translateY(0px)",e.target.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.05)"},children:"\u2190 Back to Login"})}),c?(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15))",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"1rem",borderRadius:"16px",textAlign:"center",marginBottom:"1.5rem",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)"},children:[(0,j.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"500"},children:"\u2713 Signed in with Google"}),(0,j.jsx)("div",{style:{fontSize:"0.9rem",opacity:.9},children:o.email})]}):r&&(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15))",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"1rem",borderRadius:"16px",textAlign:"center",marginBottom:"1.5rem",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)"},children:[(0,j.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"500"},children:"\u2713 Signed up with Email/Password"}),(0,j.jsxs)("div",{style:{fontSize:"0.9rem",opacity:.9},children:[o.email," - All fields are editable"]})]}),(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(30px)",borderRadius:"24px",padding:"1.5rem",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3), 0 8px 32px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.4)",position:"relative",overflow:"hidden"},children:[(0,j.jsx)("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"80px",height:"80px",background:"linear-gradient(135deg, rgba(124, 58, 237, 0.05), rgba(168, 85, 247, 0.02))",borderRadius:"50%",filter:"blur(30px)"}}),(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem",position:"relative",zIndex:3,paddingTop:"1.5rem",paddingBottom:"1rem",background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",marginBottom:"1.5rem",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)"},children:[(0,j.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,j.jsx)("img",{src:"/logo/C5i name with Logo.svg",alt:"C5i Logo",style:{height:"60px",width:"auto",filter:"drop-shadow(0 4px 12px rgba(0, 0, 0, 0.2))",transition:"all 0.3s ease",maxWidth:"100%",display:"block",margin:"0 auto"},onError:e=>{console.log("Logo failed to load, trying fallback"),e.target.src="/logo.svg"},onLoad:()=>{console.log("C5i Logo loaded successfully")}})}),(0,j.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:"700",color:"var(--text-dark)",marginBottom:"0.75rem",letterSpacing:"-0.01em"},children:"\ud83c\udfaf Get Instant Ad Insights"}),(0,j.jsx)("p",{style:{color:"var(--text-light)",fontSize:"1rem",lineHeight:"1.5",marginBottom:"1rem"},children:"Complete your profile to unlock advanced Ad analysis"}),(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.05))",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"12px",padding:"1rem",marginBottom:"0.5rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[(0,j.jsx)("span",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#6b21a8"},children:"\ud83d\ude80 You're seconds away from:"}),(0,j.jsx)("span",{style:{fontSize:"0.75rem",background:"rgba(34, 197, 94, 0.1)",color:"#15803d",padding:"0.25rem 0.5rem",borderRadius:"6px",fontWeight:"600"}})]}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("span",{style:{color:"#10b981"},children:"\u2713"}),(0,j.jsx)("span",{children:"Brand Compliance"})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("span",{style:{color:"#10b981"},children:"\u2713"}),(0,j.jsx)("span",{children:"Advanced messaging insights"})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("span",{style:{color:"#10b981"},children:"\u2713"}),(0,j.jsx)("span",{children:"Purchase Intent"})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("span",{style:{color:"#10b981"},children:"\u2713"}),(0,j.jsx)("span",{children:"Channel Compliance & More"})]})]})]})]}),(0,j.jsx)("div",{style:{paddingTop:"0rem"},children:(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return o.fullName.trim()||(e.fullName="Full name is required"),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(e.email="Email is invalid"):e.email="Email is required",o.username.trim()||(e.username="Username is required"),o.companyName.trim()||(e.companyName="Company name is required"),o.companySize||(e.companySize="Company size is required"),o.designation.trim()||(e.designation="Designation is required"),o.sector.trim()||(e.sector="Sector is required"),s(e),0===Object.keys(e).length})()){A(!0);try{const e=(null===r||void 0===r?void 0:r.uid)||localStorage.getItem("incivus_user_id");if(!e)throw new Error("No authenticated user found. Please login first.");const t={fullName:o.fullName,email:o.email,username:o.username,companyName:o.companyName,companySize:o.companySize,designation:o.designation,sector:o.sector,customDesignation:"Custom"===o.designation?o.customDesignation:null,customSector:"Custom"===o.sector?o.customSector:null,authProvider:c?"google":"email",isGoogleUser:c,phoneNumber:(null===r||void 0===r?void 0:r.phoneNumber)||null,photoURL:(null===r||void 0===r?void 0:r.photoURL)||null,isEmailVerified:(null===r||void 0===r?void 0:r.emailVerified)||!1,metadata:{formVersion:"2.0",submissionTime:(new Date).toISOString(),browserInfo:{userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform}}};console.log("\ud83c\udf10 Attempting to send user profile to FastAPI..."),fetch(`${R.A.PYTHON_API_URL}/UserProfileDetails`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,timestamp:(new Date).toISOString(),userProfile:t,metadata:t.metadata})}).then(e=>{if(!e.ok)throw new Error("API response was not ok");return e.json()}).then(e=>{console.log("\u2705 User Profile API success:",e)}).catch(e=>{console.log("\u26a0\ufe0f FastAPI server not available - continuing flow:",e.message)}),localStorage.setItem("incivus_user_profile_complete","true"),localStorage.setItem("incivus_user_profile",JSON.stringify({...o,userId:e,profileSaved:!0})),m(!0),n&&n({...o,userId:e,profileSaved:!0,apiMethod:"user_profile_api"})}catch(t){console.error("\u274c Signup error:",t),s({submit:t.message||"Failed to save registration data. Please try again."}),A(!1)}}},children:[a.submit&&(0,j.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",marginBottom:"1.5rem",color:"#d32f2f",fontSize:"0.9rem"},children:["\u274c ",a.submit]}),(0,j.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,j.jsx)(ue,{label:"Full Name",name:"fullName",value:o.fullName,onChange:y,type:"text",placeholder:"Enter your full name",required:!0,error:a.fullName,helperText:"Your complete name as it should appear on documents",isGoogleUser:c})}),(0,j.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,j.jsx)(ue,{label:"Email Address",name:"email",value:o.email,onChange:y,type:"email",placeholder:"Enter your email address",required:!0,readonly:!1,disabled:!1,error:a.email,helperText:"We'll use this email for account verification and communication",isGoogleUser:c})}),(0,j.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,j.jsx)(ue,{label:"Username",name:"username",value:o.username,onChange:y,type:"text",placeholder:"Enter your username",required:!0,error:a.username,helperText:"Choose a unique username for your account",isGoogleUser:c})}),(0,j.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,j.jsx)(ue,{label:"Company Name",name:"companyName",value:o.companyName,onChange:y,type:"text",placeholder:"Enter your company name",required:!0,error:a.companyName,helperText:"The organization you work for or represent",isGoogleUser:!1})}),(0,j.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,j.jsx)(de,{label:"Company Size",name:"companySize",value:o.companySize,onChange:y,options:["1-10 employees","11-50 employees","51-200 employees","201-500 employees","501-1000 employees","1000+ employees"],required:!0,error:a.companySize,helperText:"Select the size of your organization",placeholder:"",isGoogleUser:!1})}),(0,j.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--text-dark)"},children:"Designation *"}),d?(0,j.jsx)("input",{type:"text",name:"designation",value:o.designation,onChange:y,style:{width:"100%",padding:"0.875rem 1rem",border:a.designation?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.875rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},placeholder:"Enter your custom designation",onFocus:e=>{e.target.style.borderColor="var(--primary-purple)",e.target.style.boxShadow="0 0 0 3px rgba(124, 58, 237, 0.1)"},onBlur:e=>{e.target.style.borderColor=a.designation?"#ef4444":"rgba(255, 255, 255, 0.3)",e.target.style.boxShadow="none"}}):(0,j.jsxs)("select",{name:"designation",value:o.designation,onChange:y,style:{width:"100%",padding:"0.875rem 1rem",border:a.designation?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.875rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},onFocus:e=>{e.target.style.borderColor="var(--primary-purple)",e.target.style.boxShadow="0 0 0 3px rgba(124, 58, 237, 0.1)"},onBlur:e=>{e.target.style.borderColor=a.designation?"#ef4444":"rgba(255, 255, 255, 0.3)",e.target.style.boxShadow="none"},children:[(0,j.jsx)("option",{value:"",children:"Select designation"}),["CEO/Founder","VP of Marketing","Director","Manager","Specialist","Digital Marketing Manager","Brand Manager","Product Manager","Business Development Manager","Sales Director","Proprietor"].map(e=>(0,j.jsx)("option",{value:e,children:e},e))]}),a.designation&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.875rem",marginTop:"0.25rem"},children:a.designation})]}),(0,j.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--text-dark)"},children:"Sector *"}),h?(0,j.jsx)("input",{type:"text",name:"sector",value:o.sector,onChange:y,style:{width:"100%",padding:"0.875rem 1rem",border:a.sector?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.875rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},placeholder:"Enter your custom sector",onFocus:e=>{e.target.style.borderColor="var(--primary-purple)",e.target.style.boxShadow="0 0 0 3px rgba(124, 58, 237, 0.1)"},onBlur:e=>{e.target.style.borderColor=a.sector?"#ef4444":"rgba(255, 255, 255, 0.3)",e.target.style.boxShadow="none"}}):(0,j.jsxs)("select",{name:"sector",value:o.sector,onChange:y,style:{width:"100%",padding:"0.875rem 1rem",border:a.sector?"1px solid #ef4444":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",fontSize:"0.875rem",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5))",backdropFilter:"blur(10px)",transition:"all 0.3s ease",color:"var(--text-dark)"},onFocus:e=>{e.target.style.borderColor="var(--primary-purple)",e.target.style.boxShadow="0 0 0 3px rgba(124, 58, 237, 0.1)"},onBlur:e=>{e.target.style.borderColor=a.sector?"#ef4444":"rgba(255, 255, 255, 0.3)",e.target.style.boxShadow="none"},children:[(0,j.jsx)("option",{value:"",children:"Select sector"}),["Technology","Healthcare","Financial Services","E-commerce","Manufacturing","Education","Real Estate","Food & Beverage","Fashion & Apparel","Automotive","Travel & Tourism","Entertainment","Non-profit","Government","Consulting","Custom"].map(e=>(0,j.jsx)("option",{value:e,children:e},e))]}),a.sector&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.875rem",marginTop:"0.25rem"},children:a.sector})]}),(0,j.jsx)("button",{type:"submit",disabled:l,style:{width:"100%",background:l?"var(--primary-purple)":"linear-gradient(135deg, var(--primary-purple), var(--secondary-purple))",color:"white",padding:"0.875rem",border:"none",borderRadius:"12px",boxShadow:"0 8px 24px rgba(124, 58, 237, 0.3)",fontSize:"1rem",fontWeight:"600",cursor:l?"not-allowed":"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:l?.7:1},onMouseEnter:e=>{l||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 12px 32px rgba(124, 58, 237, 0.4)")},onMouseLeave:e=>{l||(e.target.style.transform="translateY(0px)",e.target.style.boxShadow="0 8px 24px rgba(124, 58, 237, 0.3)")},children:l?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Creating Account..."]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(W,{size:20}),"Complete Registration"]})})]})}),g&&(0,j.jsxs)("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"linear-gradient(135deg, rgba(76, 175, 80, 0.25), rgba(67, 160, 71, 0.15))",backdropFilter:"blur(20px)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",textAlign:"center"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,j.jsx)("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #4caf50, #43a047)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:"\u2705"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{style:{color:"white",fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.25rem"},children:"Registration Successful!"}),(0,j.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem",margin:0},children:"Redirecting to your dashboard..."})]})]}),(0,j.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"20px",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.875rem"},children:[(0,j.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid transparent",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Processing..."]})]})]})]})]})},he=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),fe=k("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),ge=k("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),me=k("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),ye=k("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ve=k("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),be=k("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),we=k("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Se=()=>(0,j.jsxs)("div",{style:{background:"white",border:"2px solid #f59e0b",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,j.jsx)("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",background:"#f59e0b20",borderRadius:"50%",marginBottom:"1rem"},children:(0,j.jsx)(we,{size:40,color:"#f59e0b"})}),(0,j.jsx)("h3",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#f59e0b",marginBottom:"0.5rem"},children:"Enterprise Solutions"}),(0,j.jsx)("p",{style:{color:"#6c757d",fontSize:"1.1rem",marginBottom:"1.5rem"},children:"Tailored for large organizations with custom requirements"})]}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,j.jsxs)("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)(fe,{size:24,color:"#f59e0b",style:{marginBottom:"0.5rem"}}),(0,j.jsx)("h4",{style:{margin:"0 0 0.5rem 0",color:"#2c3e50"},children:"White-label Options"}),(0,j.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#6c757d"},children:"Custom branding and domain options"})]}),(0,j.jsxs)("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)(be,{size:24,color:"#f59e0b",style:{marginBottom:"0.5rem"}}),(0,j.jsx)("h4",{style:{margin:"0 0 0.5rem 0",color:"#2c3e50"},children:"API Access"}),(0,j.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#6c757d"},children:"Full API integration capabilities"})]}),(0,j.jsxs)("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)(ye,{size:24,color:"#f59e0b",style:{marginBottom:"0.5rem"}}),(0,j.jsx)("h4",{style:{margin:"0 0 0.5rem 0",color:"#2c3e50"},children:"Dedicated Support"}),(0,j.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:"#6c757d"},children:"Priority support with dedicated account manager"})]})]}),(0,j.jsxs)("div",{style:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"1.5rem",marginBottom:"1.5rem",textAlign:"center"},children:[(0,j.jsx)("h4",{style:{margin:"0 0 0.5rem 0",color:"#856404"},children:"\ud83d\ude80 Get Started with Enterprise"}),(0,j.jsx)("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"#856404"},children:"Contact our enterprise team to discuss your specific requirements and get a custom quote."}),(0,j.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6c757d"},children:["\u2713 Volume discounts available",(0,j.jsx)("br",{}),"\u2713 Custom features development",(0,j.jsx)("br",{}),"\u2713 On-premise deployment options"]})]})]}),_e=t.memo(e=>{var r,o,i,a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w;let{onPlanSelect:S,preSelectedPlan:_=null,upgradeFeature:B=null}=e;console.log("\ud83c\udfaf PlanStructure: Component rendering with props:",{onPlanSelect:!!S,preSelectedPlan:_,upgradeFeature:B});const{currentUser:C}=z(),[E,x]=(0,t.useState)(_||null),[I,T]=(0,t.useState)([]),[k,U]=(0,t.useState)(1),[F,N]=(0,t.useState)(!1),[P,L]=(0,t.useState)(null),[O,D]=(0,t.useState)(0),[M,Q]=(0,t.useState)(0),[H,V]=(0,t.useState)(!1),K={lite:4,plus:5,pro:11,enterprise:999};(0,t.useEffect)(()=>{(async()=>{if(C)try{const e=await fetch(`${R.A.PYTHON_API_URL}/get-user-profile/${C.uid}`);if(!e.ok)throw new Error("Failed to fetch user profile");const t=(await e.json()).subscription;if(console.log("\ud83c\udfaf PlanStructure - Current user subscription data:",t),t&&t.planType){const e={lite:"lite",plus:"plus",pro:"pro",enterprise:"enterprise",incivus_lite:"lite",incivus_plus:"plus",incivus_pro:"pro"}[t.planType.toLowerCase()],n=Math.max(0,t.adQuota||0),r=t.max_ads_per_month||K[e]||0,o=t.adsUsed||0,i=Math.max(0,r-o),a=n<=0||i<=0;L(e),D(n),Q(i),V(a),console.log("\u2705 PlanStructure - Plan data loaded:",{plan:e,totalRemaining:n,monthlyLimit:r,monthlyUsed:o,monthlyRemainingAds:i,reachedLimits:a})}}catch(e){console.error("\u274c PlanStructure - Error loading user plan data:",e);const t=JSON.parse(localStorage.getItem("incivus_subscription")||"{}"),n=t.planType||t.plan;if(n){const e={lite:"lite",plus:"plus",pro:"pro",enterprise:"enterprise",incivus_lite:"lite",incivus_plus:"plus",incivus_pro:"pro"}[n.toLowerCase()];L(e),D(Math.max(0,t.adQuota||0))}}})()},[C]),(0,t.useEffect)(()=>{const e=e=>{console.log("\ud83d\udd04 PlanStructure - Received subscription update event:",e.detail),C&&e.detail.userId===C.uid&&(console.log("\ud83d\udd04 PlanStructure - Refreshing subscription data after payment..."),L(null))};return window.addEventListener("subscriptionUpdated",e),()=>window.removeEventListener("subscriptionUpdated",e)},[C]),(0,t.useEffect)(()=>{if(B){console.log("\ud83c\udfaf Upgrade feature detected:",B);const e={channel_compliance:"plus",brand_compliance:"lite",messaging_intent:"lite",funnel_compatibility:"lite",resonance_index:"lite"}[B];e&&(x(e),console.log("\u2705 Auto-selected plan for feature:",e)),localStorage.removeItem("incivus_upgrade_feature")}},[B]);const $=[{id:"brand_compliance",name:"Brand Compliance",description:"Ensure your Ads match brand guidelines",icon:(0,j.jsx)(fe,{size:20})},{id:"messaging_intent",name:"Messaging Intent",description:"Analyze message clarity and purpose",icon:(0,j.jsx)(ge,{size:20})},{id:"funnel_compatibility",name:"Funnel Compatibility",description:"Check Ad fit in sales funnel stage",icon:(0,j.jsx)(me,{size:20})},{id:"resonance_index",name:"Resonance Index with Purchase Intent",description:"Measure audience engagement potential",icon:(0,j.jsx)(ye,{size:20})},{id:"channel_compliance",name:"Channel Compliance",description:"Optimize for specific platforms",icon:(0,j.jsx)(ve,{size:20})}],q=["lite","plus","pro","enterprise"],Y={lite:{name:"Incivus_Lite",subtitle:"",validity:"3 months",pricePerAd:5,minOrderQty:10,minCommitment:50,maxAdsPerMonth:4,maxAdsTotal:12,featuresIncluded:4,maxFeatures:4,color:"#28a745",popular:!1,upgradeClickbait:"get all 5 metrics and do more Ads per month"},plus:{name:"Incivus_Plus",subtitle:"",validity:"6 months",pricePerAd:4,minOrderQty:25,minCommitment:100,maxAdsPerMonth:5,maxAdsTotal:30,featuresIncluded:5,maxFeatures:5,color:"#007bff",popular:!0,upgradeClickbait:"get all 5 metrics and do more Ads per month"},pro:{name:"Incivus_Pro",subtitle:"",validity:"12 months",pricePerAd:3.2,minOrderQty:125,minCommitment:400,maxAdsPerMonth:11,maxAdsTotal:132,featuresIncluded:5,maxFeatures:5,color:"#6f42c1",popular:!1,upgradeClickbait:"Unlimited Ads, Managed Support, Professional Services"},enterprise:{name:"Enterprise",subtitle:"Unlimited Ads & Custom Solutions",validity:"Custom",pricePerAd:0,minOrderQty:0,minCommitment:0,maxAdsPerMonth:"Unlimited",maxAdsTotal:"Unlimited",featuresIncluded:5,maxFeatures:5,color:"#f59e0b",popular:!1,external:!0,externalLink:"https://incivus.ai/",upgradeClickbait:"Custom Enterprise Solutions"}},J=(0,t.useMemo)(()=>{if(!E)return 0;const e=Y[E];let t=0;if("lite"===E){const n=e.minOrderQty,r=Math.max(k,n);t=(0,G.yi)(r,e.pricePerAd)}else if("plus"===E){const n=e.minOrderQty,r=Math.max(k,n);t=(0,G.yi)(r,e.pricePerAd)}else if("pro"===E){const n=e.minOrderQty,r=Math.max(k,n);t=(0,G.yi)(r,e.pricePerAd)}return t},[E,k]);return(0,j.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"2rem"},children:[(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[(0,j.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1rem"},children:P?"Upgrade Your Plan":"Choose Your Incivus Plan"}),(0,j.jsx)("p",{style:{fontSize:"1.1rem",color:"#2c3e50",maxWidth:"600px",margin:"0 auto"},children:P?"Upgrade to unlock more features and higher ad limits. Your unused ads will carry forward!":"Select the plan that best fits your advertising analysis needs. Choose your features and Ad quota to get started."}),P&&O>0&&!H&&(0,j.jsxs)("div",{style:{background:"#e8f5e8",border:"2px solid #28a745",borderRadius:"12px",padding:"1rem",margin:"1rem auto",maxWidth:"500px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,j.jsx)(ye,{size:20,color:"#28a745"}),(0,j.jsxs)("div",{style:{color:"#155724",fontWeight:"bold"},children:["You have ",O," unused ads that will carry forward to your new plan!"]})]}),P&&H&&(0,j.jsxs)("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"12px",padding:"1rem",margin:"1rem auto",maxWidth:"500px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,j.jsx)(me,{size:20,color:"#856404"}),(0,j.jsx)("div",{style:{color:"#856404",fontWeight:"bold"},children:O<=0?`${null===(r=Y[P])||void 0===r?void 0:r.name} - All ads used. Choose your current plan to topup or upgrade to continue!`:`${null===(o=Y[P])||void 0===o?void 0:o.name} - Monthly limit reached. Choose your current plan to topup or upgrade for more!`})]})]}),(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem",marginBottom:"3rem"},children:Object.entries((()=>{if(!P)return Y;const e=q.indexOf(P),t={};return q.forEach((n,r)=>{r>=e&&Y[n]&&(t[n]=Y[n])}),console.log("\ud83c\udfaf PlanStructure - Available plans:",{currentUserPlan:P,hasReachedLimits:H,remainingAds:O,monthlyRemaining:M,availablePlans:Object.keys(t)}),t})()).map(e=>{let[t,n]=e;const r=P===t,o=P&&q.indexOf(t)>q.indexOf(P);return(0,j.jsxs)("div",{onClick:()=>(e=>{x(e),T([]),"lite"===e?(U(Y.lite.minOrderQty),N(!0)):"plus"===e?(U(Y.plus.minOrderQty),N(!1),T($.map(e=>e.id))):"pro"===e?(U(Y.pro.minOrderQty),N(!1),T($.map(e=>e.id))):N(!1)})(t),style:{border:r?"3px solid #10b981":E===t?`3px solid ${n.color}`:"2px solid #e9ecef",borderRadius:"12px",padding:"2rem",cursor:"pointer",transition:"all 0.3s ease",background:r?"#f0fdf4":E===t?"#f8f9fa":"white",position:"relative",boxShadow:r?"0 8px 25px #10b98130":E===t?`0 8px 25px ${n.color}30`:"0 4px 6px rgba(0,0,0,0.1)",opacity:1},children:[n.popular&&!r&&(0,j.jsx)("div",{style:{position:"absolute",top:"-10px",right:"20px",background:n.color,color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:"\ud83d\udd25 POPULAR"}),r&&(0,j.jsxs)("div",{style:{position:"absolute",top:"-10px",left:"20px",background:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)(W,{size:12}),"CURRENT PLAN"]}),o&&(0,j.jsx)("div",{style:{position:"absolute",top:"-10px",right:"20px",background:"#f59e0b",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:"\u2b06\ufe0f UPGRADE"}),(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.8rem",fontWeight:"bold",color:n.color,marginBottom:"0.5rem"},children:n.name}),(0,j.jsx)("p",{style:{color:"#2c3e50",marginBottom:"1rem"},children:n.subtitle}),(0,j.jsx)("div",{style:{background:n.color,color:"white",padding:"0.5rem 1rem",borderRadius:"20px",display:"inline-block",fontSize:"0.9rem",fontWeight:"bold"},children:"enterprise"===t?"Custom Solutions":`Valid for ${n.validity}`})]}),(0,j.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,j.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1rem"},children:"Features Included:"}),(0,j.jsxs)("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:n.color},children:"enterprise"===t?"Custom":`${n.featuresIncluded}/5`}),(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50"},children:"Analysis Features"}),(0,j.jsxs)("div",{style:{fontSize:"0.8rem",color:"#6c757d",marginTop:"0.5rem"},children:["Max: ",n.maxAdsPerMonth," Ads/month"]})]})]}),o&&(0,j.jsx)("div",{style:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"0.75rem",marginBottom:"1rem",textAlign:"center"},children:(0,j.jsxs)("div",{style:{fontSize:"0.9rem",color:"#856404",fontWeight:"bold"},children:["\ud83d\ude80 ",n.upgradeClickbait]})}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"1rem",background:r?"#10b981":E===t?n.color:"#f8f9fa",color:r||E===t?"white":"#2c3e50",borderRadius:"8px",fontWeight:"bold"},children:[r||E===t?(0,j.jsx)(W,{size:20}):(0,j.jsx)(be,{size:20}),r?"Current Plan":E===t?"Selected":"Select Plan"]})]},t)})}),"enterprise"===E&&(0,j.jsx)(Se,{}),"lite"===E&&F&&(0,j.jsxs)("div",{style:{background:"#f8f9fa",border:"2px solid #28a745",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#28a745",marginBottom:"1rem",textAlign:"center"},children:"\ud83c\udfaf Select Your 4 Features (One-Time Choice)"}),(0,j.jsx)("p",{style:{textAlign:"center",color:"#2c3e50",marginBottom:"2rem"},children:"Choose 4 out of 5 features. This selection cannot be changed until your subscription renewal."}),(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:$.map(e=>(0,j.jsxs)("div",{onClick:()=>{return t=e.id,void("lite"===E&&T(e=>e.includes(t)?e.filter(e=>e!==t):e.length<4?[...e,t]:e));var t},style:{border:I.includes(e.id)?"2px solid #28a745":"2px solid #e9ecef",borderRadius:"8px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease",background:I.includes(e.id)?"#d4edda":"white",opacity:!I.includes(e.id)&&I.length>=4?.5:1,pointerEvents:!I.includes(e.id)&&I.length>=4?"none":"auto"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.icon,(0,j.jsx)("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",color:I.includes(e.id)?"#28a745":"#2c3e50",margin:0},children:e.name}),I.includes(e.id)&&(0,j.jsx)(W,{size:20,color:"#28a745"})]}),(0,j.jsx)("p",{style:{color:"#2c3e50",fontSize:"0.9rem",margin:0},children:e.description})]},e.id))}),(0,j.jsxs)("div",{style:{textAlign:"center",marginTop:"1.5rem",padding:"1rem",background:4===I.length?"#d4edda":"#fff3cd",border:4===I.length?"1px solid #c3e6cb":"1px solid #ffeaa7",borderRadius:"8px"},children:[(0,j.jsxs)("strong",{children:["Selected: ",I.length,"/4 features"]}),I.length<4&&(0,j.jsxs)("div",{style:{color:"#856404",marginTop:"0.5rem"},children:["Please select ",4-I.length," more feature",4-I.length!==1?"s":""]})]})]}),E&&"enterprise"!==E&&(0,j.jsxs)("div",{style:{background:"white",border:"2px solid #e9ecef",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1rem",textAlign:"center"},children:"\ud83d\udcca Select Number of Ads"}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,j.jsx)("button",{onClick:()=>{var e;return U(Math.max((null===(e=Y[E])||void 0===e?void 0:e.minOrderQty)||1,k-1))},disabled:k<=((null===(i=Y[E])||void 0===i?void 0:i.minOrderQty)||1),style:{background:"#6c757d",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:k<=((null===(a=Y[E])||void 0===a?void 0:a.minOrderQty)||1)?"not-allowed":"pointer",fontSize:"1.2rem"},children:"\u2212"}),(0,j.jsx)("div",{style:{border:"2px solid #e9ecef",borderRadius:"8px",padding:"1rem 2rem",fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",minWidth:"80px",textAlign:"center"},children:k}),(0,j.jsx)("button",{onClick:()=>{var e;const t=(null===(e=Y[E])||void 0===e?void 0:e.maxAdsTotal)||12;k<t&&U(k+1)},disabled:k>=((null===(s=Y[E])||void 0===s?void 0:s.maxAdsTotal)||12),style:{background:k>=((null===(l=Y[E])||void 0===l?void 0:l.maxAdsTotal)||12)?"#ccc":E?null===(A=Y[E])||void 0===A?void 0:A.color:"#ccc",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:k>=((null===(c=Y[E])||void 0===c?void 0:c.maxAdsTotal)||12)?"not-allowed":"pointer",fontSize:"1.2rem"},children:"+"})]}),(0,j.jsxs)("div",{style:{textAlign:"center",color:"#2c3e50"},children:["You can upload and analyze up to ",(0,j.jsx)("strong",{children:k})," Ad",1!==k?"s":"",(0,j.jsx)("br",{}),(0,j.jsxs)("small",{style:{color:"#6c757d",fontSize:"0.85rem"},children:["Max allowed for ",null===(u=Y[E])||void 0===u?void 0:u.name,": ",(0,j.jsxs)("strong",{children:[(null===(d=Y[E])||void 0===d?void 0:d.maxAdsTotal)||12," ads"]})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("small",{style:{color:"#28a745",fontWeight:"bold"},children:["Minimum Order: ",null===(p=Y[E])||void 0===p?void 0:p.minOrderQty," Ads at ",(0,G.vv)(null===(h=Y[E])||void 0===h?void 0:h.pricePerAd),"/Ad",(0,j.jsx)("br",{}),"Min Commitment: ",(0,G.vv)(null===(f=Y[E])||void 0===f?void 0:f.minCommitment)]})]})]}),E&&"enterprise"!==E&&(0,j.jsxs)("div",{style:{background:"#f8f9fa",border:"2px solid #6c757d",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1.5rem",textAlign:"center"},children:"\ud83d\udcb0 Pricing Summary"}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[(0,j.jsxs)("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Plan"}),(0,j.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:E?null===(g=Y[E])||void 0===g?void 0:g.color:"#000"},children:E?null===(m=Y[E])||void 0===m?void 0:m.name:"Select a plan"})]}),(0,j.jsxs)("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Features"}),(0,j.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#2c3e50"},children:["lite"===E?I.length:"5","/5"]})]}),(0,j.jsxs)("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Ad Quota"}),(0,j.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#2c3e50"},children:[k," Ad",1!==k?"s":""]})]}),(0,j.jsxs)("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Validity"}),(0,j.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#2c3e50"},children:E?null===(y=Y[E])||void 0===y?void 0:y.validity:"N/A"})]})]}),(0,j.jsxs)("div",{style:{background:E?null===(v=Y[E])||void 0===v?void 0:v.color:"#ccc",color:"white",padding:"1.5rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Total Amount"}),(0,j.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold"},children:(0,G.vv)(J)}),(0,j.jsxs)("div",{style:{fontSize:"0.9rem",opacity:.9},children:["One-time payment \u2022 Valid for ",E?null===(b=Y[E])||void 0===b?void 0:b.validity:"N/A"]})]})]}),E&&(0,j.jsxs)("div",{style:{textAlign:"center"},children:[(0,j.jsx)("button",{onClick:async()=>{var e,t;if(!E)return void alert("Please select a plan");if("enterprise"===E)return void(window.location.href="https://incivus.ai/");if("lite"===E&&4!==I.length)return void alert("Please select exactly 4 features for Incivus Lite");if(k<1)return void alert("Please select at least 1 Ad");let r=!1,o=!1,i=null;const a=(null===C||void 0===C?void 0:C.uid)||localStorage.getItem("incivus_user_id");if(a)try{const e=await fetch(`${R.A.PYTHON_API_URL}/get-user-profile/${a}`);if(e.ok){i=(await e.json()).subscription,i&&i.planType?"pending"===i.paymentStatus?console.log("\ud83c\udd95 PlanStructure detected NEW subscription (pending payment):",E):i.planType===E?(r=!0,console.log("\ud83d\udd04 PlanStructure detected TOPUP (same plan):",E)):(o=!0,console.log("\u2b06\ufe0f PlanStructure detected UPGRADE:",i.planType,"\u2192",E)):console.log("\ud83c\udd95 PlanStructure detected NEW subscription:",E)}}catch(c){console.warn("\u26a0\ufe0f Could not fetch current subscription in PlanStructure:",c)}const s={planType:E,planName:null===(e=Y[E])||void 0===e?void 0:e.name,features:I,selectedFeatures:I,adQuota:k,max_ads_per_month:K[E]||4,totalPrice:J,validity:null===(t=Y[E])||void 0===t?void 0:t.validity,validityDays:"lite"===E?90:"plus"===E?180:365,subscriptionStartDate:new Date,subscriptionEndDate:new Date(Date.now()+24*("lite"===E?90:"plus"===E?180:365)*60*60*1e3),isTopup:r,isUpgrade:o,currentSubscription:i};try{if(null!==C&&void 0!==C&&C.uid){var l;console.log("her");const{savePlanSelectionDetails:e}=await Promise.resolve().then(n.bind(n,1988));await e(C.uid,{planId:E,planName:null===(l=Y[E])||void 0===l?void 0:l.name,selectedFeatures:I,totalAds:k,max_ads_per_month:K[E]||4,basePrice:Y[E].basePrice||0,additionalAdPrice:Y[E].additionalAdPrice||0,totalPrice:J,validityDays:"lite"===E?90:"plus"===E?180:365,subscriptionStartDate:new Date,subscriptionEndDate:new Date(Date.now()+24*("lite"===E?90:"plus"===E?180:365)*60*60*1e3),isActive:!0,paymentStatus:"pending",paymentId:null,subscriptionType:"new"}),console.log("\u2705 Plan selection saved to database")}}catch(c){console.error("\u274c Error saving plan selection to database:",c);try{var A;localStorage.setItem("incivus_plan_selection_backup",JSON.stringify({planId:E,planName:null===(A=Y[E])||void 0===A?void 0:A.name,selectedFeatures:I,totalAds:k,max_ads_per_month:K[E]||4,totalPrice:J,userId:null===C||void 0===C?void 0:C.uid,timestamp:(new Date).toISOString()})),console.log("\ud83d\udd04 Plan selection saved to localStorage backup")}catch(u){console.error("Failed to save plan selection backup:",u)}}S(s)},disabled:"lite"===E&&4!==I.length,style:{background:"lite"===E&&4!==I.length?"#ccc":E?null===(w=Y[E])||void 0===w?void 0:w.color:"#ccc",color:"white",border:"none",borderRadius:"8px",padding:"1rem 3rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"lite"===E&&4!==I.length?"not-allowed":"pointer",transition:"all 0.3s ease"},children:"enterprise"===E?"\ud83d\ude80 Visit incivus.ai":`Continue to Payment \u2192 ${(0,G.vv)(J)}`}),"lite"===E&&4!==I.length&&(0,j.jsx)("div",{style:{color:"#dc3545",marginTop:"1rem",fontSize:"0.9rem"},children:"Please select exactly 4 features to continue"})]})]})}),Be=_e,Ce=e=>{let{onPlanSelect:n,preSelectedPlan:r=null,onBack:o}=e;const[i,a]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{const e=setTimeout(()=>{console.log("\ud83d\udd04 PlanSelectionPage: Loading complete, showing plans"),a(!1)},50),t=setTimeout(()=>{console.log("\u26a0\ufe0f PlanSelectionPage: Fallback timeout triggered"),a(!1)},2e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]),i?(0,j.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,j.jsx)("div",{style:{width:"50px",height:"50px",border:"4px solid rgba(255,255,255,0.3)",borderTop:"4px solid white",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),(0,j.jsx)("h1",{style:{color:"white",fontSize:"1.5rem",marginBottom:"0.5rem"},children:"Select a Plan"}),(0,j.jsx)("p",{style:{color:"white",fontSize:"1.1rem"},children:"Loading plan options..."}),(0,j.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):(0,j.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"2rem 0"},children:[o&&(0,j.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"0 2rem",marginBottom:"1rem"},children:(0,j.jsxs)("button",{onClick:o,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(10px)"},onMouseOver:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.3)",e.target.style.transform="translateY(-1px)"},onMouseOut:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",e.target.style.transform="translateY(0)"},children:[(0,j.jsx)(he,{size:16}),"Back to Dashboard"]})}),(0,j.jsx)(Be,{onPlanSelect:n||(()=>console.log("\u26a0\ufe0f No onPlanSelect function provided")),preSelectedPlan:r,upgradeFeature:localStorage.getItem("incivus_upgrade_feature")})]})},Ee=k("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xe=k("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ie=k("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Te=k("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),ke=k("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ue=k("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),Fe=k("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Ne=k("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Pe=k("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Re=k("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Le=k("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Oe=k("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),De=k("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Me=k("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Qe=k("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),je=k("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),He=k("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ze=4194304,Ve=1048576,Ke=.8,We=["incivus_analysis_state","incivus_temp_data","incivus_cache_","incivus_old_"],Ge=["incivus_user_profile","incivus_user_profile_details","incivus_subscription","incivus_ads_used","incivus_auth_token"],$e=()=>{let e=0;for(let t in localStorage)localStorage.hasOwnProperty(t)&&(e+=localStorage[t].length+t.length);return e},qe=e=>{const t=localStorage.getItem(e);return t?t.length+e.length:0},Ye=()=>$e()>ze*Ke,Je=()=>{console.log("\ud83e\uddf9 Starting localStorage cleanup...");const e=$e();let t=0,n=0;const r=Object.keys(localStorage),o=[],i=[];r.forEach(e=>{const t=Ge.some(t=>e.includes(t)),n=We.some(t=>e.includes(t));if(t)i.push(e);else if(n){const t=qe(e),n=localStorage.getItem(e);let r=Date.now();try{const e=JSON.parse(n);e.timestamp?r=e.timestamp:e.createdAt&&(r=new Date(e.createdAt).getTime())}catch($u){}o.push({key:e,size:t,timestamp:r,age:Date.now()-r})}}),o.sort((e,t)=>Math.abs(e.age-t.age)>864e5?t.age-e.age:t.size-e.size);for(const l of o){if(!Ye())break;try{localStorage.removeItem(l.key),t++,n+=l.size,console.log(`\ud83d\uddd1\ufe0f Removed ${l.key} (${(l.size/1024).toFixed(1)}KB, ${Math.round(l.age/36e5)}h old)`)}catch(s){console.error(`\u274c Error removing ${l.key}:`,s)}}const a=$e();return console.log(`\u2705 Cleanup complete: ${t} items removed, ${(n/1024).toFixed(1)}KB freed`),console.log(`\ud83d\udcca Storage: ${(e/1024).toFixed(1)}KB \u2192 ${(a/1024).toFixed(1)}KB`),{itemsRemoved:t,spaceFreed:n,sizeBefore:e,sizeAfter:a}},Xe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{compress:r=!0,maxRetries:o=2,essential:i=!1}=n;let a="string"===typeof t?t:JSON.stringify(t);const s=a.length+e.length;if(s>Ve){if(console.warn(`\u26a0\ufe0f Item ${e} is too large (${(s/1024).toFixed(1)}KB), attempting compression...`),r&&"object"===typeof t){const n=Ze(t);a=JSON.stringify(n),console.log(`\ud83d\udddc\ufe0f Compressed ${e}: ${(s/1024).toFixed(1)}KB \u2192 ${(a.length/1024).toFixed(1)}KB`)}if(a.length+e.length>Ve)throw new Error(`Item ${e} is too large even after compression (${((a.length+e.length)/1024).toFixed(1)}KB)`)}let l=0;for(;l<=o;)try{return localStorage.setItem(e,a),console.log(`\ud83d\udcbe Saved ${e} (${(a.length/1024).toFixed(1)}KB)`),!0}catch(A){if("QuotaExceededError"!==A.name)throw A;if(console.warn(`\u26a0\ufe0f Storage quota exceeded for ${e}, attempt ${l+1}/${o+1}`),l<o){if(0===Je().spaceFreed)break;l++}else{if(i)throw A;{const t=tt();if(!t)throw new Error(`Cannot save ${e}: Storage quota exceeded and no items can be cleaned up`);localStorage.removeItem(t.key),console.log(`\ud83d\udea8 Emergency cleanup: removed ${t.key} (${(t.size/1024).toFixed(1)}KB)`),l++}}}return!1},Ze=e=>{if(!e||"object"!==typeof e)return e;const t={...e};return t.filePreview&&t.filePreview.length>1e5&&(t.filePreview=t.filePreview.substring(0,5e4)+"...",t._compressed=!0),t.analysisResults&&(t.analysisResults=et(t.analysisResults)),t.geminiResults&&(t.geminiResults=et(t.geminiResults)),t},et=e=>{if(!e||"object"!==typeof e)return e;const t={...e},n=["brand_compliance_score","messaging_intent_score","funnel_compatibility_score","channel_compliance_score","purchase_intent_score","overall_score","summary"];if(JSON.stringify(e).length>5e4){const t={};return n.forEach(n=>{void 0!==e[n]&&(t[n]=e[n])}),t._compressed=!0,t}return t},tt=()=>{let e=null,t=0;for(let n in localStorage)if(localStorage.hasOwnProperty(n)){if(!Ge.some(e=>n.includes(e))){const r=qe(n);r>t&&(e={key:n,size:r},t=r)}}return e},nt=()=>{console.log("\ud83d\udd27 Initializing storage management...");const e=(()=>{const e=$e(),t=[];for(let n in localStorage)if(localStorage.hasOwnProperty(n)){const e=qe(n),r=Ge.some(e=>n.includes(e));t.push({key:n,size:e,essential:r})}return t.sort((e,t)=>t.size-e.size),{totalSize:e,totalItems:t.length,utilizationPercent:e/ze*100,nearLimit:Ye(),items:t.slice(0,10)}})();console.log(`\ud83d\udcca Storage usage: ${(e.totalSize/1024).toFixed(1)}KB (${e.utilizationPercent.toFixed(1)}%)`),e.nearLimit&&(console.log("\u26a0\ufe0f Storage near limit, performing cleanup..."),Je()),setInterval(()=>{Ye()&&(console.log("\ud83d\udd04 Periodic storage cleanup triggered"),Je())},18e5)},rt=e=>{if(!["image/jpeg","image/jpg","image/png","image/webp","image/svg+xml"].includes(e.type))throw new Error("Invalid file type. Please upload JPG, PNG, WebP, or SVG images.");if(e.size>5242880)throw new Error("File size too large. Please upload images smaller than 5MB.");return!0};var ot,it=n(9232),at=n(9606),st=n(2965),lt=n(1776),At="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ct={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],a=t+(i^n&(o^i))+r[0]+3614090360&4294967295;a=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((o=i+((a=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(o[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,o),i=0;break}}else for(;a<t;)if(o[i++]=e[a++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(a(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var s=i(0),l=i(1),A=i(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function p(e,t){return e.add(d(t))}function h(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new f(s,s);if(u(e))return t=g(d(e),t),new f(d(t.g),d(t.h));if(u(t))return t=g(e,d(t)),new f(d(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=m(n),r=m(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var A=i.add(r);0>=A.l(e)&&(o=o.add(n),i=A),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new f(o,t)}for(o=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),A=(i=a(n)).j(t);u(A)||0<A.l(e);)A=(i=a(n-=r)).j(t);c(i)&&(i=l),o=o.add(i),e=p(e,A)}return new f(o,e)}function m(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],a=0;a<o;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(u(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(u(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=p(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=p(this,e))?-1:c(e)?0:1},e.abs=function(){return u(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var a=o+(65535&this.i(i))+(65535&e.i(i)),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return s;if(u(this))return u(e)?d(this).j(d(e)):d(d(this).j(e));if(u(e))return d(this.j(d(e)));if(0>this.l(A)&&0>e.l(A))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,p=65535&this.i(o),f=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=p*g,h(n,2*o+2*i),n[2*o+2*i+1]+=l*g,h(n,2*o+2*i+1),n[2*o+2*i+1]+=p*f,h(n,2*o+2*i+1),n[2*o+2*i+2]+=l*f,h(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ct.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),o=s,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),A=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),o=o.j(l).add(a(A))):o=(o=o.j(r)).add(a(A))}return o},ot=ct.Integer=r}).apply("undefined"!==typeof At?At:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ut,dt,pt,ht,ft,gt,mt,yt,vt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},bt={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vt&&vt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in o))break e;o=o[a]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,function(e,t){return t})}});var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function A(e,t,n){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function h(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var m=-1!=f().indexOf("Gecko")&&!(-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge"))&&!(-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE"))&&-1==f().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){o.setTimeout(()=>{throw e},0)}function B(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,I=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},k=()=>{const e=o.Promise.resolve(void 0);x=()=>{e.then(U)}};var U=()=>{for(var e;e=B();){try{e.h.call(e.g)}catch(Vl){_(Vl)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function F(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(Vl){}return e}();function R(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(m){e:{try{g(t.nodeName);var o=!0;break e}catch($l){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}u(R,N);var L={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var O="closure_listenable_"+(1e6*Math.random()|0),D=0;function M(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++D,this.da=this.fa=!1}function Q(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function H(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(Q(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}j.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=z(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new M(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),K={};function W(e,t,n,r,o){if(r&&r.once)return $(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)W(e,t[i],n,r,o);return null}return n=te(n),e&&e[O]?e.K(t,n,a(r)?!!r.capture:!!r,o):G(e,t,n,!1,r,o)}function G(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=a(o)?!!o.capture:!!o,l=Z(e);if(l||(e[V]=l=new j(e)),(n=l.add(t,n,r,s,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)$(e,t[i],n,r,o);return null}return n=te(n),e&&e[O]?e.L(t,n,a(r)?!!r.capture:!!r,o):G(e,t,n,!0,r,o)}function q(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)q(e,t[i],n,r,o);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[O]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(i=e.g[t],n,r,o))&&(Q(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,o)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[O])H(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(H(n,e),0==n.h&&(n.src=null,t[V]=null)):Q(e)}}}function J(e){return e in K?K[e]:K[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[V])instanceof j?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){F.call(this),this.i=new j(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var o=t;w(t=new N(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];o=oe(a,r,!0,t)&&o}if(o=oe(a=t.g=e,r,!0,t)&&o,o=oe(a,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(a=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&H(e.i,a),o=!1!==s.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=A(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=A(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ne,F),ne.prototype[O]=!0,ne.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Q(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends F{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){F.call(this),this.h=e,this.g={}}u(le,F);var Ae=[];function ce(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=o.JSON.stringify,de=o.JSON.parse,pe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function he(){}function fe(e){return e.h||(e.h=e.i())}function ge(){}he.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){N.call(this,"d")}function ve(){N.call(this,"c")}u(ye,N),u(ve,N);var be={},we=null;function Se(){return we=we||new ne}function _e(e){N.call(this,be.La,e)}function Be(e){const t=Se();re(t,new _e(t))}function Ce(e,t){N.call(this,be.STAT_EVENT,e),this.stat=t}function Ee(e){const t=Se();re(t,new Ce(t,e))}function xe(e,t){N.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Te(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<o.length;a++)o[a]=""}}}return ue(n)}catch(Xl){return t}}(e,n)+(r?" "+r:"")})}be.La="serverreachability",u(_e,N),be.STAT_EVENT="statevent",u(Ce,N),be.Ma="timingevent",u(xe,N),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ue,Fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}u(Pe,he),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ue=new Pe;var Oe={},De={};function Me(e,t,n){e.L=1,e.v=wt(at(t)),e.m=n,e.P=!0,Qe(e,null)}function Qe(e,t){e.F=Date.now(),ze(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Pt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=Sn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(A(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(Ae[0]=o.toString()),o=Ae);for(var i=0;i<o.length;i++){var a=W(n,o[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Be(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i)for(var a="",s=i.split("&"),l=0;l<s.length;l++){var A=s[l].split("=");if(1<A.length){var c=A[0];A=A[1];var u=c.split("_");a=2<=u.length&&"type"==u[1]?a+(c+"=")+A+"&":a+(c+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function He(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,Ve(e,e.I)}function Ve(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(A(e.ba,e),t)}function Ke(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||mn(e.j,e)}function Ge(e){Ke(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function $e(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Gl){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;gn(n),an(n)}pn(n),Ee(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(A(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(Gl){}n.ca=void 0}}else vn(n,11)}else if((e.K||n.g==e)&&gn(n),!h(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let A=o[t];if(n.T=A[0],A=A[1],2==n.G)if("c"==A[0]){n.K=A[1],n.ia=A[2];const t=A[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=A[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const c=A[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=wn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(Ke(s),ze(s)),r.g=a}else dn(r);0<n.i.length&&ln(n)}else"stop"!=A[0]&&"close"!=A[0]||vn(n,7);else 3==n.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?vn(n,7):on(n):"noop"!=A[0]&&n.l&&n.l.ta(A),n.v=0)}Be()}catch(Gl){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==en(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const d=en(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||tn(this.g)))){this.J||4!=d||7==t||Be(),Ke(this);var n=this.g.Z();this.X=n;t:if(je(this)){var r=tn(this.g);e="";var i=r.length,a=4==en(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var s="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,A=this.g;if((l=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!h(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ee(12),Ge(this),We(this);break e}ke(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$e(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=He(this,s),e==De){4==d&&(this.s=4,Ee(14),n=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(e==Oe){this.s=4,Ee(15),ke(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}ke(this.i,this.l,e,null),$e(this,e)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),hn(u),u.M=!0,Ee(11))}}else ke(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),We(this)}else ke(this.i,this.l,s,null),$e(this,s);4==d&&Ge(this),this.o&&!this.J&&(4==d?mn(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=en(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(h(e[r]))continue;var n=S(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),We(this)}}}catch(nA){}},Re.prototype.cancel=function(){this.J=!0,Ge(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Be(),Ee(17)),Ge(this),this.s=2,We(this)):Ve(this,this.S-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,a=0;a<o;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),At(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,st(this,t[1]||"",!0),this.o=St(t[2]||""),this.g=St(t[3]||"",!0),lt(this,t[4]),this.l=St(t[5]||"",!0),At(this,t[6]||"",!0),this.m=St(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function at(e){return new it(e)}function st(e,t,n){e.j=n?St(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function At(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(Ut(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ft(this,t),Pt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=_t(t,It)),e.i=new kt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function wt(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function St(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _t(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_t(t,Ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(_t(t,Ct,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_t(n,"/"==n.charAt(0)?xt:Et,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",_t(n,Tt)),e.join("")};var Ct=/[#\/\?@]/g,Et=/[#\?:]/g,xt=/[#\?]/g,It=/[#\?@]/g,Tt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ut(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ft(e,t){Ut(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return Ut(e),t=Rt(e,t),e.g.has(t)}function Pt(e,t,n){Ft(e,t),0<n.length&&(e.i=null,e.g.set(Rt(e,t),d(n)),e.h+=n.length)}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Lt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch($l){}}function Ot(){this.g=new pe}function Dt(e,t,n){const r=n||"";try{rt(e,function(e,n){let o=e;a(e)&&(o=ue(e)),t.push(r+n+"="+encodeURIComponent(o))})}catch($u){throw t.push(r+"type="+encodeURIComponent("_badmap")),$u}}function Mt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Qt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Kt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Wt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){Ut(this),this.i=null,e=Rt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ut(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Ut(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){Ut(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(Rt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ut(this),this.i=null,Nt(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")},u(Mt,he),Mt.prototype.g=function(){return new Qt(this.l,this.j)},Mt.prototype.i=function(e){return function(){return e}}({}),u(Qt,ne),(e=Qt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):zt(this),3==this.readyState&&jt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Wt,ne);var Gt=/^https?$/i,$t=["POST","PUT"];function qt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Yt(e),Xt(e)}function Yt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Jt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=en(e)||2!=e.Z()))if(e.u&&4==en(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==en(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(ot)[1]||null;!a&&o.self&&o.self.location&&(a=o.self.location.protocol.slice(0,-1)),i=!Gt.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<en(e)?e.g.statusText:""}catch(Xl){s=""}e.l=s+" ["+e.Z()+"]",Yt(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){Zt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch($u){}}}function Zt(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function en(e){return e.g?e.g.readyState:0}function tn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(eA){return null}}function nn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rn(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nn("baseRetryDelayMs",5e3,e),this.cb=nn("retryDelaySeedMs",1e4,e),this.Wa=nn("forwardChannelMaxRetries",2,e),this.wa=nn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Ot,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(e){if(sn(e),3==e.G){var t=e.U++,n=at(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),cn(e,n),(t=new Re(e,e.j,t)).L=2,t.v=wt(at(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(ql){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}bn(e)}function an(e){e.g&&(hn(e),e.g.cancel(),e.g=null)}function sn(e){an(e),e.u&&(o.clearTimeout(e.u),e.u=null),gn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function ln(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||k(),I||(x(),I=!0),T.add(t,e),e.B=0}}function An(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),cn(e,r),e.m&&e.o&&Kt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=un(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Me(n,r,t)}function cn(e,t){e.H&&y(e.H,function(e,n){ct(t,n,e)}),e.l&&rt({},function(e,n){ct(t,n,e)})}function un(e,t,n){n=Math.min(e.i.length,n);var r=e.l?A(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=o[a].g;const s=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),i=!1;else try{Dt(s,e,"req"+n+"_")}catch(nA){r&&r(s)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function dn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||k(),I||(x(),I=!0),T.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(A(e.Fa,e),yn(e,e.v)),e.v++,!0)}function hn(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function fn(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),cn(e,t),e.m&&e.o&&Kt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=wt(at(t)),n.m=null,n.P=!0,Qe(n,e)}function gn(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function mn(e,t){var n=null;if(e.g==t){gn(e),hn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=Se(),new xe(r,n)),ln(e)}else dn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(A(e.Ga,e,t),yn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:vn(e,5);break;case 4:vn(e,10);break;case 3:vn(e,6);break;default:vn(e,2)}}function yn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function vn(e,t){if(e.j.info("Error code "+t),2==t){var n=A(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||st(r,"https"),wt(r),t?function(e,t){const n=new Te;if(o.Image){const r=new Image;r.onload=c(Lt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Lt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Lt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Lt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout(()=>{n.abort(),Lt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Lt(0,0,!0,t):Lt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Lt(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),bn(e),sn(e)}function bn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function wn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&st(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),cn(e,r),r}function Sn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Wt(new Mt({eb:n})):new Wt(e.pa)).Ha(e.J),t}function _n(){}function Bn(){}function Cn(e,t){ne.call(this),this.g=new rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!h(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!h(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new In(this)}function En(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xn(){ve.call(this),this.status=1}function In(e){this.g=e}(e=Wt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?fe(this.o):fe(Ue),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch($l){return void qt(this,$l)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call($t,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zt(this),this.u=!0,this.g.send(e),this.u=!1}catch($l){qt(this,$l)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Jt(this):this.bb())},e.bb=function(){Jt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<en(this)?this.g.status:-1}catch(jl){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(jl){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=rn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=wn(this,null,this.W),ln(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new Re(this,this.j,e);let i=this.o;if(this.S&&(i?(i=v(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=un(this,o,t),ct(n=at(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),cn(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Vt(i)))+"&"+t:this.m&&Kt(n,this.m,i)),et(this.h,o),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),o.T=!0,Me(o,n,null)):Me(o,n,t),this.G=2}}else 3==this.G&&(e?An(this,e):0==this.i.length||Je(this.h)||An(this))},e.Fa=function(){if(this.u=null,fn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(A(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),an(this),fn(this))},e.Za=function(){null!=this.C&&(this.C=null,an(this),pn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=_n.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Bn.prototype.g=function(e,t){return new Cn(e,t)},u(Cn,ne),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){on(this.g)},Cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ue(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.G&&ln(t)},Cn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Cn.aa.N.call(this)},u(En,ye),u(xn,ve),u(In,_n),In.prototype.ua=function(){re(this.g,"a")},In.prototype.ta=function(e){re(this.g,new En(e))},In.prototype.sa=function(e){re(this.g,new xn)},In.prototype.ra=function(){re(this.g,"b")},Bn.prototype.createWebChannel=Bn.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,yt=bt.createWebChannelTransport=function(){return new Bn},mt=bt.getStatEventTarget=function(){return Se()},gt=bt.Event=be,ft=bt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fe.NO_ERROR=0,Fe.TIMEOUT=8,Fe.HTTP_ERROR=6,ht=bt.ErrorCode=Fe,Ne.COMPLETE="complete",pt=bt.EventType=Ne,ge.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ne.prototype.listen=ne.prototype.K,dt=bt.WebChannel=ge,bt.FetchXmlHttpFactory=Mt,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,ut=bt.XhrIo=Wt}).apply("undefined"!==typeof vt?vt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const wt="@firebase/firestore",St="4.9.0";class _t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");let Bt="12.0.0";const Ct=new st.Vy("@firebase/firestore");function Et(){return Ct.logLevel}function xt(e){if(Ct.logLevel<=st.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(kt);Ct.debug(`Firestore (${Bt}): ${e}`,...o)}}function It(e){if(Ct.logLevel<=st.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(kt);Ct.error(`Firestore (${Bt}): ${e}`,...o)}}function Tt(e){if(Ct.logLevel<=st.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(kt);Ct.warn(`Firestore (${Bt}): ${e}`,...o)}}function kt(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(_c){return e}}function Ut(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Ft(e,r,n)}function Ft(e,t,n){let r=`FIRESTORE (${Bt}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw It(r),new Error(r)}function Nt(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||Ft(t,o,r)}function Pt(e,t){return e}const Rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends lt.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ot{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Dt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_t.UNAUTHENTICATED))}shutdown(){}}class Qt{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Nt(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new Ot;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ot,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ot)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Nt("string"==typeof t.accessToken,31837,{l:t}),new Dt(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e,2055,{h:e}),new _t(e)}}class jt{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ht{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new jt(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vt{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,it.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Nt(void 0===this.o,3512);const n=e=>{null!=e.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,xt("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zt(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Nt("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new zt(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Kt(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Wt{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Kt(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Gt(e,t){return e<t?-1:e>t?1:0}function $t(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return Jt(n)===Jt(o)?Gt(n,o):Jt(n)?1:-1}return Gt(e.length,t.length)}const qt=55296,Yt=57343;function Jt(e){const t=e.charCodeAt(0);return t>=qt&&t<=Yt}function Xt(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Zt="__name__";class en{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ut(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ut(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===en.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof en?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=en.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Gt(e.length,t.length)}static compareSegments(e,t){const n=en.isNumericId(e),r=en.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?en.extractNumericId(e).compare(en.extractNumericId(t)):$t(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ot.fromString(e.substring(4,e.length-2))}}class tn extends en{construct(e,t,n){return new tn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new Lt(Rt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);e.push(...o.split("/").filter(e=>e.length>0))}return new tn(e)}static emptyPath(){return new tn([])}}const nn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends en{construct(e,t,n){return new rn(e,t,n)}static isValidIdentifier(e){return nn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Zt}static keyField(){return new rn([Zt])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Lt(Rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Lt(Rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Lt(Rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new Lt(Rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}class on{constructor(e){this.path=e}static fromPath(e){return new on(tn.fromString(e))}static fromName(e){return new on(tn.fromString(e).popFirst(5))}static empty(){return new on(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new tn(e.slice()))}}function an(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function sn(e,t){const n={typeString:e};return t&&(n.value=t),n}function ln(e,t){if(!an(e))throw new Lt(Rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(o&&typeof a!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(void 0!==i&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Lt(Rt.INVALID_ARGUMENT,n);return!0}const An=-62135596800,cn=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*cn);return new un(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lt(Rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lt(Rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<An)throw new Lt(Rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(Rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cn}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:un._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ln(e,un._jsonSchema))return new un(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-An;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}un._jsonSchemaVersion="firestore/timestamp/1.0",un._jsonSchema={type:sn("string",un._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};class dn{static fromTimestamp(e){return new dn(e)}static min(){return new dn(new un(0,0))}static max(){return new dn(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pn=-1;class hn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}hn.UNKNOWN_ID=-1;function fn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=dn.fromTimestamp(1e9===r?new un(n+1,0):new un(n,r));return new mn(o,on.empty(),t)}function gn(e){return new mn(e.readTime,e.key,pn)}class mn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new mn(dn.min(),on.empty(),pn)}static max(){return new mn(dn.max(),on.empty(),pn)}}function yn(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=on.comparator(e.documentKey,t.documentKey),0!==n?n:Gt(e.largestBatchId,t.largestBatchId))}class vn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class bn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bn((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof bn?t:bn.resolve(t)}catch(e){return bn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):bn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):bn.reject(t)}static resolve(e){return new bn((t,n)=>{t(e)})}static reject(e){return new bn((t,n)=>{n(e)})}static waitFor(e){return new bn((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=bn.resolve(!1);for(const n of e)t=t.next(e=>e?bn.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new bn((n,r)=>{const o=e.length,i=new Array(o);let a=0;for(let s=0;s<o;s++){const l=s;t(e[l]).next(e=>{i[l]=e,++a,a===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new bn((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function wn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sn(e){return"IndexedDbTransactionError"===e.name}class _n{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_n.ce=-1;const Bn=-1;function Cn(e){return null==e}function En(e){return 0===e&&1/e==-1/0}const xn="remoteDocuments",In="owner",Tn="mutationQueues",kn="mutations";const Un="documentMutations",Fn="remoteDocumentsV14",Nn="remoteDocumentGlobal",Pn="targets",Rn="targetDocuments",Ln="targetGlobal",On="collectionParents",Dn="clientMetadata",Mn="bundles",Qn="namedQueries",jn="indexConfiguration",Hn="indexState",zn="indexEntries",Vn="documentOverlays",Kn="globals",Wn=[Tn,kn,Un,xn,Pn,In,Ln,Rn,Dn,Nn,On,Mn,Qn],Gn=[Tn,kn,Un,Fn,Pn,In,Ln,Rn,Dn,Nn,On,Mn,Qn,Vn],$n=Gn,qn=[...$n,jn,Hn,zn];function Yn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Jn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Zn{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new Zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new er(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new er(this.root,e,this.comparator,!1)}getReverseIterator(){return new er(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new er(this.root,e,this.comparator,!0)}}class er{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:tr.RED,this.left=null!=r?r:tr.EMPTY,this.right=null!=o?o:tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new tr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return tr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1,tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nr{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rr(this.data.getIterator())}getIteratorFrom(e){return new rr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof nr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nr(this.comparator);return t.data=e,t}}class rr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class or{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new or([])}unionWith(e){let t=new nr(rn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xt(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ir extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ir("Invalid base64 string: "+e):e}}(e);return new ar(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const sr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(e){if(Nt(!!e,39018),"string"==typeof e){let t=0;const n=sr.exec(e);if(Nt(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ar(e.seconds),nanos:Ar(e.nanos)}}function Ar(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cr(e){return"string"==typeof e?ar.fromBase64String(e):ar.fromUint8Array(e)}const ur="server_timestamp",dr="__type__",pr="__previous_value__",hr="__local_write_time__";function fr(e){const t=(e?.mapValue?.fields||{})[dr]?.stringValue;return t===ur}function gr(e){const t=e.mapValue.fields[pr];return fr(t)?gr(t):t}function mr(e){const t=lr(e.mapValue.fields[hr].timestampValue);return new un(t.seconds,t.nanos)}const yr="(default)";class vr{constructor(e,t){this.projectId=e,this.database=t||yr}static empty(){return new vr("","")}get isDefaultDatabase(){return this.database===yr}isEqual(e){return e instanceof vr&&e.projectId===this.projectId&&e.database===this.database}}const br="__type__",wr="__max__",Sr={mapValue:{fields:{__type__:{stringValue:wr}}}},_r="__vector__",Br="value";function Cr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fr(e)?4:Dr(e)?9007199254740991:Lr(e)?10:11:Ut(28295,{value:e})}function Er(e,t){if(e===t)return!0;const n=Cr(e);if(n!==Cr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mr(e).isEqual(mr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=lr(e.timestampValue),r=lr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return cr(e.bytesValue).isEqual(cr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ar(e.geoPointValue.latitude)===Ar(t.geoPointValue.latitude)&&Ar(e.geoPointValue.longitude)===Ar(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ar(e.integerValue)===Ar(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ar(e.doubleValue),r=Ar(t.doubleValue);return n===r?En(n)===En(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xt(e.arrayValue.values||[],t.arrayValue.values||[],Er);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Yn(n)!==Yn(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Er(n[o],r[o])))return!1;return!0}(e,t);default:return Ut(52216,{left:e})}}function xr(e,t){return void 0!==(e.values||[]).find(e=>Er(e,t))}function Ir(e,t){if(e===t)return 0;const n=Cr(e),r=Cr(t);if(n!==r)return Gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gt(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ar(e.integerValue||e.doubleValue),r=Ar(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tr(e.timestampValue,t.timestampValue);case 4:return Tr(mr(e),mr(t));case 5:return $t(e.stringValue,t.stringValue);case 6:return function(e,t){const n=cr(e),r=cr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Gt(n[o],r[o]);if(0!==e)return e}return Gt(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Gt(Ar(e.latitude),Ar(t.latitude));return 0!==n?n:Gt(Ar(e.longitude),Ar(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return kr(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},o=n[Br]?.arrayValue,i=r[Br]?.arrayValue,a=Gt(o?.values?.length||0,i?.values?.length||0);return 0!==a?a:kr(o,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Sr.mapValue&&t===Sr.mapValue)return 0;if(e===Sr.mapValue)return 1;if(t===Sr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=$t(r[a],i[a]);if(0!==e)return e;const t=Ir(n[r[a]],o[i[a]]);if(0!==t)return t}return Gt(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function Tr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gt(e,t);const n=lr(e),r=lr(t),o=Gt(n.seconds,r.seconds);return 0!==o?o:Gt(n.nanos,r.nanos)}function kr(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Ir(n[o],r[o]);if(e)return e}return Gt(n.length,r.length)}function Ur(e){return Fr(e)}function Fr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=lr(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return cr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return on.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Fr(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+=`${o}:${Fr(e.fields[o])}`;return n+"}"}(e.mapValue):Ut(61005,{value:e})}function Nr(e){return!!e&&"integerValue"in e}function Pr(e){return!!e&&"arrayValue"in e}function Rr(e){return!!e&&"mapValue"in e}function Lr(e){const t=(e?.mapValue?.fields||{})[br]?.stringValue;return t===_r}function Or(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Jn(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Or(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Or(e.arrayValue.values[n]);return t}return{...e}}function Dr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wr}class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Or(t)}setAll(e){let t=rn.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Or(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Rr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Rr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Jn(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Mr(Or(this.value))}}class Qr{constructor(e,t,n,r,o,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Qr(e,0,dn.min(),dn.min(),dn.min(),Mr.empty(),0)}static newFoundDocument(e,t,n,r){return new Qr(e,1,t,dn.min(),n,r,0)}static newNoDocument(e,t){return new Qr(e,2,t,dn.min(),dn.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new Qr(e,3,t,dn.min(),dn.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jr{constructor(e,t){this.position=e,this.inclusive=t}}function Hr(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],a=e.position[o];if(r=i.field.isKeyField()?on.comparator(on.fromName(a.referenceValue),n.key):Ir(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function zr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Er(e.position[n],t.position[n]))return!1;return!0}class Vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wr{}class Gr extends Wr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new to(e,t,n):"array-contains"===t?new io(e,n):"in"===t?new ao(e,n):"not-in"===t?new so(e,n):"array-contains-any"===t?new lo(e,n):new Gr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new no(e,n):new ro(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ir(t,this.value)):null!==t&&Cr(this.value)===Cr(t)&&this.matchesComparison(Ir(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends Wr{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new $r(e,t)}matches(e){return qr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qr(e){return"and"===e.op}function Yr(e){return Jr(e)&&qr(e)}function Jr(e){for(const t of e.filters)if(t instanceof $r)return!1;return!0}function Xr(e){if(e instanceof Gr)return e.field.canonicalString()+e.op.toString()+Ur(e.value);if(Yr(e))return e.filters.map(e=>Xr(e)).join(",");{const t=e.filters.map(e=>Xr(e)).join(",");return`${e.op}(${t})`}}function Zr(e,t){return e instanceof Gr?function(e,t){return t instanceof Gr&&e.op===t.op&&e.field.isEqual(t.field)&&Er(e.value,t.value)}(e,t):e instanceof $r?function(e,t){return t instanceof $r&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Zr(n,t.filters[r]),!0)}(e,t):void Ut(19439)}function eo(e){return e instanceof Gr?function(e){return`${e.field.canonicalString()} ${e.op} ${Ur(e.value)}`}(e):e instanceof $r?function(e){return e.op.toString()+" {"+e.getFilters().map(eo).join(" ,")+"}"}(e):"Filter"}class to extends Gr{constructor(e,t,n){super(e,t,n),this.key=on.fromName(n.referenceValue)}matches(e){const t=on.comparator(e.key,this.key);return this.matchesComparison(t)}}class no extends Gr{constructor(e,t){super(e,"in",t),this.keys=oo("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ro extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=oo("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oo(e,t){return(t.arrayValue?.values||[]).map(e=>on.fromName(e.referenceValue))}class io extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pr(t)&&xr(t.arrayValue,this.value)}}class ao extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xr(this.value.arrayValue,t)}}class so extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(xr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!xr(this.value.arrayValue,t)}}class lo extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>xr(this.value.arrayValue,e))}}class Ao{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=a,this.Te=null}}function co(e){return new Ao(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function uo(e){const t=Pt(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Xr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Cn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ur(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ur(e)).join(",")),t.Te=e}return t.Te}function po(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Zr(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zr(e.startAt,t.startAt)&&zr(e.endAt,t.endAt)}class ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fo(e,t,n,r,o,i,a,s){return new ho(e,t,n,r,o,i,a,s)}function go(e){return new ho(e)}function mo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yo(e){return null!==e.collectionGroup}function vo(e){const t=Pt(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new nr(rn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Vr(r,n))}),e.has(rn.keyField().canonicalString())||t.Ie.push(new Vr(rn.keyField(),n))}return t.Ie}function bo(e){const t=Pt(e);return t.Ee||(t.Ee=wo(t,vo(e))),t.Ee}function wo(e,t){if("F"===e.limitType)return co(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Vr(e.field,t)});const n=e.endAt?new jr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new jr(e.startAt.position,e.startAt.inclusive):null;return co(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function So(e,t,n){return new ho(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _o(e,t){return po(bo(e),bo(t))&&e.limitType===t.limitType}function Bo(e){return`${uo(bo(e))}|lt:${e.limitType}`}function Co(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>eo(e)).join(", ")}]`),Cn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ur(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ur(e)).join(",")),`Target(${t})`}(bo(e))}; limitType=${e.limitType})`}function Eo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):on.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vo(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vo(e),t))}(e,t)}function xo(e){return(t,n)=>{let r=!1;for(const o of vo(e)){const e=Io(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Io(e,t,n){const r=e.field.isKeyField()?on.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Ir(r,o):Ut(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:e.dir})}}class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jn(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return Xn(this.inner)}size(){return this.innerSize}}const ko=new Zn(on.comparator);function Uo(){return ko}const Fo=new Zn(on.comparator);function No(){let e=Fo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function Po(e){let t=Fo;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ro(){return Oo()}function Lo(){return Oo()}function Oo(){return new To(e=>e.toString(),(e,t)=>e.isEqual(t))}new Zn(on.comparator);const Do=new nr(on.comparator);function Mo(){let e=Do;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const Qo=new nr(Gt);function jo(){return Qo}function Ho(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:En(t)?"-0":t}}function zo(e){return{integerValue:""+e}}class Vo{constructor(){this._=void 0}}function Ko(e,t,n){return e instanceof $o?function(e,t){const n={fields:{[dr]:{stringValue:ur},[hr]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fr(t)&&(t=gr(t)),t&&(n.fields[pr]=t),{mapValue:n}}(n,t):e instanceof qo?Yo(e,t):e instanceof Jo?Xo(e,t):function(e,t){const n=Go(e,t),r=ei(n)+ei(e.Ae);return Nr(n)&&Nr(e.Ae)?zo(r):Ho(e.serializer,r)}(e,t)}function Wo(e,t,n){return e instanceof qo?Yo(e,t):e instanceof Jo?Xo(e,t):n}function Go(e,t){return e instanceof Zo?function(e){return Nr(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class $o extends Vo{}class qo extends Vo{constructor(e){super(),this.elements=e}}function Yo(e,t){const n=ti(t);for(const r of e.elements)n.some(e=>Er(e,r))||n.push(r);return{arrayValue:{values:n}}}class Jo extends Vo{constructor(e){super(),this.elements=e}}function Xo(e,t){let n=ti(t);for(const r of e.elements)n=n.filter(e=>!Er(e,r));return{arrayValue:{values:n}}}class Zo extends Vo{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ei(e){return Ar(e.integerValue||e.doubleValue)}function ti(e){return Pr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ri(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class oi{}function ii(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new hi(e.key,ni.none()):new Ai(e.key,e.data,ni.none());{const n=e.data,r=Mr.empty();let o=new nr(rn.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new ci(e.key,r,new or(o.toArray()),ni.none())}}function ai(e,t,n){e instanceof Ai?function(e,t,n){const r=e.value.clone(),o=di(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ci?function(e,t,n){if(!ri(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=di(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(ui(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function si(e,t,n,r){return e instanceof Ai?function(e,t,n,r){if(!ri(e.precondition,t))return n;const o=e.value.clone(),i=pi(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof ci?function(e,t,n,r){if(!ri(e.precondition,t))return n;const o=pi(e.fieldTransforms,r,t),i=t.data;return i.setAll(ui(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return ri(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function li(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xt(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qo&&t instanceof qo||e instanceof Jo&&t instanceof Jo?Xt(e.elements,t.elements,Er):e instanceof Zo&&t instanceof Zo?Er(e.Ae,t.Ae):e instanceof $o&&t instanceof $o}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ai extends oi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ci extends oi{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ui(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function di(e,t,n){const r=new Map;Nt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],a=i.transform,s=t.data.field(i.field);r.set(i.field,Wo(a,s,n[o]))}return r}function pi(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,Ko(e,i,t))}return r}class hi extends oi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fi{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ai(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=si(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=si(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Lo();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=t.has(r.key)?null:a;const s=ii(i,a);null!==s&&n.set(r.key,s),i.isValidDocument()||i.convertToNoDocument(dn.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mo())}isEqual(e){return this.batchId===e.batchId&&Xt(this.mutations,e.mutations,(e,t)=>li(e,t))&&Xt(this.baseMutations,e.baseMutations,(e,t)=>li(e,t))}}class gi{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var mi,yi;function vi(e){if(void 0===e)return It("GRPC error has no .code"),Rt.UNKNOWN;switch(e){case mi.OK:return Rt.OK;case mi.CANCELLED:return Rt.CANCELLED;case mi.UNKNOWN:return Rt.UNKNOWN;case mi.DEADLINE_EXCEEDED:return Rt.DEADLINE_EXCEEDED;case mi.RESOURCE_EXHAUSTED:return Rt.RESOURCE_EXHAUSTED;case mi.INTERNAL:return Rt.INTERNAL;case mi.UNAVAILABLE:return Rt.UNAVAILABLE;case mi.UNAUTHENTICATED:return Rt.UNAUTHENTICATED;case mi.INVALID_ARGUMENT:return Rt.INVALID_ARGUMENT;case mi.NOT_FOUND:return Rt.NOT_FOUND;case mi.ALREADY_EXISTS:return Rt.ALREADY_EXISTS;case mi.PERMISSION_DENIED:return Rt.PERMISSION_DENIED;case mi.FAILED_PRECONDITION:return Rt.FAILED_PRECONDITION;case mi.ABORTED:return Rt.ABORTED;case mi.OUT_OF_RANGE:return Rt.OUT_OF_RANGE;case mi.UNIMPLEMENTED:return Rt.UNIMPLEMENTED;case mi.DATA_LOSS:return Rt.DATA_LOSS;default:return Ut(39323,{code:e})}}(yi=mi||(mi={}))[yi.OK=0]="OK",yi[yi.CANCELLED=1]="CANCELLED",yi[yi.UNKNOWN=2]="UNKNOWN",yi[yi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yi[yi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yi[yi.NOT_FOUND=5]="NOT_FOUND",yi[yi.ALREADY_EXISTS=6]="ALREADY_EXISTS",yi[yi.PERMISSION_DENIED=7]="PERMISSION_DENIED",yi[yi.UNAUTHENTICATED=16]="UNAUTHENTICATED",yi[yi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yi[yi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yi[yi.ABORTED=10]="ABORTED",yi[yi.OUT_OF_RANGE=11]="OUT_OF_RANGE",yi[yi.UNIMPLEMENTED=12]="UNIMPLEMENTED",yi[yi.INTERNAL=13]="INTERNAL",yi[yi.UNAVAILABLE=14]="UNAVAILABLE",yi[yi.DATA_LOSS=15]="DATA_LOSS";new ot([4294967295,4294967295],0);Error;class bi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wi(e){return Nt(!!e,49232),dn.fromTimestamp(function(e){const t=lr(e);return new un(t.seconds,t.nanos)}(e))}function Si(e,t){const n=function(e){return new tn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function _i(e){const t=tn.fromString(e);return Nt(Ti(t),10190,{key:t.toString()}),t}function Bi(e){const t=_i(e);return 4===t.length?tn.emptyPath():Ci(t)}function Ci(e){return Nt(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ei(e){let t=Bi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Nt(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=xi(e);return t instanceof $r&&Yr(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Vr(Ii(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Cn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jr(n,t)}(n.startAt));let A=null;return n.endAt&&(A=function(e){const t=!e.before,n=e.values||[];return new jr(n,t)}(n.endAt)),fo(t,o,a,i,s,"F",l,A)}function xi(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ii(e.unaryFilter.field);return Gr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ii(e.unaryFilter.field);return Gr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ii(e.unaryFilter.field);return Gr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ii(e.unaryFilter.field);return Gr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(e):void 0!==e.fieldFilter?function(e){return Gr.create(Ii(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $r.create(e.compositeFilter.filters.map(e=>xi(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(e.compositeFilter.op))}(e):Ut(30097,{filter:e})}function Ii(e){return rn.fromServerFormat(e.fieldPath)}function Ti(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ki{constructor(e){this.yt=e}}function Ui(e){const t=Ei({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?So(t,t.limit,"L"):t}class Fi{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ar(e.integerValue));else if("doubleValue"in e){const n=Ar(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),En(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=lr(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(cr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Dr(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Lr(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ut(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=Br,o=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Ar(o)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),on.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Fi.Kt=new Fi;class Ni{constructor(){this.Cn=new Pi}addToCollectionParentIndex(e,t){return this.Cn.add(t),bn.resolve()}getCollectionParents(e,t){return bn.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return bn.resolve()}deleteFieldIndex(e,t){return bn.resolve()}deleteAllFieldIndexes(e){return bn.resolve()}createTargetIndexes(e,t){return bn.resolve()}getDocumentsMatchingTarget(e,t){return bn.resolve(null)}getIndexType(e,t){return bn.resolve(0)}getFieldIndexes(e,t){return bn.resolve([])}getNextCollectionGroupToUpdate(e){return bn.resolve(null)}getMinOffset(e,t){return bn.resolve(mn.min())}getMinOffsetFromCollectionGroup(e,t){return bn.resolve(mn.min())}updateCollectionGroup(e,t,n){return bn.resolve()}updateIndexEntries(e,t){return bn.resolve()}}class Pi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nr(tn.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new nr(tn.comparator)).toArray()}}new Uint8Array(0);const Ri=41943040;class Li{static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(Ri,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class Oi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oi(0)}static cr(){return new Oi(-1)}}const Di=1048576;class Mi{constructor(){this.changes=new To(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?bn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qi{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ji{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&si(n.mutation,e,or.empty(),un.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Mo()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mo();const r=Ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=No();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ro();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Mo()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=Uo();const i=Oo(),a=Oo();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ci)?o=o.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),si(a.mutation,t,a.mutation.getFieldMask(),un.now())):i.set(t.key,or.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>a.set(e,new Qi(t,i.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=Oo();let r=new Zn((e,t)=>e-t),o=Mo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||or.empty();a=o.applyToLocalView(i,a),n.set(e,a);const s=(r.get(o.batchId)||Mo()).add(e);r=r.insert(o.batchId,s)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,A=Lo();l.forEach(e=>{if(!o.has(e)){const r=ii(t.get(e),n.get(e));null!==r&&A.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,s,A))}return bn.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return on.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):bn.resolve(Ro());let a=pn,s=o;return i.next(t=>bn.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),o.get(t)?bn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,s,t,Mo())).next(e=>({batchId:a,changes:Po(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new on(t)).next(e=>{let t=No();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=No();return this.indexManager.getCollectionParents(e,o).next(a=>bn.forEach(a,a=>{const s=function(e,t){return new ho(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qr.newInvalidDocument(r)))});let n=No();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&si(i.mutation,r,or.empty(),un.now()),Eo(t,r)&&(n=n.insert(e,r))}),n})}}class Hi{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return bn.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wi(e.createTime)}}(t)),bn.resolve()}getNamedQuery(e,t){return bn.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Ui(e.bundledQuery),readTime:wi(e.readTime)}}(t)),bn.resolve()}}class zi{constructor(){this.overlays=new Zn(on.comparator),this.qr=new Map}getOverlay(e,t){return bn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ro();return bn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),bn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),bn.resolve()}getOverlaysForCollection(e,t,n){const r=Ro(),o=t.length+1,i=new on(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return bn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new Zn((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Ro(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ro(),s=o.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return bn.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new gi(t,n));let o=this.qr.get(t);void 0===o&&(o=Mo(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class Vi{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return bn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,bn.resolve()}}class Ki{constructor(){this.Qr=new nr(Wi.$r),this.Ur=new nr(Wi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Wi(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Wi(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new on(new tn([])),n=new Wi(t,e),r=new Wi(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new on(new tn([])),n=new Wi(t,e),r=new Wi(t,e+1);let o=Mo();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new Wi(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Wi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return on.comparator(e.key,t.key)||Gt(e.Yr,t.Yr)}static Kr(e,t){return Gt(e.Yr,t.Yr)||on.comparator(e.key,t.key)}}class Gi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nr(Wi.$r)}checkEmpty(e){return bn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new fi(o,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new Wi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return bn.resolve(i)}lookupMutationBatch(e,t){return bn.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return bn.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return bn.resolve(0===this.mutationQueue.length?Bn:this.tr-1)}getAllMutationBatches(e){return bn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Wi(t,0),r=new Wi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),bn.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nr(Gt);return t.forEach(e=>{const t=new Wi(e,0),r=new Wi(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),bn.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;on.isDocumentKey(o)||(o=o.child(""));const i=new Wi(new on(o),0);let a=new nr(Gt);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),bn.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Nt(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return bn.forEach(t.mutations,r=>{const o=new Wi(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Wi(t,0),r=this.Zr.firstAfterOrEqual(n);return bn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,bn.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $i{constructor(e){this.ri=e,this.docs=new Zn(on.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return bn.resolve(n?n.document.mutableCopy():Qr.newInvalidDocument(t))}getEntries(e,t){let n=Uo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qr.newInvalidDocument(e))}),bn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Uo();const i=t.path,a=new on(i.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||yn(gn(a),n)<=0||(r.has(a.key)||Eo(t,a))&&(o=o.insert(a.key,a.mutableCopy()))}return bn.resolve(o)}getAllFromCollectionGroup(e,t,n,r){Ut(9500)}ii(e,t){return bn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new qi(this)}getSize(e){return bn.resolve(this.size)}}class qi extends Mi{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),bn.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Yi{constructor(e){this.persistence=e,this.si=new To(e=>uo(e),po),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.oi=0,this._i=new Ki,this.targetCount=0,this.ai=Oi.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),bn.resolve()}getLastRemoteSnapshotVersion(e){return bn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bn.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),bn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),bn.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Oi(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,bn.resolve()}updateTargetData(e,t){return this.Pr(t),bn.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,bn.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),bn.waitFor(o).next(()=>r)}getTargetCount(e){return bn.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return bn.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),bn.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),bn.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),bn.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return bn.resolve(n)}containsKey(e,t){return bn.resolve(this._i.containsKey(t))}}class Ji{constructor(e,t){this.ui={},this.overlays={},this.ci=new _n(0),this.li=!1,this.li=!0,this.hi=new Vi,this.referenceDelegate=e(this),this.Pi=new Yi(this),this.indexManager=new Ni,this.remoteDocumentCache=function(e){return new $i(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new ki(t),this.Ii=new Hi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Gi(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){xt("MemoryPersistence","Starting transaction:",e);const r=new Xi(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return bn.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Xi extends vn{constructor(e){super(),this.currentSequenceNumber=e}}class Zi{constructor(e){this.persistence=e,this.Ri=new Ki,this.Vi=null}static mi(e){return new Zi(e)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),bn.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),bn.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),bn.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bn.forEach(this.fi,n=>{const r=on.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,dn.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return bn.or([()=>bn.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ea{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Mo(),r=Mo();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new ea(e,t.fromCache,n,r)}}class ta{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class na{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,lt.nr)()?8:wn((0,lt.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new ta;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Et()<=st.$b.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),bn.resolve()):(Et()<=st.$b.DEBUG&&xt("QueryEngine","Query:",Co(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Et()<=st.$b.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bo(t))):bn.resolve())}ys(e,t){if(mo(t))return bn.resolve(null);let n=bo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=So(t,null,"F"),n=bo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=Mo(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,So(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return mo(t)||r.isEqual(dn.min())?bn.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?bn.resolve(null):(Et()<=st.$b.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Co(t)),this.vs(e,i,t,fn(r,pn)).next(e=>e))})}Ds(e,t){let n=new nr(xo(e));return t.forEach((t,r)=>{Eo(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return Et()<=st.$b.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ps.getDocumentsMatchingQuery(e,t,mn.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ra="LocalStore";class oa{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Zn(Gt),this.xs=new To(e=>uo(e),po),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ji(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ia(e,t,n,r){return new oa(e,t,n,r)}async function aa(e,t){const n=Pt(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let a=Mo();for(const e of r){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}class sa{constructor(){this.activeTargetIds=jo()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class la{constructor(){this.Mo=new sa,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sa,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Aa{Oo(e){}shutdown(){}}const ca="ConnectivityMonitor";class ua{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xt(ca,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xt(ca,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let da=null;function pa(){return null===da?da=268435456+Math.round(2147483648*Math.random()):da++,"0x"+da.toString(16)}const ha="RestConnection",fa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ga{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===yr?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,o){const i=pa(),a=this.zo(e,t.toUriEncodedString());xt(ha,`Sending RPC '${e}' ${i}:`,a,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,o);const{host:l}=new URL(a),A=(0,lt.zJ)(l);return this.Jo(e,a,s,n,A).then(t=>(xt(ha,`Received RPC '${e}' ${i}: `,t),t),t=>{throw Tt(ha,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=fa[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class ma{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ya="WebChannelConnection";class va extends ga{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=pa();return new Promise((o,a)=>{const s=new ut;s.setWithCredentials(!0),s.listenOnce(pt.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case ht.NO_ERROR:const t=s.getResponseJson();xt(ya,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case ht.TIMEOUT:xt(ya,`RPC '${e}' ${i} timed out`),a(new Lt(Rt.DEADLINE_EXCEEDED,"Request time out"));break;case ht.HTTP_ERROR:const n=s.getStatus();if(xt(ya,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rt).indexOf(t)>=0?t:Rt.UNKNOWN}(t.status);a(new Lt(e,t.message))}else a(new Lt(Rt.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Lt(Rt.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:e,streamId:i,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{xt(ya,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);xt(ya,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=pa(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yt(),a=mt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const A=o.join("");xt(ya,`Creating RPC '${e}' stream ${r}: ${A}`,s);const c=i.createWebChannel(A,s);this.I_(c);let u=!1,d=!1;const p=new ma({Yo:t=>{d?xt(ya,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(u||(xt(ya,`Opening RPC '${e}' stream ${r} transport.`),c.open(),u=!0),xt(ya,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Zo:()=>c.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(c,dt.EventType.OPEN,()=>{d||(xt(ya,`RPC '${e}' stream ${r} transport opened.`),p.o_())}),h(c,dt.EventType.CLOSE,()=>{d||(d=!0,xt(ya,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(c))}),h(c,dt.EventType.ERROR,t=>{d||(d=!0,Tt(ya,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.a_(new Lt(Rt.UNAVAILABLE,"The operation could not be completed")))}),h(c,dt.EventType.MESSAGE,t=>{if(!d){const n=t.data[0];Nt(!!n,16349);const o=n,i=o?.error||o[0]?.error;if(i){xt(ya,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=mi[e];if(void 0!==t)return vi(t)}(t),o=i.message;void 0===n&&(n=Rt.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),d=!0,p.a_(new Lt(n,o)),c.close()}else xt(ya,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}}),h(a,gt.STAT_EVENT,t=>{t.stat===ft.PROXY?xt(ya,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ft.NOPROXY&&xt(ya,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ba(){return"undefined"!=typeof document?document:null}function wa(e){return new bi(e,!0)}class Sa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&xt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class _a{}class Ba extends _a{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Lt(Rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,a]=o;return this.connection.Go(e,Si(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lt(Rt.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Ho(e,Si(t,n),r,a,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lt(Rt.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Ca{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(It(t),this.aa=!1):xt("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class xa{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ka(this)&&(xt(Ea,"Restarting streams for network reachability change."),await async function(e){const t=Pt(e);t.Ea.add(4),await Ta(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Ia(t)}(this))})}),this.Ra=new Ca(n,r)}}async function Ia(e){if(ka(e))for(const t of e.da)await t(!0)}async function Ta(e){for(const t of e.da)await t(!1)}function ka(e){return 0===Pt(e).Ea.size}async function Ua(e,t){const n=Pt(e);t?(n.Ea.delete(2),await Ia(n)):t||(n.Ea.add(2),await Ta(n),n.Ra.set("Unknown"))}class Fa{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,a=new Fa(e,t,i,r,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(Rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Na{constructor(){this.queries=Pa(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Pt(e),r=n.queries;n.queries=Pa(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Lt(Rt.ABORTED,"Firestore shutting down"))}}function Pa(){return new To(e=>Bo(e),_o)}function Ra(e){e.Ca.forEach(e=>{e.next()})}var La,Oa;(Oa=La||(La={})).Ma="default",Oa.Cache="cache";const Da="SyncEngine";class Ma{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new To(e=>Bo(e),_o),this.Iu=new Map,this.Eu=new Set,this.du=new Zn(on.comparator),this.Au=new Map,this.Ru=new Ki,this.Vu={},this.mu=new Map,this.fu=Oi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function Qa(e,t,n){const r=Pt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=Pt(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&Ra(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ja(e,t,n){const r=Pt(e),o=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{a.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?"current":"not-current")}if(e){o.push(e);const t=ea.As(s.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(o),await async function(e,t){const n=Pt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>bn.forEach(t,t=>bn.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>bn.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Sn(e))throw e;xt(ra,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function Ha(e,t){const n=Pt(e);if(!n.currentUser.isEqual(t)){xt(Da,"User change. New user:",t.toKey());const e=await aa(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Lt(Rt.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ja(n,e.Ls)}}class za{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wa(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ia(this.persistence,new na,e.initialUser,this.serializer)}Cu(e){return new Ji(Zi.mi,this.serializer)}Du(e){return new la}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}za.provider={build:()=>new za};class Va{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qa(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ha.bind(null,this.syncEngine),await Ua(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Na}createDatastore(e){const t=wa(e.databaseInfo.databaseId),n=function(e){return new va(e)}(e.databaseInfo);return function(e,t,n,r){return new Ba(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new xa(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>Qa(this.syncEngine,e,0),ua.v()?new ua:new Aa)}createSyncEngine(e,t){return function(e,t,n,r,o,i,a){const s=new Ma(e,t,n,r,o,i);return a&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=Pt(e);xt(Ea,"RemoteStore shutting down."),t.Ea.add(5),await Ta(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Va.provider={build:()=>new Va};function Ka(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Wa=new Map,Ga="firestore.googleapis.com",$a=!0;class qa{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Lt(Rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ga,this.ssl=$a}else this.host=e.host,this.ssl=e.ssl??$a;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ri;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Di)throw new Lt(Rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Lt(Rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ka(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Lt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Lt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Lt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ya{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qa({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(Rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lt(Rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qa(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mt;switch(e.type){case"firstParty":return new Ht(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Lt(Rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wa.get(e);t&&(xt("ComponentProvider","Removing Datastore"),Wa.delete(e),t.terminate())}(this),Promise.resolve()}}class Ja{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class Xa{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xa(this.firestore,e,this._key)}toJSON(){return{type:Xa._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ln(t,Xa._jsonSchema))return new Xa(e,n||null,new on(tn.fromString(t.referencePath)))}}Xa._jsonSchemaVersion="firestore/documentReference/1.0",Xa._jsonSchema={type:sn("string",Xa._jsonSchemaVersion),referencePath:sn("string")};class Za extends Ja{constructor(e,t,n){super(e,t,go(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xa(this.firestore,null,new on(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}const es="AsyncQueue";class ts{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sa(this,"async_queue_retry"),this._c=()=>{const e=ba();e&&xt(es,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ba();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ba();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ot;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch($u){if(!Sn($u))throw $u;xt(es,"Operation failed with retryable error: "+$u)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,It("INTERNAL UNHANDLED ERROR: ",ns(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Fa.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ut(47125,{Pc:ns(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ns(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class rs extends Ya{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ts,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ts(e),this._firestoreClient=void 0,await e}}}class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(ar.fromBase64String(e))}catch(e){throw new Lt(Rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new os(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ln(e,os._jsonSchema))return os.fromBase64String(e.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:sn("string",os._jsonSchemaVersion),bytes:sn("string")};class is{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Lt(Rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class as{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lt(Rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lt(Rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(ln(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:sn("string",as._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};class ss{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ln(e,ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ss(e.vectorValues);throw new Lt(Rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:sn("string",ss._jsonSchemaVersion),vectorValues:sn("object")};const ls=new RegExp("[~\\*/\\[\\]]");function As(e,t,n){if(t.search(ls)>=0)throw cs(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new is(...t.split("."))._internalPath}catch(r){throw cs(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cs(e,t,n,r,o){const i=r&&!r.isEmpty(),a=void 0!==o;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${o}`),l+=")"),new Lt(Rt.INVALID_ARGUMENT,s+e+l)}class us{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ds(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ps("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ds extends us{data(){return super.data()}}function ps(e,t){return"string"==typeof t?As(e,t):t instanceof is?t._internalPath:t._delegate._internalPath}class hs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fs extends us{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ps("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Lt(Rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",fs._jsonSchema={type:sn("string",fs._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class gs extends fs{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ms{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hs(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new gs(this._firestore,this._userDataWriter,n.key,n,new hs(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lt(Rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new gs(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hs(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new gs(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hs(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:ys(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Lt(Rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ms._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wt.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ys(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:e})}}ms._jsonSchemaVersion="firestore/querySnapshot/1.0",ms._jsonSchema={type:sn("string",ms._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bt=e}(it.MF),(0,it.om)(new at.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),a=new rs(new Qt(e.getProvider("auth-internal")),new Vt(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lt(Rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vr(e.options.projectId,t)}(i,r),i);return o={useFetchStreams:t,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,it.KO)(wt,St,e),(0,it.KO)(wt,St,"esm2020")}();const vs=R.A.PYTHON_API_URL,bs=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=`${vs}${e}`;console.log(`\ud83c\udf10 API Call: ${t.method||"GET"} ${n}`);const r=await fetch(n,{headers:{Accept:"application/json",...t.headers},...t});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const o=r.headers.get("content-type");return o&&o.includes("application/json")?await r.json():await r.text()}catch(n){throw console.error(`\u274c API Error for ${e}:`,n),n}},ws=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("\ud83d\ude80 submitAnalysisRequest called with adTitle:",e.adTitle),console.log("\ud83d\udd0d Full analysisData object:",e);const r=new FormData;r.append("userId",e.userId),r.append("brandId",e.brandId),r.append("timestamp",e.timestamp||(new Date).toISOString()),r.append("messageIntent",e.messageIntent||""),r.append("funnelStage",e.funnelStage||""),r.append("channels",JSON.stringify(e.channels||[])),r.append("source",e.source||"frontend"),r.append("clientId",e.clientId||""),r.append("artifacts",JSON.stringify(e.artifacts||{})),r.append("adTitle",e.adTitle||""),console.log("\ud83d\udce4 Added adTitle to FormData:",e.adTitle||"(empty)"),r.append("mediaFile",t),n&&r.append("logoFile",n),console.log("\ud83d\udce4 Sending analysis request to backend...");const o=await bs("/postAnalysisDetailsFormData",{method:"POST",body:r});return console.log("\u2705 Analysis request completed"),o},Ss=async e=>await bs(`/get-user-analysis-history/${e}`),_s=e=>{let{onOptimizationChange:t}=e;return(0,j.jsx)("div",{style:{marginBottom:"2rem"},children:(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",padding:"1.5rem",borderRadius:"12px",color:"white",position:"relative"},children:[(0,j.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:(0,j.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udcc4 Upload Tips for Better Performance"})}),(0,j.jsx)("div",{style:{fontSize:"0.875rem",lineHeight:"1.6"},children:(0,j.jsxs)("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:[(0,j.jsx)("li",{style:{marginBottom:"0.5rem"},children:"Use PNG for logos with transparency"}),(0,j.jsx)("li",{style:{marginBottom:"0.5rem"},children:"Use JPG for photos and complex images"}),(0,j.jsx)("li",{style:{marginBottom:"0.5rem"},children:"Keep files under 2MB for faster upload"}),(0,j.jsx)("li",{style:{marginBottom:"0.5rem"},children:"SVG files are uploaded without compression"}),(0,j.jsx)("li",{style:{marginBottom:"0.5rem"},children:"Multiple small files upload faster than few large files"})]})})]})})},Bs=e=>{let{onSave:n,setUserFlow:r,onInputFieldClick:o=()=>{},hasActiveSubscription:i=!0,showAnalyzeButton:a=!1}=e;const{currentUser:s}=z(),[l,A]=(0,t.useState)({brandName:"",tagline:"",brandDescription:"",logos:[],primaryColor:"#F05A28",secondaryColor:"#000000",accentColor:"#FFFFFF",toneOfVoice:[],customTone:""}),[c,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(0),[h,f]=(0,t.useState)({}),[g,m]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),[S,_]=(0,t.useState)({autoCompress:!0,quality:.85,maxWidth:1200,maxHeight:1200});(0,t.useEffect)(()=>(console.log("\ud83c\udfaf EnhancedBrandSetup component mounted/remounted"),()=>{console.log("\ud83d\udd04 EnhancedBrandSetup component unmounting")}),[]),(0,t.useEffect)(()=>{console.log("\ud83d\udd0d Brand data state changed:",{colors:{primary:l.primaryColor,secondary:l.secondaryColor,accent:l.accentColor},loadingState:c,hasUser:!(null===s||void 0===s||!s.uid)})},[l.primaryColor,l.secondaryColor,l.accentColor,c,s]),(0,t.useEffect)(()=>{l.toneOfVoice&&"string"===typeof l.toneOfVoice&&(console.log("\ud83d\udd04 Migrating toneOfVoice from string to array format"),A(e=>({...e,toneOfVoice:[e.toneOfVoice]})))},[l.toneOfVoice]);(0,t.useEffect)(()=>{console.log("\ud83c\udfaf Tone of Voice changed:",l.toneOfVoice),console.log("\ud83c\udfaf Tone of Voice type:",typeof l.toneOfVoice),console.log("\ud83c\udfaf Tone of Voice isArray:",Array.isArray(l.toneOfVoice)),l.toneOfVoice&&l.toneOfVoice.length>3&&console.warn("\u26a0\ufe0f More than 3 tones selected, this should not happen")},[l.toneOfVoice]);(0,t.useEffect)(()=>{console.log("\ud83d\ude80 Data loading useEffect triggered for user:",null===s||void 0===s?void 0:s.uid);(async()=>{if(null!==s&&void 0!==s&&s.uid){console.log("\ud83d\udce5 Starting to load brand data for user:",s.uid);try{u(!0);const t=await Q(s.uid);if(t){var e;console.log("\ud83d\udd0d Raw brand data from database:",t);const n=t.colors?{primaryColor:t.colors.primary||t.primaryColor||"#F05A28",secondaryColor:t.colors.secondary||t.secondaryColor||"#000000",accentColor:t.colors.accent||t.accentColor||"#FFFFFF"}:{primaryColor:t.primaryColor||"#F05A28",secondaryColor:t.secondaryColor||"#000000",accentColor:t.accentColor||"#FFFFFF"},r=Array.isArray(t.toneOfVoice)?[...new Set(t.toneOfVoice)]:t.toneOfVoice?[t.toneOfVoice]:[],o=(null===(e=t.mediaFiles)||void 0===e?void 0:e.filter(e=>"logo"===e.mediaType))||[];console.log("\ud83d\udd0d Found logo mediaFiles:",o.length,o);const i=(t.logos||o||[]).map(e=>"string"===typeof e?{url:e,preview:e,uploaded:!0,name:"Logo"}:e&&"object"===typeof e?{...e,preview:e.preview||e.url||e.downloadURL||e.base64Data,url:e.url||e.downloadURL||e.base64Data,uploaded:!0}:e).filter(Boolean);console.log("\ud83d\uddbc\ufe0f Processed logos:",i),A(e=>({...e,brandName:t.brandName||"",tagline:t.tagline||"",brandDescription:t.description||t.brandDescription||"",...n,toneOfVoice:r,customTone:t.customTone||"",logos:i})),console.log("\ud83d\udccb Loaded existing brand data:",t),console.log("\ud83c\udfa8 Processed colors:",n),console.log("\ud83d\udde3\ufe0f Processed tone of voice:",r)}}catch(t){console.error("\u274c Error loading brand data:",t)}finally{u(!1)}}else console.log("\u26a0\ufe0f No current user, skipping data load")})()},[s]);const B=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Array.from(e.target.files);if(0!==n.length)try{f(e=>({...e,logos:""})),m("Updating files...");const e=[],o=[];for(const t of n)try{rt(t),e.push(t)}catch(r){o.push(`${t.name}: ${r.message}`)}if(o.length>0&&f(e=>({...e,logos:o.join(", ")})),0===e.length)return void m("");m(`Updating ${e.length} files...`);const i=e.map(async(t,n)=>{m(`Generating preview ${n+1}/${e.length}...`);const r=await(e=>new Promise((t,n)=>{if(e.type.startsWith("image/"))if(e.size>2097152){const r=document.createElement("canvas"),o=r.getContext("2d"),i=new Image;i.onload=()=>{let{width:n,height:a}=i;n>300&&(a=300*a/n,n=300),r.width=n,r.height=a,o.drawImage(i,0,0,n,a),t({type:"image",name:e.name,size:e.size,fileType:e.type,preview:r.toDataURL(e.type,.7)})},i.onerror=n,i.src=URL.createObjectURL(e)}else{const r=new FileReader;r.onload=n=>{t({type:"image",name:e.name,size:e.size,fileType:e.type,preview:n.target.result})},r.onerror=n,r.readAsDataURL(e)}else t({type:"file",name:e.name,size:e.size,fileType:e.type})}))(t);return{file:t,preview:r.preview,name:t.name,size:t.size,uploaded:!1,url:null}}),a=await Promise.all(i);A(e=>{if(null!==t){const n=[...e.logos];return n[t]=a[0],{...e,logos:n}}return{...e,logos:[...e.logos,...a]}}),m(`\u2705 ${a.length} files ready for upload!`),console.log("\ud83d\udcf7 Added",a.length,"logo files for upload"),setTimeout(()=>m(""),2e3)}catch(r){f(e=>({...e,logos:r.message})),m("")}},C=async e=>{const t=l.logos[e];if(t.uploaded&&t.storagePath)try{await(async e=>(console.log("\ud83d\uddd1\ufe0f Delete file called for:",e),!0))(t.storagePath),console.log("\ud83d\uddd1\ufe0f Deleted logo from storage:",t.name)}catch(n){console.error("\u274c Error deleting logo from storage:",n)}A(t=>({...t,logos:t.logos.filter((t,n)=>n!==e)})),console.log("\ud83d\uddd1\ufe0f Logo removed from brand data:",t.name)},E=(e,t)=>{A(n=>({...n,[e]:t})),console.log("\ud83c\udfa8 Color changed:",e,t)},x=(e,t)=>{A(n=>({...n,[e]:t})),f(t=>({...t,[e]:""}))},I=e=>{switch(e){case"brandName":A(e=>({...e,brandName:""}));break;case"tagline":A(e=>({...e,tagline:""}));break;case"brandDescription":A(e=>({...e,brandDescription:""}));break;case"primaryColor":A(e=>({...e,primaryColor:"#F05A28"}));break;case"secondaryColor":A(e=>({...e,secondaryColor:"#000000"}));break;case"accentColor":A(e=>({...e,accentColor:"#FFFFFF"}));break;case"toneOfVoice":A(e=>({...e,toneOfVoice:[]}));break;case"logos":A(e=>({...e,logos:[]}))}w(null)},T=()=>{const e={};l.brandName.trim()||(e.brandName="Brand name is required"),l.primaryColor||(e.primaryColor="Primary color is required");return 0===(Array.isArray(l.toneOfVoice)?l.toneOfVoice:[]).length&&(e.toneOfVoice="Please select at least one tone of voice"),f(e),0===Object.keys(e).length};return c&&0===l.logos.length&&!a?(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",flexDirection:"column",gap:"1rem"},children:[(0,j.jsx)(N,{size:40,style:{animation:"spin 1s linear infinite"}}),(0,j.jsx)("p",{style:{color:"var(--text-light)"},children:"Loading brand setup..."})]}):(0,j.jsxs)("div",{style:{padding:"2rem",maxWidth:"900px",margin:"0 auto",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(124, 58, 237, 0.06)",boxShadow:"0 8px 32px rgba(124, 58, 237, 0.08), 0 1px 3px rgba(124, 58, 237, 0.1)"},children:[(0,j.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,j.jsx)("h2",{style:{color:"#5b21b6",fontSize:"1.75rem",fontWeight:"700",margin:0},children:"Enhanced Brand Setup"}),(0,j.jsxs)("button",{type:"button",onClick:async()=>{if(null!==s&&void 0!==s&&s.uid)try{u(!0),localStorage.removeItem("incivus_brand_config"),localStorage.removeItem("incivus_brand_cache"),console.log("\ud83d\udd04 Force reloading brand data...");const e=await Q(s.uid);if(e){console.log("\ud83d\udd04 Force reload - Raw brand data from database:",e);const t=e.colors?{primaryColor:e.colors.primary||e.primaryColor||"#F05A28",secondaryColor:e.colors.secondary||e.secondaryColor||"#000000",accentColor:e.colors.accent||e.accentColor||"#FFFFFF"}:{primaryColor:e.primaryColor||"#F05A28",secondaryColor:e.secondaryColor||"#000000",accentColor:e.accentColor||"#FFFFFF"},n=Array.isArray(e.toneOfVoice)?e.toneOfVoice:e.toneOfVoice?[e.toneOfVoice]:[];A(r=>({...r,brandName:e.brandName||"",tagline:e.tagline||"",brandDescription:e.description||e.brandDescription||"",...t,toneOfVoice:n,customTone:e.customTone||"",logos:e.logos||[]})),console.log("\ud83d\udd04 Force reloaded brand data:",e),console.log("\ud83c\udfa8 Processed colors:",t),console.log("\ud83d\udde3\ufe0f Processed tone of voice:",n)}}catch(e){console.error("\u274c Error force reloading brand data:",e)}finally{u(!1)}},disabled:c,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:c?"#9ca3af":"#f3f4f6",color:c?"#ffffff":"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"500",cursor:c?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>{c||(e.target.style.background="#e5e7eb")},onMouseOut:e=>{c||(e.target.style.background="#f3f4f6")},children:[(0,j.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,j.jsx)("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),(0,j.jsx)("path",{d:"M21 3v5h-5"}),(0,j.jsx)("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),(0,j.jsx)("path",{d:"M3 21v-5h5"})]}),c?"Loading...":"Refresh Data"]})]}),(0,j.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"1rem",margin:0},children:"Configure your complete brand identity with multiple logos, colors, and tone of voice"})]}),g&&(0,j.jsxs)("div",{style:{padding:"1rem",marginBottom:"2rem",backgroundColor:g.includes("\u2705")?"#e8f5e8":"#fff3cd",border:"1px solid "+(g.includes("\u2705")?"#c3e6c3":"#ffeaa7"),borderRadius:"8px",color:g.includes("\u2705")?"#2d5a2d":"#856404",display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.includes("\u2705")?(0,j.jsx)(Re,{size:16}):(0,j.jsx)(Le,{size:16}),g,d>0&&d<100&&(0,j.jsx)("div",{style:{marginLeft:"1rem",flex:1,backgroundColor:"#e9ecef",borderRadius:"4px",overflow:"hidden"},children:(0,j.jsx)("div",{style:{width:`${d}%`,height:"8px",backgroundColor:"#007bff",transition:"width 0.3s ease"}})})]}),(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("Submit button clicked - starting save process"),a){if(!T())return;console.log("\ud83d\udccb Analyze Ad clicked - saving brand data first before redirect")}if(!T())return;const t=(null===s||void 0===s?void 0:s.uid)||localStorage.getItem("incivus_user_id")||localStorage.getItem("incivus_firebase_uid");if(console.log("\ud83d\udd0d User ID Detection:",{"currentUser?.uid":null===s||void 0===s?void 0:s.uid,"localStorage incivus_user_id":localStorage.getItem("incivus_user_id"),"localStorage incivus_firebase_uid":localStorage.getItem("incivus_firebase_uid"),finalUserId:t,currentUser:s}),!t)return void f({submit:"User not authenticated. Please log out and log back in."});const r=setTimeout(()=>{u(!1),m("\u26a0\ufe0f Save timeout - please try again"),f({submit:"Save operation timed out. Please check your connection and try again."})},6e4);try{var o,i;u(!0),f({}),m("\ud83d\udd04 Starting save process..."),p(0),console.log("\ud83c\udfaf Save process started for user:",t),console.log("\ud83d\udcca Brand data to save:",{brandName:l.brandName,logosCount:l.logos.length,colors:{primary:l.primaryColor,secondary:l.secondaryColor},toneOfVoice:l.toneOfVoice});const e=l.logos.filter(e=>!e.uploaded&&e.file);let d=l.logos.filter(e=>e.uploaded);if(console.log(`\ud83d\udce4 Found ${e.length} logos to upload, ${d.length} already uploaded`),e.length>0){m(`\ud83d\udce4 Uploading ${e.length} logos...`);const n=e.map(e=>e.file);console.log("\ud83d\ude80 Starting logo upload for user:",t),console.log("\ud83d\udce6 Files to upload:",n.map(e=>({name:e.name,size:e.size})));const r=(e=>{const t={canUse:!0,issues:[],totalSize:0};return e.forEach(e=>{t.totalSize+=e.size,e.size>1048576&&(t.canUse=!1,t.issues.push(`${e.name} is too large (${(e.size/1024/1024).toFixed(2)}MB > 1MB)`)),e.type.startsWith("image/")||(t.canUse=!1,t.issues.push(`${e.name} is not an image (Base64 only supports images)`))}),t})(n);if(!r.canUse)throw new Error(`Files too large for current storage: ${r.issues.join(", ")}. Please use files under 1MB or upgrade Firebase billing.`);console.log("\ud83d\udd04 Using Base64 storage alternative (no Firebase billing needed)")}m("\ud83d\udcbe Saving brand data to database..."),console.log("\ud83d\udcbe Starting database save for user:",t);const h={brandName:l.brandName,tagline:l.tagline,brandDescription:l.brandDescription,logos:l.logos,logoFiles:(null===(o=l.logos)||void 0===o?void 0:o.map(e=>e.file).filter(Boolean))||[],primaryColor:l.primaryColor,secondaryColor:l.secondaryColor,accentColor:l.accentColor,colorPalette:[l.primaryColor,l.secondaryColor,l.accentColor].filter(e=>e&&""!==e.trim()),toneOfVoice:l.toneOfVoice,customTone:Array.isArray(l.toneOfVoice)&&l.toneOfVoice.includes("Custom")?l.customTone:null,lastUpdated:new Date,completedAt:new Date,userId:t,debug:{savedAt:(new Date).toISOString(),authMethod:s?"currentUser":"localStorage"}};console.log("\ud83d\udccb Final brand data to save:",h),console.log("\ud83d\udd0d Debug - logos array:",l.logos),console.log("\ud83d\udd0d Debug - logoFiles array:",h.logoFiles),console.log("\ud83d\udd0d Debug - logoFiles length:",null===(i=h.logoFiles)||void 0===i?void 0:i.length),m("\ud83d\udce6 Creating FormData for brand setup..."),console.log("\ud83d\udce6 Creating FormData for enhanced brand setup with original logo files...");const g=l.logos.filter(e=>e.file instanceof File);console.log("\ud83d\udcc2 Original logo files found:",g.length),g.forEach((e,t)=>{console.log(`\ud83d\udcc1 Logo ${t}:`,{name:e.file.name,size:e.file.size,type:e.file.type,isFile:e.file instanceof File})});const y=function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new FormData;return o.append("userId",t),o.append("timestamp",(new Date).toISOString()),o.append("brandName",e.brandName||""),o.append("tagline",e.tagline||""),o.append("brandDescription",e.brandDescription||""),o.append("industryCategory",e.industryCategory||""),o.append("targetAudience",e.targetAudience||""),o.append("primaryColor",e.primaryColor||"#F05A28"),o.append("secondaryColor",e.secondaryColor||"#000000"),o.append("accentColor",e.accentColor||"#FFFFFF"),o.append("colorPalette",JSON.stringify([e.primaryColor,e.secondaryColor,e.accentColor].filter(Boolean))),o.append("toneOfVoice","Custom"===e.toneOfVoice?e.customTone:e.toneOfVoice),o.append("customTone",e.customTone||""),o.append("communicationStyle",e.communicationStyle||""),o.append("brandVoice",e.brandVoice||""),o.append("keyMessages",JSON.stringify(e.keyMessages||[])),e.logos&&Array.isArray(e.logos)&&(console.log("\ud83d\udd0d createBrandSetupFormData - Processing logos:",e.logos.length),e.logos.forEach((e,t)=>{e&&e.file instanceof File&&(console.log(`\ud83d\udd0d createBrandSetupFormData - Adding logo_${t}:`,e.file.name,e.file.size),o.append(`logo_${t}`,e.file,e.name||`logo_${t}`),o.append(`logo_${t}_metadata`,JSON.stringify({name:e.name,size:e.size,preview:e.preview,uploaded:e.uploaded})))}),o.append("logoCount",e.logos.length.toString())),o.append("isComplete","true"),o.append("completionPercentage","100"),o.append("lastUpdated",(new Date).toISOString()),o.append("dataVersion","1.0"),o.append("source","brand-setup-form"),o.append("apiEndpoint","branddata-form"),o.append("submissionSource","brand-setup-page"),o.append("systemMetadata",JSON.stringify({submissionTime:(new Date).toISOString(),logoCount:(null===(n=e.logos)||void 0===n?void 0:n.length)||0,hasCustomTone:"Custom"===e.toneOfVoice,...r})),o}({...l,logos:g},t,{logoCount:(null===g||void 0===g?void 0:g.length)||0,hasCustomTone:Array.isArray(l.toneOfVoice)&&l.toneOfVoice.includes("Custom"),submissionSource:"enhanced-brand-setup-page",metadata:{formVersion:"2.0",submissionTime:(new Date).toISOString(),browserInfo:{userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform}}});console.log("\ud83d\udd0d ENHANCED BRAND SETUP FORMDATA CONTENTS:"),console.log("=".repeat(50));for(let[t,n]of y.entries())n instanceof File?console.log(`\ud83d\udcc1 ${t}: File(${n.name}, ${n.size} bytes, ${n.type})`):console.log(`\ud83d\udcdd ${t}: ${n}`);console.log("=".repeat(50)),console.log("\ud83c\udf10 Attempting to send brand data to FastAPI...");let v=null;console.log("API hit for the brand setup form data");try{const e=await fetch(`${R.A.PYTHON_API_URL}/branddata-form`,{method:"POST",body:y});if(!e.ok)throw new Error(`HTTP ${e.status}`);{const t=await e.json();console.log("\u2705 Brand Setup API success:",t),t.brand_id&&(v=t.brand_id,console.log("\ud83c\udd94 Brand ID received from FastAPI:",v),localStorage.setItem("incivus_brand_id",v))}}catch(c){console.log("\u26a0\ufe0f FastAPI server not available - continuing with local save:",c.message)}v&&(h.fastApiBrandId=v,console.log("\ud83d\udcdd Adding FastAPI brand_id to Firebase data:",v)),m("\ud83d\udcbe Saving to database..."),console.log("\ud83d\udd04 Calling saveBrandData function for user:",t),await M(t,h),console.log("\u2705 saveBrandData completed successfully for user:",t),A(e=>({...e,logos:d})),clearTimeout(r),m("\u2705 Brand setup saved successfully!"),localStorage.setItem("incivus_brand_setup_complete","true"),localStorage.setItem("incivus_brand_config",JSON.stringify(h)),localStorage.setItem("incivus_brand_config_timestamp",(new Date).toISOString()),localStorage.removeItem("incivus_brand_cache"),localStorage.removeItem("incivus_old_brand_config"),n&&n(a?{...h,redirectToAnalysis:!0}:h),console.log("\ud83c\udf89 Complete brand setup save process finished successfully for user:",t)}catch(c){console.error("\u274c Detailed error saving brand setup:",{error:c,message:c.message,stack:c.stack,code:c.code,userId:t,currentUser:s}),clearTimeout(r),f({submit:`Save failed: ${c.message||"Unknown error"}. User ID: ${t}. Check console for details.`}),m("\u274c Save failed - check console for details")}finally{u(!1),p(0),setTimeout(()=>{m("")},g.includes("\u2705")?5e3:1e4)}},children:[(0,j.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"1rem",fontSize:"1.25rem",fontWeight:"600"},children:"\ud83d\udcdd Brand Information"}),(0,j.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"1fr 1fr"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--text-dark)"},children:"Brand Name *"}),(0,j.jsx)("input",{type:"text",value:l.brandName,onChange:e=>x("brandName",e.target.value),style:{width:"100%",padding:"0.75rem",border:h.brandName?"1px solid #ef4444":"1px solid var(--border-gray)",borderRadius:"6px",fontSize:"1rem"},placeholder:"Enter your brand name"}),h.brandName&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.875rem",marginTop:"0.25rem"},children:h.brandName})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--text-dark)"},children:"Tagline"}),(0,j.jsx)("input",{type:"text",value:l.tagline,onChange:e=>x("tagline",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-gray)",borderRadius:"6px",fontSize:"1rem"},placeholder:"Your brand tagline"})]})]}),(0,j.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--text-dark)"},children:"Brand Description"}),(0,j.jsx)("textarea",{value:l.brandDescription,onChange:e=>x("brandDescription",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-gray)",borderRadius:"6px",fontSize:"1rem",minHeight:"80px",resize:"vertical"},placeholder:"Describe your brand, values, and what makes it unique..."})]})]}),(0,j.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"1rem",fontSize:"1.25rem",fontWeight:"600"},children:"\ud83c\udfa8 Brand Logos"}),(0,j.jsx)(_s,{onOptimizationChange:_}),(0,j.jsxs)("div",{style:{border:"2px dashed var(--border-gray)",borderRadius:"8px",padding:"2rem",textAlign:"center",cursor:"pointer",transition:"border-color 0.2s",backgroundColor:"var(--very-light-purple)",marginBottom:"1rem"},onClick:()=>document.getElementById("logo-upload").click(),children:[(0,j.jsx)(Oe,{size:40,style:{color:"var(--text-muted)",marginBottom:"0.5rem"}}),(0,j.jsx)("p",{style:{color:"var(--text-dark)",marginBottom:"0.25rem"},children:"Click to upload brand logos"}),(0,j.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"0.875rem"},children:"PNG, JPG, WebP, SVG up to 5MB each. Images will be optimized for faster upload."})]}),(0,j.jsx)("input",{id:"logo-upload",type:"file",accept:"image/*",multiple:!0,onChange:B,style:{display:"none"}}),l.logos.length>0&&(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem",marginTop:"1rem"},children:l.logos.map((e,t)=>(0,j.jsxs)("div",{style:{position:"relative",border:"1px solid var(--border-gray)",borderRadius:"8px",padding:"0.5rem",backgroundColor:"var(--very-light-purple)"},children:[(0,j.jsx)("button",{onClick:()=>C(t),style:{position:"absolute",top:"0.25rem",right:"0.25rem",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",zIndex:10,transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="#dc2626",e.target.style.transform="scale(1.1)"},onMouseLeave:e=>{e.target.style.background="#ef4444",e.target.style.transform="scale(1)"},title:"Remove logo",children:(0,j.jsx)(De,{size:12})}),e.preview||e.url||e.downloadURL||e.base64Data?(0,j.jsx)("img",{src:e.preview||e.url||e.downloadURL||e.base64Data,alt:e.name||"Brand Logo",style:{width:"100%",height:"80px",objectFit:"contain",marginBottom:"0.5rem"}}):(0,j.jsx)("div",{style:{width:"100%",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",marginBottom:"0.5rem"},children:(0,j.jsx)(Me,{size:24,color:"#6c757d"})}),(0,j.jsx)("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:0,textAlign:"center",wordBreak:"break-word"},children:e.name}),e.uploaded&&(0,j.jsx)("div",{style:{fontSize:"0.7rem",color:"#28a745",textAlign:"center",marginTop:"0.25rem"},children:"\u2705 Uploaded"})]},t))}),h.logos&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.875rem",marginTop:"0.5rem"},children:h.logos})]}),(0,j.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"1rem",fontSize:"1.25rem",fontWeight:"600"},children:"\ud83c\udfa8 Brand Colors"}),(0,j.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,j.jsx)("label",{style:{fontWeight:"500",color:"var(--text-dark)"},children:"Primary Color *"}),(0,j.jsx)("button",{type:"button",onClick:()=>I("primaryColor"),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#ef4444"},title:"Reset primary color",children:(0,j.jsx)(Qe,{size:12})})]}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,j.jsx)("input",{type:"color",value:l.primaryColor,onChange:e=>E("primaryColor",e.target.value),style:{width:"50px",height:"40px",border:"1px solid var(--border-gray)",borderRadius:"6px",cursor:"pointer",padding:"0"}}),(0,j.jsx)("input",{type:"text",value:l.primaryColor,onChange:e=>E("primaryColor",e.target.value),style:{flex:1,padding:"0.5rem",border:h.primaryColor?"1px solid #ef4444":"1px solid var(--border-gray)",borderRadius:"6px",fontSize:"0.9rem"},placeholder:"#F05A28"})]}),h.primaryColor&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.875rem",marginTop:"0.25rem"},children:h.primaryColor})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,j.jsx)("label",{style:{fontWeight:"500",color:"var(--text-dark)"},children:"Secondary Color"}),(0,j.jsx)("button",{type:"button",onClick:()=>I("secondaryColor"),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"4px",color:"#ef4444"},title:"Reset secondary color",children:(0,j.jsx)(Qe,{size:12})})]}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,j.jsx)("input",{type:"color",value:l.secondaryColor,onChange:e=>E("secondaryColor",e.target.value),style:{width:"50px",height:"40px",border:"none",borderRadius:"8px",cursor:"pointer"}}),(0,j.jsx)("input",{type:"text",value:l.secondaryColor,onChange:e=>E("secondaryColor",e.target.value),placeholder:"#000000",style:{flex:1,padding:"0.5rem",border:"1px solid var(--border-gray)",borderRadius:"8px",fontSize:"0.875rem"}})]})]})]}),(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",border:"1px solid var(--border-gray)",borderRadius:"8px",backgroundColor:"#f8f9fa"},children:[(0,j.jsx)("p",{style:{marginBottom:"0.5rem",fontWeight:"500",color:"var(--text-dark)"},children:"Color Preview"}),(0,j.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,j.jsx)("div",{style:{width:"80px",height:"40px",backgroundColor:l.primaryColor,borderRadius:"4px",border:"1px solid rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"#FFFFFF"===l.primaryColor?"#000":"#FFF",fontSize:"0.7rem",fontWeight:"500"},children:"Primary"}),(0,j.jsx)("div",{style:{width:"80px",height:"40px",backgroundColor:l.secondaryColor,borderRadius:"4px",border:"1px solid rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"#FFFFFF"===l.secondaryColor?"#000":"#FFF",fontSize:"0.7rem",fontWeight:"500"},children:"Secondary"})]})]})]}),(0,j.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"1rem",fontSize:"1.25rem",fontWeight:"600"},children:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(je,{size:20}),"Tone of Voice"]})}),(0,j.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,j.jsxs)("p",{style:{color:"var(--text-light)",fontSize:"0.875rem"},children:["Select up to 3 tone characteristics that best represent your brand ",(0,j.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),h.toneOfVoice&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.875rem",marginTop:"0.25rem"},children:h.toneOfVoice})]}),(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem",marginBottom:"1rem"},children:["Professional","Friendly","Casual","Luxury","Playful","Authoritative","Warm","Modern"].map(e=>{const t=Array.isArray(l.toneOfVoice)?l.toneOfVoice:[],n=[...new Set(t)],r=n.includes(e),o=r||n.length<3;return console.log(`\ud83c\udfaf Tone ${e}:`,{isSelected:r,canClick:o,currentCount:n.length}),(0,j.jsxs)("button",{type:"button",onClick:()=>(e=>{console.log("\ud83c\udfaf Tone selection clicked:",e),console.log("\ud83c\udfaf Current toneOfVoice:",l.toneOfVoice);const t=Array.isArray(l.toneOfVoice)?l.toneOfVoice:[],n=[...new Set(t)],r=n.includes(e);console.log("\ud83c\udfaf Tone selection state:",{tone:e,toneArray:t,uniqueToneArray:n,isSelected:r,currentLength:n.length}),r?(console.log("\ud83c\udfaf Removing tone from selection:",e),A(t=>({...t,toneOfVoice:Array.isArray(t.toneOfVoice)?[...new Set(t.toneOfVoice.filter(t=>t!==e))]:[]}))):n.length<3?(console.log("\ud83c\udfaf Adding tone to selection:",e),A(t=>({...t,toneOfVoice:Array.isArray(t.toneOfVoice)?[...new Set([...t.toneOfVoice,e])]:[e]}))):console.log("\ud83c\udfaf Cannot add tone - limit reached (3/3)")})(e),disabled:!1,style:{padding:"0.75rem",border:r?"2px solid var(--primary-purple)":"1px solid var(--border-gray)",borderRadius:"8px",background:r?"#f3e8ff":o?"white":"#f8f9fa",color:r?"var(--primary-purple)":o?"var(--text-dark)":"var(--text-light)",cursor:o?"pointer":"not-allowed",fontSize:"0.875rem",fontWeight:r?"600":"400",transition:"all 0.2s",opacity:o?1:.6},children:[e,r&&(0,j.jsx)("span",{style:{marginLeft:"0.5rem"},children:"\u2713"})]},e)})}),Array.isArray(l.toneOfVoice)&&l.toneOfVoice.length>0&&(0,j.jsx)("div",{style:{padding:"0.75rem",background:"var(--very-light-purple)",borderRadius:"6px",marginBottom:"1rem"},children:(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsxs)("p",{style:{fontSize:"0.875rem",color:"var(--text-dark)",margin:0},children:["Selected: ",[...new Set(l.toneOfVoice)].join(", ")," (",[...new Set(l.toneOfVoice)].length,"/3)"]}),(0,j.jsx)("button",{type:"button",onClick:()=>{console.log("\ud83c\udfaf Clearing all tone selections"),A(e=>({...e,toneOfVoice:[]}))},style:{background:"#dc3545",color:"white",border:"none",borderRadius:"4px",padding:"0.25rem 0.5rem",fontSize:"0.75rem",cursor:"pointer",fontWeight:"500"},children:"Clear All"})]})})]}),h.submit&&(0,j.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"8px",marginBottom:"2rem",color:"#d32f2f",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(Le,{size:16}),h.submit]}),(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)("button",{type:"submit",disabled:c,style:{background:c?"#ccc":"linear-gradient(135deg, var(--primary-purple), #7c3aed)",color:"white",border:"none",borderRadius:"8px",padding:"1rem 2rem",fontSize:"1rem",fontWeight:"600",cursor:c?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",transition:"transform 0.2s",minWidth:"200px",justifyContent:"center"},children:c?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(N,{size:20,style:{animation:"spin 1s linear infinite"}}),a?"Updating...":"Saving..."]}):a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ie,{size:20}),"Analyze Ad"]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(He,{size:20}),"Save Brand Setup"]})})})]})]})},Cs=k("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Es=k("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),xs=k("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Is=k("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ts=k("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ks=k("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Us=k("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Fs=k("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ns=k("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Ps=k("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Rs=R.A.PYTHON_API_URL;console.log("\ud83d\udd27 firestoreHelpers.js - API_BASE_URL:",Rs),console.log("\ud83d\udd27 firestoreHelpers.js - REACT_APP_URL env var:","http://localhost:8002");const Ls=async e=>{try{const t=Date.now(),n=await fetch(`${Rs}/get-user-profile/${encodeURIComponent(e)}?t=${t}`);if(404===n.status)return null;if(500===n.status)return console.warn("\u26a0\ufe0f Backend server error (500) - user profile may not exist yet"),null;if(!n.ok)throw new Error(`HTTP ${n.status}`);return await n.json()}catch(t){return console.warn("\u26a0\ufe0f getUserProfile failed, treating as user not found:",t.message),null}},Os=async(e,t)=>(0,P.Ry)(async()=>{const n={updates:t,timestamp:(new Date).toISOString()},r=await fetch(`${Rs}/updateUserProfileDetails/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP ${r.status}`);return!0},!0,!1),Ds=async(e,t)=>{try{console.log("\ud83d\udcb3 Saving subscription data for user:",e);const r={...t,purchaseDate:new Date,status:"active",adsUsed:0,lastUpdated:new Date};try{await Os(e,{subscription:r,updatedAt:new Date})}catch(n){if(!n.message.includes("No document to update"))throw n;console.log("\ud83d\udd27 User profile missing, creating new profile..."),await(async(e,t)=>(0,P.Ry)(async()=>{const n={userId:e,timestamp:(new Date).toISOString(),userProfile:t,metadata:{source:"frontend",version:"1.0"}},r=await fetch(`${Rs}/UserProfileDetails`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP ${r.status}`);return!0},!0,!1))(e,{email:"user@example.com",fullName:"User",subscription:r,createdAt:new Date,updatedAt:new Date}),console.log("\u2705 User profile created and subscription saved")}return console.log("\u2705 Subscription data saved successfully"),r}catch(n){throw console.error("\u274c Error saving subscription data:",n),n}},Ms=async e=>{try{const t=await Ls(e);if(null!==t&&void 0!==t&&t.subscription)return t.subscription;const n=await(async e=>{try{const t=await fetch(`${Rs}/get-plan-selections/${encodeURIComponent(e)}`);if(!t.ok)return null;const n=await t.json();return Array.isArray(n.plans)&&n.plans.length>0?n.plans[0]:null}catch($u){return null}})(e);if(n){const t={planType:n.planId||n.planType,planName:n.planName,features:n.selected_features||n.selectedFeatures||[],adQuota:n.totalAds,totalPrice:n.totalPrice,validityDays:n.validityDays,subscriptionStartDate:n.subscriptionStartDate,subscriptionEndDate:n.subscriptionEndDate,paymentStatus:"completed",subscribed:!0,isActive:!0,status:"active",adsUsed:0};try{await Os(e,{subscription:t,updatedAt:new Date})}catch{}return t}return null}catch(t){return console.error("\u274c Error getting user subscription:",t),null}},Qs=e=>{if(!e)return!1;const t=new Date,n=new Date(e.subscriptionEndDate);return"active"===e.status&&t<=n},js=e=>{if(!e)return!1;try{const t=new Date(e),n=new Date;return n.getFullYear()!==t.getFullYear()||n.getMonth()!==t.getMonth()}catch(t){return console.error("Error parsing last usage date:",t),!1}};var Hs=n(2284),zs=Uint8Array,Vs=Uint16Array,Ks=Int32Array,Ws=new zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gs=new zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$s=new zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qs=function(e,t){for(var n=new Vs(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new Ks(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return{b:n,r:o}},Ys=qs(Ws,2),Js=Ys.b,Xs=Ys.r;Js[28]=258,Xs[258]=28;for(var Zs=qs(Gs,0),el=Zs.b,tl=Zs.r,nl=new Vs(32768),rl=0;rl<32768;++rl){var ol=(43690&rl)>>1|(21845&rl)<<1;ol=(61680&(ol=(52428&ol)>>2|(13107&ol)<<2))>>4|(3855&ol)<<4,nl[rl]=((65280&ol)>>8|(255&ol)<<8)>>1}var il=function(e,t,n){for(var r=e.length,o=0,i=new Vs(t);o<r;++o)e[o]&&++i[e[o]-1];var a,s=new Vs(t);for(o=1;o<t;++o)s[o]=s[o-1]+i[o-1]<<1;if(n){a=new Vs(1<<t);var l=15-t;for(o=0;o<r;++o)if(e[o])for(var A=o<<4|e[o],c=t-e[o],u=s[e[o]-1]++<<c,d=u|(1<<c)-1;u<=d;++u)a[nl[u]>>l]=A}else for(a=new Vs(r),o=0;o<r;++o)e[o]&&(a[o]=nl[s[e[o]-1]++]>>15-e[o]);return a},al=new zs(288);for(rl=0;rl<144;++rl)al[rl]=8;for(rl=144;rl<256;++rl)al[rl]=9;for(rl=256;rl<280;++rl)al[rl]=7;for(rl=280;rl<288;++rl)al[rl]=8;var sl=new zs(32);for(rl=0;rl<32;++rl)sl[rl]=5;var ll=il(al,9,0),Al=il(al,9,1),cl=il(sl,5,0),ul=il(sl,5,1),dl=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},pl=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},hl=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},fl=function(e){return(e+7)/8|0},gl=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new zs(e.subarray(t,n))},ml=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yl=function(e,t,n){var r=new Error(t||ml[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,yl),!n)throw r;return r},vl=function(e,t,n,r){var o=e.length,i=r?r.length:0;if(!o||t.f&&!t.l)return n||new zs(0);var a=!n,s=a||2!=t.i,l=t.i;a&&(n=new zs(3*o));var A=function(e){var t=n.length;if(e>t){var r=new zs(Math.max(2*t,e));r.set(n),n=r}},c=t.f||0,u=t.p||0,d=t.b||0,p=t.l,h=t.d,f=t.m,g=t.n,m=8*o;do{if(!p){c=pl(e,u,1);var y=pl(e,u+1,3);if(u+=3,!y){var v=e[(k=fl(u)+4)-4]|e[k-3]<<8,b=k+v;if(b>o){l&&yl(0);break}s&&A(d+v),n.set(e.subarray(k,b),d),t.b=d+=v,t.p=u=8*b,t.f=c;continue}if(1==y)p=Al,h=ul,f=9,g=5;else if(2==y){var w=pl(e,u,31)+257,S=pl(e,u+10,15)+4,_=w+pl(e,u+5,31)+1;u+=14;for(var B=new zs(_),C=new zs(19),E=0;E<S;++E)C[$s[E]]=pl(e,u+3*E,7);u+=3*S;var x=dl(C),I=(1<<x)-1,T=il(C,x,1);for(E=0;E<_;){var k,U=T[pl(e,u,I)];if(u+=15&U,(k=U>>4)<16)B[E++]=k;else{var F=0,N=0;for(16==k?(N=3+pl(e,u,3),u+=2,F=B[E-1]):17==k?(N=3+pl(e,u,7),u+=3):18==k&&(N=11+pl(e,u,127),u+=7);N--;)B[E++]=F}}var P=B.subarray(0,w),R=B.subarray(w);f=dl(P),g=dl(R),p=il(P,f,1),h=il(R,g,1)}else yl(1);if(u>m){l&&yl(0);break}}s&&A(d+131072);for(var L=(1<<f)-1,O=(1<<g)-1,D=u;;D=u){var M=(F=p[hl(e,u)&L])>>4;if((u+=15&F)>m){l&&yl(0);break}if(F||yl(2),M<256)n[d++]=M;else{if(256==M){D=u,p=null;break}var Q=M-254;if(M>264){var j=Ws[E=M-257];Q=pl(e,u,(1<<j)-1)+Js[E],u+=j}var H=h[hl(e,u)&O],z=H>>4;H||yl(3),u+=15&H;R=el[z];if(z>3){j=Gs[z];R+=hl(e,u)&(1<<j)-1,u+=j}if(u>m){l&&yl(0);break}s&&A(d+131072);var V=d+Q;if(d<R){var K=i-R,W=Math.min(R,V);for(K+d<0&&yl(3);d<W;++d)n[d]=r[K+d]}for(;d<V;++d)n[d]=n[d-R]}}t.l=p,t.p=D,t.b=d,t.f=c,p&&(c=1,t.m=f,t.d=h,t.n=g)}while(!c);return d!=n.length&&a?gl(n,0,d):n.subarray(0,d)},bl=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},wl=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Sl=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,i=n.slice();if(!o)return{t:Tl,l:0};if(1==o){var a=new zs(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],A=0,c=1,u=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=o-1;)s=n[n[A].f<n[u].f?A++:u++],l=n[A!=c&&n[A].f<n[u].f?A++:u++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};var d=i[0].s;for(r=1;r<o;++r)i[r].s>d&&(d=i[r].s);var p=new Vs(d+1),h=_l(n[c-1],p,0);if(h>t){r=0;var f=0,g=h-t,m=1<<g;for(i.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<o;++r){var y=i[r].s;if(!(p[y]>t))break;f+=m-(1<<h-p[y]),p[y]=t}for(f>>=g;f>0;){var v=i[r].s;p[v]<t?f-=1<<t-p[v]++-1:++r}for(;r>=0&&f;--r){var b=i[r].s;p[b]==t&&(--p[b],++f)}h=t}return{t:new zs(p),l:h}},_l=function(e,t,n){return-1==e.s?Math.max(_l(e.l,t,n+1),_l(e.r,t,n+1)):t[e.s]=n},Bl=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Vs(++t),r=0,o=e[0],i=1,a=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==o&&s!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[s]}return{c:n.subarray(0,r),n:t}},Cl=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},El=function(e,t,n){var r=n.length,o=fl(t+2);e[o]=255&r,e[o+1]=r>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<r;++i)e[o+i+4]=n[i];return 8*(o+4+r)},xl=function(e,t,n,r,o,i,a,s,l,A,c){bl(t,c++,n),++o[256];for(var u=Sl(o,15),d=u.t,p=u.l,h=Sl(i,15),f=h.t,g=h.l,m=Bl(d),y=m.c,v=m.n,b=Bl(f),w=b.c,S=b.n,_=new Vs(19),B=0;B<y.length;++B)++_[31&y[B]];for(B=0;B<w.length;++B)++_[31&w[B]];for(var C=Sl(_,7),E=C.t,x=C.l,I=19;I>4&&!E[$s[I-1]];--I);var T,k,U,F,N=A+5<<3,P=Cl(o,al)+Cl(i,sl)+a,R=Cl(o,d)+Cl(i,f)+a+14+3*I+Cl(_,E)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&N<=P&&N<=R)return El(t,c,e.subarray(l,l+A));if(bl(t,c,1+(R<P)),c+=2,R<P){T=il(d,p,0),k=d,U=il(f,g,0),F=f;var L=il(E,x,0);bl(t,c,v-257),bl(t,c+5,S-1),bl(t,c+10,I-4),c+=14;for(B=0;B<I;++B)bl(t,c+3*B,E[$s[B]]);c+=3*I;for(var O=[y,w],D=0;D<2;++D){var M=O[D];for(B=0;B<M.length;++B){var Q=31&M[B];bl(t,c,L[Q]),c+=E[Q],Q>15&&(bl(t,c,M[B]>>5&127),c+=M[B]>>12)}}}else T=ll,k=al,U=cl,F=sl;for(B=0;B<s;++B){var j=r[B];if(j>255){wl(t,c,T[(Q=j>>18&31)+257]),c+=k[Q+257],Q>7&&(bl(t,c,j>>23&31),c+=Ws[Q]);var H=31&j;wl(t,c,U[H]),c+=F[H],H>3&&(wl(t,c,j>>5&8191),c+=Gs[H])}else wl(t,c,T[j]),c+=k[j]}return wl(t,c,T[256]),c+k[256]},Il=new Ks([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Tl=new zs(0),kl=function(e,t,n,r,o,i){var a=i.z||e.length,s=new zs(r+a+5*(1+Math.ceil(a/7e3))+o),l=s.subarray(r,s.length-o),A=i.l,c=7&(i.r||0);if(t){c&&(l[0]=i.r>>3);for(var u=Il[t-1],d=u>>13,p=8191&u,h=(1<<n)-1,f=i.p||new Vs(32768),g=i.h||new Vs(h+1),m=Math.ceil(n/3),y=2*m,v=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&h},b=new Ks(25e3),w=new Vs(288),S=new Vs(32),_=0,B=0,C=i.i||0,E=0,x=i.w||0,I=0;C+2<a;++C){var T=v(C),k=32767&C,U=g[T];if(f[k]=U,g[T]=k,x<=C){var F=a-C;if((_>7e3||E>24576)&&(F>423||!A)){c=xl(e,l,0,b,w,S,B,E,I,C-I,c),E=_=B=0,I=C;for(var N=0;N<286;++N)w[N]=0;for(N=0;N<30;++N)S[N]=0}var P=2,R=0,L=p,O=k-U&32767;if(F>2&&T==v(C-O))for(var D=Math.min(d,F)-1,M=Math.min(32767,C),Q=Math.min(258,F);O<=M&&--L&&k!=U;){if(e[C+P]==e[C+P-O]){for(var j=0;j<Q&&e[C+j]==e[C+j-O];++j);if(j>P){if(P=j,R=O,j>D)break;var H=Math.min(O,j-2),z=0;for(N=0;N<H;++N){var V=C-O+N&32767,K=V-f[V]&32767;K>z&&(z=K,U=V)}}}O+=(k=U)-(U=f[k])&32767}if(R){b[E++]=268435456|Xs[P]<<18|tl[R];var W=31&Xs[P],G=31&tl[R];B+=Ws[W]+Gs[G],++w[257+W],++S[G],x=C+P,++_}else b[E++]=e[C],++w[e[C]]}}for(C=Math.max(C,x);C<a;++C)b[E++]=e[C],++w[e[C]];c=xl(e,l,A,b,w,S,B,E,I,C-I,c),A||(i.r=7&c|l[c/8|0]<<3,c-=7,i.h=g,i.p=f,i.i=C,i.w=x)}else{for(C=i.w||0;C<a+A;C+=65535){var $=C+65535;$>=a&&(l[c/8|0]=A,$=a),c=El(l,c+1,e.subarray(C,$))}i.i=a}return gl(s,0,r+fl(c)+o)},Ul=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,i=0|n.length,a=0;a!=i;){for(var s=Math.min(a+2655,i);a<s;++a)o+=r+=n[a];r=(65535&r)+15*(r>>16),o=(65535&o)+15*(o>>16)}e=r,t=o},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Fl=function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new zs(i.length+e.length);a.set(i),a.set(e,i.length),e=a,o.w=i.length}return kl(e,null==t.level?6:t.level,null==t.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,o)},Nl=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Pl=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=Ul();o.p(t.dictionary),Nl(e,2,o.d())}},Rl=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&yl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&yl(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function Ll(e,t){t||(t={});var n=Ul();n.p(e);var r=Fl(e,t,t.dictionary?6:2,4);return Pl(r,t),Nl(r,r.length-4,n.d()),r}function Ol(e,t){return vl(e.subarray(Rl(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Dl="undefined"!=typeof TextDecoder&&new TextDecoder;try{Dl.decode(Tl,{stream:!0})}catch($u){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Ml=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function Ql(){Ml.console&&"function"==typeof Ml.console.log&&Ml.console.log.apply(Ml.console,arguments)}var jl={log:Ql,warn:function(e){Ml.console&&("function"==typeof Ml.console.warn?Ml.console.warn.apply(Ml.console,arguments):Ql.call(null,arguments))},error:function(e){Ml.console&&("function"==typeof Ml.console.error?Ml.console.error.apply(Ml.console,arguments):Ql(e))}};function Hl(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Gl(r.response,t,n)},r.onerror=function(){jl.error("could not download file")},r.send()}function zl(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function Vl(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Kl,Wl,Gl=Ml.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Hs.A)(window))||window!==Ml?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ml.URL||Ml.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin!==location.origin?zl(o.href)?Hl(e,t,n):Vl(o,o.target="_blank"):Vl(o)):(o.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(o.href)},4e4),setTimeout(function(){Vl(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(zl(e))Hl(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Vl(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Hs.A)(t)&&(jl.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Hl(e,t,n);var o="application/octet-stream"===e.type,i=/constructor/i.test(Ml.HTMLElement)||Ml.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Hs.A)(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var l=Ml.URL||Ml.webkitURL,A=l.createObjectURL(e);r?r.location=A:location.href=A,r=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});function $l(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var o=n[r].re,i=n[r].process,a=o.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function ql(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n=Jl(n,r,o,i,t[0],7,-680876936),i=Jl(i,n,r,o,t[1],12,-389564586),o=Jl(o,i,n,r,t[2],17,606105819),r=Jl(r,o,i,n,t[3],22,-1044525330),n=Jl(n,r,o,i,t[4],7,-176418897),i=Jl(i,n,r,o,t[5],12,1200080426),o=Jl(o,i,n,r,t[6],17,-1473231341),r=Jl(r,o,i,n,t[7],22,-45705983),n=Jl(n,r,o,i,t[8],7,1770035416),i=Jl(i,n,r,o,t[9],12,-1958414417),o=Jl(o,i,n,r,t[10],17,-42063),r=Jl(r,o,i,n,t[11],22,-1990404162),n=Jl(n,r,o,i,t[12],7,1804603682),i=Jl(i,n,r,o,t[13],12,-40341101),o=Jl(o,i,n,r,t[14],17,-1502002290),n=Xl(n,r=Jl(r,o,i,n,t[15],22,1236535329),o,i,t[1],5,-165796510),i=Xl(i,n,r,o,t[6],9,-1069501632),o=Xl(o,i,n,r,t[11],14,643717713),r=Xl(r,o,i,n,t[0],20,-373897302),n=Xl(n,r,o,i,t[5],5,-701558691),i=Xl(i,n,r,o,t[10],9,38016083),o=Xl(o,i,n,r,t[15],14,-660478335),r=Xl(r,o,i,n,t[4],20,-405537848),n=Xl(n,r,o,i,t[9],5,568446438),i=Xl(i,n,r,o,t[14],9,-1019803690),o=Xl(o,i,n,r,t[3],14,-187363961),r=Xl(r,o,i,n,t[8],20,1163531501),n=Xl(n,r,o,i,t[13],5,-1444681467),i=Xl(i,n,r,o,t[2],9,-51403784),o=Xl(o,i,n,r,t[7],14,1735328473),n=Zl(n,r=Xl(r,o,i,n,t[12],20,-1926607734),o,i,t[5],4,-378558),i=Zl(i,n,r,o,t[8],11,-2022574463),o=Zl(o,i,n,r,t[11],16,1839030562),r=Zl(r,o,i,n,t[14],23,-35309556),n=Zl(n,r,o,i,t[1],4,-1530992060),i=Zl(i,n,r,o,t[4],11,1272893353),o=Zl(o,i,n,r,t[7],16,-155497632),r=Zl(r,o,i,n,t[10],23,-1094730640),n=Zl(n,r,o,i,t[13],4,681279174),i=Zl(i,n,r,o,t[0],11,-358537222),o=Zl(o,i,n,r,t[3],16,-722521979),r=Zl(r,o,i,n,t[6],23,76029189),n=Zl(n,r,o,i,t[9],4,-640364487),i=Zl(i,n,r,o,t[12],11,-421815835),o=Zl(o,i,n,r,t[15],16,530742520),n=eA(n,r=Zl(r,o,i,n,t[2],23,-995338651),o,i,t[0],6,-198630844),i=eA(i,n,r,o,t[7],10,1126891415),o=eA(o,i,n,r,t[14],15,-1416354905),r=eA(r,o,i,n,t[5],21,-57434055),n=eA(n,r,o,i,t[12],6,1700485571),i=eA(i,n,r,o,t[3],10,-1894986606),o=eA(o,i,n,r,t[10],15,-1051523),r=eA(r,o,i,n,t[1],21,-2054922799),n=eA(n,r,o,i,t[8],6,1873313359),i=eA(i,n,r,o,t[15],10,-30611744),o=eA(o,i,n,r,t[6],15,-1560198380),r=eA(r,o,i,n,t[13],21,1309151649),n=eA(n,r,o,i,t[4],6,-145523070),i=eA(i,n,r,o,t[11],10,-1120210379),o=eA(o,i,n,r,t[2],15,718787259),r=eA(r,o,i,n,t[9],21,-343485551),e[0]=lA(n,e[0]),e[1]=lA(r,e[1]),e[2]=lA(o,e[2]),e[3]=lA(i,e[3])}function Yl(e,t,n,r,o,i){return t=lA(lA(t,e),lA(r,i)),lA(t<<o|t>>>32-o,n)}function Jl(e,t,n,r,o,i,a){return Yl(t&n|~t&r,e,t,o,i,a)}function Xl(e,t,n,r,o,i,a){return Yl(t&r|n&~r,e,t,o,i,a)}function Zl(e,t,n,r,o,i,a){return Yl(t^n^r,e,t,o,i,a)}function eA(e,t,n,r,o,i,a){return Yl(n^(t|~r),e,t,o,i,a)}function tA(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ql(r,nA(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(ql(r,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,ql(r,o),r}function nA(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Kl=Ml.atob.bind(Ml),Wl=Ml.btoa.bind(Ml);var rA="0123456789abcdef".split("");function oA(e){for(var t="",n=0;n<4;n++)t+=rA[e>>8*n+4&15]+rA[e>>8*n&15];return t}function iA(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function aA(e){return tA(e).map(iA).join("")}var sA="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=oA(e[t]);return e.join("")}(tA("hello"));function lA(e,t){if(sA){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function AA(e,t){var n,r,o,i;if(e!==n){for(var a=(o=e,i=1+(256/e.length|0),new Array(i+1).join(o)),s=[],l=0;l<256;l++)s[l]=l;var A=0;for(l=0;l<256;l++){var c=s[l];A=(A+c+a.charCodeAt(l))%256,s[l]=s[A],s[A]=c}n=e,r=s}else s=r;var u=t.length,d=0,p=0,h="";for(l=0;l<u;l++)p=(p+(c=s[d=(d+1)%256]))%256,s[d]=s[p],s[p]=c,a=s[(s[d]+s[p])%256],h+=String.fromCharCode(t.charCodeAt(l)^a);return h}var cA={print:4,modify:8,copy:16,"annot-forms":32};function uA(e,t,n,r){this.v=1,this.r=2;var o=192;e.forEach(function(e){if(void 0!==cA.perm)throw new Error("Invalid permission: "+e);o+=cA[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^o)),this.encryptionKey=aA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=AA(this.encryptionKey,this.padding)}function dA(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);t+=o<33||35===o||37===o||40===o||41===o||47===o||60===o||62===o||91===o||93===o||123===o||125===o||o>126?"#"+("0"+o.toString(16)).slice(-2):e[r]}return t}function pA(e){if("object"!==(0,Hs.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[n,!!r],o},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var i in t[n]){var a=t[n][i];try{a[0].apply(e,r)}catch(n){Ml.console&&jl.error("jsPDF PubSub Error",n.message,n)}a[1]&&o.push(i)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hA(e){if(!(this instanceof hA))return new hA(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function fA(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function gA(e,t,n,r,o){if(!(this instanceof gA))return new gA(e,t,n,r,o);this.type="axial"===e?2:3,this.coords=t,this.colors=n,fA.call(this,r,o)}function mA(e,t,n,r,o){if(!(this instanceof mA))return new mA(e,t,n,r,o);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,fA.call(this,r,o)}function yA(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],o=arguments[2],i=arguments[3],a=[],s=1,l=16,A="S",c=null;"object"===(0,Hs.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,o=e.format||o,i=e.compress||e.compressPdf||i,null!==(c=e.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),A=e.defaultPathOperation||"S"),a=e.filters||(!0===i?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,d={},p={internal:{},__private__:{}};p.__private__.PubSub=pA;var h="1.3",f=p.__private__.getPdfVersion=function(){return h};p.__private__.setPdfVersion=function(e){h=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var m=p.__private__.getPageFormat=function(e){return g[e]};o=o||"a4";var y="compat",v="advanced",b=y;function w(){this.saveGraphicsState(),J(new Ue(de,0,0,-de,0,cn()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),A="n",b=v}function S(){this.restoreGraphicsState(),A="S",b=y}var _=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=b===y;return t&&w.call(this),"function"!=typeof e||(e(this),t&&S.call(this)),this},p.compatAPI=function(e){var t=b===v;return t&&S.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return b===v};var B,C=function(e){if(b!==v)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};B=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,16)};var x=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return E(e,2)},I=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return E(e,3)},T=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return b===y?e*de:b===v?e:void 0},k=function(e){return T(function(e){return b===y?cn()-e:b===v?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var U,F="00000000000000000000000000000000",N=p.__private__.getFileId=function(){return F},P=p.__private__.setFileId=function(e){return F=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==c&&(vt=new uA(c.userPermissions,c.userPassword,c.ownerPassword,F)),F};p.setFileId=function(e){return P(e),this},p.getFileId=function(){return N()};var R=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),o=Math.abs(t%60),i=[n,Q(r),"'",Q(o),"'"].join("");return["D:",e.getFullYear(),Q(e.getMonth()+1),Q(e.getDate()),Q(e.getHours()),Q(e.getMinutes()),Q(e.getSeconds()),i].join("")},L=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,o,i,a,0)},O=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=R(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return U=t},D=p.__private__.getCreationDate=function(e){var t=U;return"jsDate"===e&&(t=L(U)),t};p.setCreationDate=function(e){return O(e),this},p.getCreationDate=function(e){return D(e)};var M,Q=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},j=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,z=[],V=[],K=0,W=[],G=[],$=!1,q=V;p.__private__.setCustomOutputDestination=function(e){$=!0,q=e};var Y=function(e){$||(q=e)};p.__private__.resetCustomOutputDestination=function(){$=!1,q=V};var J=p.__private__.out=function(e){return e=e.toString(),K+=e.length+1,q.push(e),q},X=p.__private__.write=function(e){return J(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=b===v?e/de:e,this};var ne,re=p.__private__.getFontSize=p.getFontSize=function(){return b===y?te:te*de},oe=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return oe=e,this},p.__private__.getR2L=p.getR2L=function(){return oe};var ie,ae=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};p.__private__.getZoomMode=function(){return ne};var se,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ie=e};p.__private__.getPageMode=function(){return ie};var Ae=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');se=e};p.__private__.getLayoutMode=function(){return se},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return ae(e),Ae(t),le(n),this};var ce={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ce[e]},p.__private__.getDocumentProperties=function(){return ce},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in ce)ce.hasOwnProperty(t)&&e[t]&&(ce[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ce[e]=t};var ue,de,pe,he,fe,ge={},me={},ye=[],ve={},be={},we={},Se={},_e=null,Be=0,Ce=[],Ee=new pA(p),xe=e.hotfixes||[],Ie={},Te={},ke=[],Ue=function e(t,n,r,o,i,a){if(!(this instanceof e))return new e(t,n,r,o,i,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(o)&&(o=1),isNaN(i)&&(i=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,o,i,a]};Object.defineProperty(Ue.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ue.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ue.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ue.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ue.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ue.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ue.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ue.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ue.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ue.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ue.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ue.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ue.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ue.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ue.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ue.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ue.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(e)},Ue.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,o=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ue(t,n,r,o,i,a)},Ue.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,o=this.tx,i=this.ty,a=Math.sqrt(e*e+t*t),s=(e/=a)*n+(t/=a)*r;n-=e*s,r-=t*s;var l=Math.sqrt(n*n+r*r);return s/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,s=-s,a=-a),{scale:new Ue(a,0,0,l,0,0),translate:new Ue(1,0,0,1,o,i),rotate:new Ue(e,t,-t,e,0,0),skew:new Ue(1,0,s,1,0,0)}},Ue.prototype.toString=function(e){return this.join(" ")},Ue.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,o=this.tx,i=this.ty,a=1/(e*r-t*n),s=r*a,l=-t*a,A=-n*a,c=e*a;return new Ue(s,l,A,c,-s*o-A*i,-l*o-c*i)},Ue.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ue.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ue.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,o=this.tx,i=this.ty;return new Ue(e,t,n,r,o,i)},p.Matrix=Ue;var Fe=p.matrixMult=function(e,t){return t.multiply(e)},Ne=new Ue(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ne;var Pe=function(e,t){if(!be[e]){var n=(t instanceof gA?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=n,be[e]=n,ve[n]=t,Ee.publish("addPattern",t)}};p.ShadingPattern=gA,p.TilingPattern=mA,p.addShadingPattern=function(e,t){return C("addShadingPattern()"),Pe(e,t),this},p.beginTilingPattern=function(e){C("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){C("endTilingPattern()"),t.stream=G[M].join("\n"),Pe(e,t),Ee.publish("endTilingPattern",t),ke.pop().restore()};var Re,Le=p.__private__.newObject=function(){var e=Oe();return De(e,!0),e},Oe=p.__private__.newObjectDeferred=function(){return H++,z[H]=function(){return K},H},De=function(e,t){return t="boolean"==typeof t&&t,z[e]=K,t&&J(e+" 0 obj"),e},Me=p.__private__.newAdditionalObject=function(){var e={objId:Oe(),content:""};return W.push(e),e},Qe=Oe(),je=Oe(),He=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",o=0;o<3;o++)r+=("0"+Math.floor(255*parseFloat(t[o])).toString(16)).slice(-2);return r},ze=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,o=e.ch3,i=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new $l(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,o=255&l}if(void 0===r||void 0===i&&n===r&&r===o)if("string"==typeof n)t=n+" "+a[0];else if(2===e.precision)t=x(n/255)+" "+a[0];else t=I(n/255)+" "+a[0];else if(void 0===i||"object"===(0,Hs.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)t=[n,r,o,a[1]].join(" ");else if(2===e.precision)t=[x(n/255),x(r/255),x(o/255),a[1]].join(" ");else t=[I(n/255),I(r/255),I(o/255),a[1]].join(" ")}else if("string"==typeof n)t=[n,r,o,i,a[2]].join(" ");else if(2===e.precision)t=[x(n),x(r),x(o),x(i),a[2]].join(" ");else t=[I(n),I(r),I(o),I(i),a[2]].join(" ");return t},Ve=p.__private__.getFilters=function(){return a},Ke=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ve(),r=e.alreadyAppliedFilters||[],o=e.addLength1||!1,i=t.length,a=e.objectId,s=function(e){return e};if(null!==c&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(s=vt.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var A=e.additionalKeyValues||[],u=(l=void 0!==yA.API.processDataByFilters?yA.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(A.push({key:"Length",value:l.data.length}),!0===o&&A.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)A.push({key:"Filter",value:u});else{A.push({key:"Filter",value:"["+u+"]"});for(var d=0;d<A.length;d+=1)if("DecodeParms"===A[d].key){for(var p=[],h=0;h<l.reverseChain.split("/").length-1;h+=1)p.push("null");p.push(A[d].value),A[d].value="["+p.join(" ")+"]"}}J("<<");for(var f=0;f<A.length;f++)J("/"+A[f].key+" "+A[f].value);J(">>"),0!==l.data.length&&(J("stream"),J(s(l.data)),J("endstream"))},We=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,o=e.contentsObjId;De(r,!0),J("<</Type /Page"),J("/Parent "+e.rootDictionaryObjId+" 0 R"),J("/Resources "+e.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(B(e.mediaBox.bottomLeftX))+" "+parseFloat(B(e.mediaBox.bottomLeftY))+" "+B(e.mediaBox.topRightX)+" "+B(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&J("/CropBox ["+B(e.cropBox.bottomLeftX)+" "+B(e.cropBox.bottomLeftY)+" "+B(e.cropBox.topRightX)+" "+B(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&J("/BleedBox ["+B(e.bleedBox.bottomLeftX)+" "+B(e.bleedBox.bottomLeftY)+" "+B(e.bleedBox.topRightX)+" "+B(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&J("/TrimBox ["+B(e.trimBox.bottomLeftX)+" "+B(e.trimBox.bottomLeftY)+" "+B(e.trimBox.topRightX)+" "+B(e.trimBox.topRightY)+"]"),null!==e.artBox&&J("/ArtBox ["+B(e.artBox.bottomLeftX)+" "+B(e.artBox.bottomLeftY)+" "+B(e.artBox.topRightX)+" "+B(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&J("/UserUnit "+e.userUnit),Ee.publish("putPage",{objId:r,pageContext:Ce[t],pageNumber:t,page:n}),J("/Contents "+o+" 0 R"),J(">>"),J("endobj");var i=n.join("\n");return b===v&&(i+="\nQ"),De(o,!0),Ke({data:i,filters:Ve(),objectId:o}),J("endobj"),r},Ge=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Be;e++)Ce[e].objId=Oe(),Ce[e].contentsObjId=Oe();for(e=1;e<=Be;e++)n.push(We({number:e,data:G[e],objId:Ce[e].objId,contentsObjId:Ce[e].contentsObjId,mediaBox:Ce[e].mediaBox,cropBox:Ce[e].cropBox,bleedBox:Ce[e].bleedBox,trimBox:Ce[e].trimBox,artBox:Ce[e].artBox,userUnit:Ce[e].userUnit,rootDictionaryObjId:Qe,resourceDictionaryObjId:je}));De(Qe,!0),J("<</Type /Pages");var r="/Kids [";for(t=0;t<Be;t++)r+=n[t]+" 0 R ";J(r+"]"),J("/Count "+Be),J(">>"),J("endobj"),Ee.publish("postPutPages")},$e=function(e){Ee.publish("putFont",{font:e,out:J,newObject:Le,putStream:Ke}),!0!==e.isAlreadyPutted&&(e.objectNumber=Le(),J("<<"),J("/Type /Font"),J("/BaseFont /"+dA(e.postScriptName)),J("/Subtype /Type1"),"string"==typeof e.encoding&&J("/Encoding /"+e.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},qe=function(e){e.objectNumber=Le();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[B(e.x),B(e.y),B(e.x+e.width),B(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ke({data:n,additionalKeyValues:t,objectId:e.objectNumber}),J("endobj")},Ye=function(e,t){t||(t=21);var n=Le(),r=function(e,t){var n,r=[],o=1/(t-1);for(n=0;n<1;n+=o)r.push(n);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var s="",l=0,A=0;A<r.length;A++){for(n=r[A];n>e[l+1].offset;)l++;var c=e[l].offset,u=(n-c)/(e[l+1].offset-c),d=e[l].color,p=e[l+1].color;s+=j(Math.round((1-u)*d[0]+u*p[0]).toString(16))+j(Math.round((1-u)*d[1]+u*p[1]).toString(16))+j(Math.round((1-u)*d[2]+u*p[2]).toString(16))}return s.trim()}(e.colors,t),o=[];o.push({key:"FunctionType",value:"0"}),o.push({key:"Domain",value:"[0.0 1.0]"}),o.push({key:"Size",value:"["+t+"]"}),o.push({key:"BitsPerSample",value:"8"}),o.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),o.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke({data:r,additionalKeyValues:o,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),e.objectNumber=Le(),J("<< /ShadingType "+e.type),J("/ColorSpace /DeviceRGB");var i="/Coords ["+B(parseFloat(e.coords[0]))+" "+B(parseFloat(e.coords[1]))+" ";2===e.type?i+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3])):i+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3]))+" "+B(parseFloat(e.coords[4]))+" "+B(parseFloat(e.coords[5])),J(i+="]"),e.matrix&&J("/Matrix ["+e.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Je=function(e,t){var n=Oe(),r=Le();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var o=[];o.push({key:"Type",value:"/Pattern"}),o.push({key:"PatternType",value:"1"}),o.push({key:"PaintType",value:"1"}),o.push({key:"TilingType",value:"1"}),o.push({key:"BBox",value:"["+e.boundingBox.map(B).join(" ")+"]"}),o.push({key:"XStep",value:B(e.xStep)}),o.push({key:"YStep",value:B(e.yStep)}),o.push({key:"Resources",value:n+" 0 R"}),e.matrix&&o.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ke({data:e.stream,additionalKeyValues:o,objectId:e.objectNumber}),J("endobj")},Xe=function(e){for(var t in e.objectNumber=Le(),J("<<"),e)switch(t){case"opacity":J("/ca "+x(e[t]));break;case"stroke-opacity":J("/CA "+x(e[t]))}J(">>"),J("endobj")},Ze=function(e){De(e.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in J("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&J("/"+e+" "+ge[e].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in J("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof gA&&ve[e].objectNumber>=0&&J("/"+e+" "+ve[e].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),J(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in J("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof p.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&J("/"+t+" "+ve[t].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),J(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in J("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&J("/"+e+" "+we[e].objectNumber+" 0 R");Ee.publish("putGStateDict"),J(">>")}}(),function(){for(var e in J("/XObject <<"),Ie)Ie.hasOwnProperty(e)&&Ie[e].objectNumber>=0&&J("/"+e+" "+Ie[e].objectNumber+" 0 R");Ee.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},et=function(){var e=[];(function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&$e(ge[e])})(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Xe(we[e])}(),function(){for(var e in Ie)Ie.hasOwnProperty(e)&&qe(Ie[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof gA?Ye(ve[t]):ve[t]instanceof mA&&Je(ve[t],e))}(e),Ee.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:je,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources")},tt=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,o){var i={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:o||!1,metadata:{}};return Ee.publish("addFont",{font:i,instance:this}),ge[i.id]=i,tt(i),i.id},rt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,o,i,a,s,l,A,c;if(o=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&ge[ue].metadata&&ge[ue].metadata[o]&&ge[ue].metadata[o].encoding&&(i=ge[ue].metadata[o].encoding,!a&&ge[ue].encoding&&(a=ge[ue].encoding),!a&&i.codePages&&(a=i.codePages[0]),"string"==typeof a&&(a=i[a]),a)){for(l=!1,s=[],n=0,r=e.length;n<r;n++)(A=a[e.charCodeAt(n)])?s.push(String.fromCharCode(A)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((c=(A=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(c),s.push(A-(c<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ot=p.__private__.beginPage=function(e){G[++Be]=[],Ce[Be]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},st(Be),Y(G[M])},it=function(e,t){var r,i,a;switch(n=t||n,"string"==typeof e&&(r=m(e.toLowerCase()),Array.isArray(r)&&(i=r[0],a=r[1])),Array.isArray(e)&&(i=e[0]*de,a=e[1]*de),isNaN(i)&&(i=o[0],a=o[1]),(i>14400||a>14400)&&(jl.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),a=Math.min(14400,a)),o=[i,a],n.substr(0,1)){case"l":a>i&&(o=[a,i]);break;case"p":i>a&&(o=[a,i])}ot(o),Mt(Ot),J(Gt),0!==Zt&&J(Zt+" J"),0!==en&&J(en+" j"),Ee.publish("addPage",{pageNumber:Be})},at=function(e){e>0&&e<=Be&&(G.splice(e,1),Ce.splice(e,1),Be--,M>Be&&(M=Be),this.setPage(M))},st=function(e){e>0&&e<=Be&&(M=e)},lt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return G.length-1},At=function(e,t,n){var r,o=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,r=e.toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?o=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?o=me[e][t]:!1===n.disableWarning&&jl.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),o||n.noFallback||null==(o=me.times[t])&&(o=me.times.normal),o},ct=p.__private__.putInfo=function(){var e=Le(),t=function(e){return e};for(var n in null!==c&&(t=vt.encryptor(e,0)),J("<<"),J("/Producer ("+rt(t("jsPDF "+yA.version))+")"),ce)ce.hasOwnProperty(n)&&ce[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(ce[n]))+")");J("/CreationDate ("+rt(t(U))+")"),J(">>"),J("endobj")},ut=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Qe;switch(Le(),J("<<"),J("/Type /Catalog"),J("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&J("/OpenAction [3 0 R /XYZ null null "+x(ne)+"]")}switch(se||(se="continuous"),se){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ie&&J("/PageMode /"+ie),Ee.publish("putCatalog"),J(">>"),J("endobj")},dt=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(H+1)),J("/Root "+H+" 0 R"),J("/Info "+(H-1)+" 0 R"),null!==c&&J("/Encrypt "+vt.oid+" 0 R"),J("/ID [ <"+F+"> <"+F+"> ]"),J(">>")},pt=p.__private__.putHeader=function(){J("%PDF-"+h),J("%\xba\xdf\xac\xe0")},ht=p.__private__.putXRef=function(){var e="0000000000";J("xref"),J("0 "+(H+1)),J("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof z[t]?J((e+z[t]()).slice(-10)+" 00000 n "):void 0!==z[t]?J((e+z[t]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},ft=p.__private__.buildDocument=function(){H=0,K=0,V=[],z=[],W=[],Qe=Oe(),je=Oe(),Y(V),Ee.publish("buildDocument"),pt(),Ge(),function(){Ee.publish("putAdditionalObjects");for(var e=0;e<W.length;e++){var t=W[e];De(t.objId,!0),J(t.content),J("endobj")}Ee.publish("postPutAdditionalObjects")}(),et(),null!==c&&(vt.oid=Le(),J("<<"),J("/Filter /Standard"),J("/V "+vt.v),J("/R "+vt.r),J("/U <"+vt.toHexString(vt.U)+">"),J("/O <"+vt.toHexString(vt.O)+">"),J("/P "+vt.P),J(">>"),J("endobj")),ct(),ut();var e=K;return ht(),dt(),J("startxref"),J(""+e),J("%%EOF"),Y(G[M]),V.join("\n")},gt=p.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},mt=p.output=p.__private__.output=(Re=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":p.save(t.filename);break;case"arraybuffer":return Z(ft());case"blob":return gt(ft());case"bloburi":case"bloburl":if(void 0!==Ml.URL&&"function"==typeof Ml.URL.createObjectURL)return Ml.URL&&Ml.URL.createObjectURL(gt(ft()))||void 0;jl.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=ft();try{n=Wl(r)}catch(e){n=Wl(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ml)){var o="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(o=t.pdfObjectUrl,i="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+o+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=Ml.open();return null!==s&&s.document.write(a),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ml)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',A=Ml.open();if(null!==A){A.document.write(l);var c=this;A.document.documentElement.querySelector("#pdfViewer").onload=function(){A.document.title=t.filename,A.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return A}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ml))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=Ml.open();if(null!==d&&(d.document.write(u),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return Ml.document.location.href=this.output("datauristring",t);default:return null}},Re.foo=function(){try{return Re.apply(this,arguments)}catch(Re){var e=Re.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Re.message;if(!Ml.console)throw new Error(t);Ml.console.error(t,Re),Ml.alert&&alert(t)}},Re.foo.bar=Re,Re.foo),yt=function(e){return!0===Array.isArray(xe)&&xe.indexOf(e)>-1};switch(r){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=1==yt("px_scaling")?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);de=r}var vt=null;O(),P();var bt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ce[e].objId,pageNumber:e,pageContext:Ce[e]}},wt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ce)if(Ce[t].objId===e)break;return bt(t)},St=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ce[M].objId,pageNumber:M,pageContext:Ce[M]}};p.addPage=function(){return it.apply(this,arguments),this},p.setPage=function(){return st.apply(this,arguments),Y.call(this,G[M]),this},p.insertPage=function(e){return this.addPage(),this.movePage(M,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=Ce[e];for(var o=e;o>t;o--)G[o]=G[o-1],Ce[o]=Ce[o-1];G[t]=n,Ce[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=Ce[e];for(var i=e;i<t;i++)G[i]=G[i+1],Ce[i]=Ce[i+1];G[t]=n,Ce[t]=r,this.setPage(t)}return this},p.deletePage=function(){return at.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,r,o){var i,a,s,l,A,c,u,p,h,f=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ue==0?(s=arguments[4],l=arguments[5],"object"===(0,Hs.A)(u=arguments[3])&&null!==u||("string"==typeof s&&(l=s,s=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(s=u,u=null),r={flags:u,angle:s,align:l})):(C("The transform parameter of text() with a Matrix value"),h=o),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var m,y="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Lt,S=f.internal.scaleFactor;function _(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,u)}function E(e){for(var t,n=e.concat(),r=[],o=n.length;o--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function x(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,o,i=e.concat(),a=[],s=i.length;s--;)"string"==typeof(r=i.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(o=t(r[0],r[1],r[2]),a.push([o[0],o[1],o[2]]));n=a}return n}var I=!1,k=!0;if("string"==typeof e)I=!0;else if(Array.isArray(e)){var U=e.concat();a=[];for(var F,N=U.length;N--;)("string"!=typeof(F=U.shift())||Array.isArray(F)&&"string"!=typeof F[0])&&(k=!1);I=k}if(!1===I)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var P=te/f.internal.scaleFactor,R=P*(w-1);switch(r.baseline){case"bottom":n-=R;break;case"top":n+=P-R;break;case"hanging":n+=P-2*R;break;case"middle":n+=P/2-R}if((c=r.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,c))},[]))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ee.publish("preProcessText",i),e=i.text,s=(r=i.options).angle,h instanceof Ue==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),b===v&&(s=-s);var L=Math.cos(s),O=Math.sin(s);h=new Ue(L,O,-O,L,0,0)}else s&&s instanceof Ue&&(h=s);b!==v||h||(h=Ne),void 0!==(A=r.charSpace||Jt)&&(y+=B(T(A))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=r.horizontalScale)&&(y+=B(100*p)+" Tz\n"),r.lang;var D=-1,M=void 0!==r.renderingMode?r.renderingMode:r.stroke,Q=f.internal.getCurrentPageInfo().pageContext;switch(M){case 0:case!1:case"fill":D=0;break;case 1:case!0:case"stroke":D=1;break;case 2:case"fillThenStroke":D=2;break;case 3:case"invisible":D=3;break;case 4:case"fillAndAddForClipping":D=4;break;case 5:case"strokeAndAddPathForClipping":D=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":D=6;break;case 7:case"addToPathForClipping":D=7}var j=void 0!==Q.usedRenderingMode?Q.usedRenderingMode:-1;-1!==D?y+=D+" Tr\n":-1!==j&&(y+="0 Tr\n"),-1!==D&&(Q.usedRenderingMode=D),l=r.align||"left";var H,z=te*w,V=f.internal.pageSize.getWidth(),K=ge[ue];A=r.charSpace||Jt,c=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var W=[],G=function(e){return f.getStringUnitWidth(e,{font:K,charSpace:A,fontSize:te,doKerning:!1})*te/S};if("[object Array]"===Object.prototype.toString.call(e)){var $;a=E(e),"left"!==l&&(H=a.map(G));var q,Y=0;if("right"===l){t-=H[0],e=[],N=a.length;for(var X=0;X<N;X++)0===X?(q=zt(t),$=Vt(n)):(q=T(Y-H[X]),$=-z),e.push([a[X],q,$]),Y=H[X]}else if("center"===l){t-=H[0]/2,e=[],N=a.length;for(var Z=0;Z<N;Z++)0===Z?(q=zt(t),$=Vt(n)):(q=T((Y-H[Z])/2),$=-z),e.push([a[Z],q,$]),Y=H[Z]}else if("left"===l){e=[],N=a.length;for(var ee=0;ee<N;ee++)e.push(a[ee])}else if("justify"===l&&"Identity-H"===K.encoding){e=[],N=a.length,c=0!==c?c:V;for(var ne=0,re=0;re<N;re++)if($=0===re?Vt(n):-z,q=0===re?zt(t):ne,re<N-1){var ie=T((c-H[re])/(a[re].split(" ").length-1)),ae=a[re].split(" ");e.push([ae[0]+" ",q,$]),ne=0;for(var se=1;se<ae.length;se++){var le=(G(ae[se-1]+" "+ae[se])-G(ae[se]))*S+ie;se==ae.length-1?e.push([ae[se],le,0]):e.push([ae[se]+" ",le,0]),ne-=le}}else e.push([a[re],q,$]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],N=a.length,c=0!==c?c:V,re=0;re<N;re++)$=0===re?Vt(n):-z,q=0===re?zt(t):0,re<N-1?W.push(B(T((c-H[re])/(a[re].split(" ").length-1)))):W.push(0),e.push([a[re],q,$])}}!0===("boolean"==typeof r.R2L?r.R2L:oe)&&(e=x(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ee.publish("postProcessText",i),e=i.text,m=i.mutex.isHex||!1;var Ae=ge[ue].encoding;"WinAnsiEncoding"!==Ae&&"StandardEncoding"!==Ae||(e=x(e,function(e,t,n){return[_(e),t,n]})),a=E(e),e=[];for(var ce,de,pe,he=Array.isArray(a[0])?1:0,fe="",me=function(e,t,n){var o="";return n instanceof Ue?(n="number"==typeof r.angle?Fe(n,new Ue(1,0,0,1,e,t)):Fe(new Ue(1,0,0,1,e,t),n),b===v&&(n=Fe(new Ue(1,0,0,-1,0,0),n)),o=n.join(" ")+" Tm\n"):o=B(e)+" "+B(t)+" Td\n",o},ye=0;ye<a.length;ye++){switch(fe="",he){case 1:pe=(m?"<":"(")+a[ye][0]+(m?">":")"),ce=parseFloat(a[ye][1]),de=parseFloat(a[ye][2]);break;case 0:pe=(m?"<":"(")+a[ye]+(m?">":")"),ce=zt(t),de=Vt(n)}void 0!==W&&void 0!==W[ye]&&(fe=W[ye]+" Tw\n"),0===ye?e.push(fe+me(ce,de,h)+pe):0===he?e.push(fe+pe):1===he&&e.push(fe+me(ce,de,h)+pe)}e=0===he?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=ue+" "+te+" Tf\n",ve+=B(te*w)+" TL\n",ve+=qt+"\n",ve+=y,ve+=e,J(ve+="ET"),d[ue]=!0,f};var _t=p.__private__.clip=p.clip=function(e){return J("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return _t("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var Bt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Bt(e)&&(A=e),this};var Ct=p.__private__.getStyle=p.getStyle=function(e){var t=A;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Et=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(e){return xt("f",e),this},p.fillEvenOdd=function(e){return xt("f*",e),this},p.fillStroke=function(e){return xt("B",e),this},p.fillStrokeEvenOdd=function(e){return xt("B*",e),this};var xt=function(e,t){"object"===(0,Hs.A)(t)?kt(t,e):J(e)},It=function(e){null===e||b===v&&void 0===e||(e=Ct(e),J(e))};function Tt(e,t,n,r,o){var i=new mA(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,o||this.matrix);i.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Pe(a,i),i}var kt=function(e,t){var n=be[e.key],r=ve[n];if(r instanceof gA)J("q"),J(Ut(t)),r.gState&&p.setGState(r.gState),J(e.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(r instanceof mA){var o=new Ue(1,0,0,-1,0,cn());e.matrix&&(o=o.multiply(e.matrix||Ne),n=Tt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,o).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),r.gState&&p.setGState(r.gState),J(t),J("Q")}},Ut=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ft=p.moveTo=function(e,t){return J(B(T(e))+" "+B(k(t))+" m"),this},Nt=p.lineTo=function(e,t){return J(B(T(e))+" "+B(k(t))+" l"),this},Pt=p.curveTo=function(e,t,n,r,o,i){return J([B(T(e)),B(k(t)),B(T(n)),B(k(r)),B(T(o)),B(k(i)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.line");return b===y?this.lines([[n-e,r-t]],e,t,[1,1],o||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,o,i){var a,s,l,A,c,u,d,p,h,f,g,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Bt(o)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ft(t,n),a=r[0],s=r[1],A=e.length,f=t,g=n,l=0;l<A;l++)2===(c=e[l]).length?(f=c[0]*a+f,g=c[1]*s+g,Nt(f,g)):(u=c[0]*a+f,d=c[1]*s+g,p=c[2]*a+f,h=c[3]*s+g,f=c[4]*a+f,g=c[5]*s+g,Pt(u,d,p,h,f,g));return i&&Et(),It(o),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Ft(r[0],r[1]);break;case"l":Nt(r[0],r[1]);break;case"c":Pt.apply(this,r);break;case"h":Et()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y&&(r=-r),J([B(T(e)),B(k(t)),B(T(n)),B(T(r)),"re"].join(" ")),It(o),this},p.__private__.triangle=p.triangle=function(e,t,n,r,o,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(o)||isNaN(i)||!Bt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[o-n,i-r],[e-o,t-i]],e,t,[1,1],a,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,o,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(o)||isNaN(i)||!Bt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return o=Math.min(o,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*o,0],[o*s,0,o,i-i*s,o,i],[0,r-2*i],[0,i*s,-o*s,i,-o,i],[2*o-n,0],[-o*s,0,-o,-i*s,-o,-i],[0,2*i-r],[0,-i*s,o*s,-i,o,-i]],e+o,t,[1,1],a,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Ft(e+n,t),Pt(e+n,t-a,e+i,t-r,e,t-r),Pt(e-i,t-r,e-n,t-a,e-n,t),Pt(e-n,t+a,e-i,t+r,e,t+r),Pt(e+i,t+r,e+n,t+a,e+n,t),It(o),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Bt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=_(t,n)),ue=At(e,t,{disableWarning:!1}),this};var Rt=p.__private__.getFont=p.getFont=function(){return ge[At.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,o){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?o=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=_(n,r)),nt.call(this,e,t,n,o=o||"Identity-H")};var Lt,Ot=e.lineWidth||.200025,Dt=p.__private__.getLineWidth=p.getLineWidth=function(){return Ot},Mt=p.__private__.setLineWidth=p.setLineWidth=function(e){return Ot=e,J(B(T(e))+" w"),this};p.__private__.setLineDash=yA.API.setLineDash=yA.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return B(T(e))}).join(" "),t=B(T(t)),J("["+e+"] "+t+" d"),this};var Qt=p.__private__.getLineHeight=p.getLineHeight=function(){return te*Lt};p.__private__.getLineHeight=p.getLineHeight=function(){return te*Lt};var jt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Lt=e),this},Ht=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Lt};jt(e.lineHeight);var zt=p.__private__.getHorizontalCoordinate=function(e){return T(e)},Vt=p.__private__.getVerticalCoordinate=function(e){return b===v?e:Ce[M].mediaBox.topRightY-Ce[M].mediaBox.bottomLeftY-T(e)},Kt=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return B(zt(e))},Wt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return B(Vt(e))},Gt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return He(Gt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return Gt=ze({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),J(Gt),this};var $t=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return He($t)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return $t=ze({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),J($t),this};var qt=e.textColor||"0 g",Yt=p.__private__.getTextColor=p.getTextColor=function(){return He(qt)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return qt=ze({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Jt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Zt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,J(t+" J"),this};var en=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,J(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(B(T(e))+" M"),this},p.GState=hA,p.setGState=function(e){(e="string"==typeof e?we[Se[e]]:tn(null,e)).equals(_e)||(J("/"+e.id+" gs"),_e=e)};var tn=function(e,t){if(!e||!Se[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var o="GS"+(Object.keys(we).length+1).toString(10);we[o]=t,t.id=o}return e&&(Se[e]=t.id),Ee.publish("addGState",t),t}};p.addGState=function(e,t){return tn(e,t),this},p.saveGraphicsState=function(){return J("q"),ye.push({key:ue,size:te,color:qt}),this},p.restoreGraphicsState=function(){J("Q");var e=ye.pop();return ue=e.key,te=e.size,qt=e.color,_e=null,this},p.setCurrentTransformationMatrix=function(e){return J(e.toString()+" cm"),this},p.comment=function(e){return J("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var o="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return o},set:function(e){o=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var o=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},on=function(){this.page=Be,this.currentPage=M,this.pages=G.slice(0),this.pagesContext=Ce.slice(0),this.x=pe,this.y=he,this.matrix=fe,this.width=ln(M),this.height=cn(M),this.outputDestination=q,this.id="",this.objectNumber=-1};on.prototype.restore=function(){Be=this.page,M=this.currentPage,Ce=this.pagesContext,G=this.pages,pe=this.x,he=this.y,fe=this.matrix,An(M,this.width),un(M,this.height),q=this.outputDestination};var an=function(e,t,n,r,o){ke.push(new on),Be=M=0,G=[],pe=e,he=t,fe=o,ot([n,r])};for(var sn in p.beginFormObject=function(e,t,n,r,o){return an(e,t,n,r,o),this},p.endFormObject=function(e){return function(e){if(Te[e])ke.pop().restore();else{var t=new on,n="Xo"+(Object.keys(Ie).length+1).toString(10);t.id=n,Te[e]=n,Ie[n]=t,Ee.publish("addFormObject",t),ke.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=Ie[Te[e]];return J("q"),J(t.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},p.getFormObject=function(e){var t=Ie[Te[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Gl(gt(ft()),e),"function"==typeof Gl.unload&&Ml.setTimeout&&setTimeout(Gl.unload,911),this):new Promise(function(t,n){try{var r=Gl(gt(ft()),e);"function"==typeof Gl.unload&&Ml.setTimeout&&setTimeout(Gl.unload,911),t(r)}catch(e){n(e.message)}})},yA.API)yA.API.hasOwnProperty(sn)&&("events"===sn&&yA.API.events.length?function(e,t){var n,r,o;for(o=t.length-1;-1!==o;o--)n=t[o][0],r=t[o][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ee,yA.API.events):p[sn]=yA.API[sn]);var ln=p.getPageWidth=function(e){return(Ce[e=e||M].mediaBox.topRightX-Ce[e].mediaBox.bottomLeftX)/de},An=p.setPageWidth=function(e,t){Ce[e].mediaBox.topRightX=t*de+Ce[e].mediaBox.bottomLeftX},cn=p.getPageHeight=function(e){return(Ce[e=e||M].mediaBox.topRightY-Ce[e].mediaBox.bottomLeftY)/de},un=p.setPageHeight=function(e,t){Ce[e].mediaBox.topRightY=t*de+Ce[e].mediaBox.bottomLeftY};return p.internal={pdfEscape:rt,getStyle:Ct,getFont:Rt,getFontSize:re,getCharSpace:Xt,getTextColor:Yt,getLineHeight:Qt,getLineHeightFactor:Ht,getLineWidth:Dt,write:X,getHorizontalCoordinate:zt,getVerticalCoordinate:Vt,getCoordinateString:Kt,getVerticalCoordinateString:Wt,collections:{},newObject:Le,newAdditionalObject:Me,newObjectDeferred:Oe,newObjectDeferredBegin:De,getFilters:Ve,putStream:Ke,events:Ee,scaleFactor:de,pageSize:{getWidth:function(){return ln(M)},setWidth:function(e){An(M,e)},getHeight:function(){return cn(M)},setHeight:function(e){un(M,e)}},encryptionOptions:c,encryption:vt,getEncryptor:function(e){return null!==c?vt.encryptor(e,0):function(e){return e}},output:mt,getNumberOfPages:lt,pages:G,out:J,f2:x,f3:I,getPageInfo:bt,getPageInfoByObjId:wt,getCurrentPageInfo:St,getPDFVersion:f,Point:nn,Rectangle:rn,Matrix:Ue,hasHotfix:yt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ln(M)},set:function(e){An(M,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return cn(M)},set:function(e){un(M,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(d[r]=!0);var o=e[t][0].split("-");tt({id:r,fontName:o[0],fontStyle:o[1]||""})}Ee.publish("addFonts",{fonts:ge,dictionary:me})}.call(p,ee),ue="F1",it(o,n),Ee.publish("initialized"),p}uA.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},uA.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uA.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},uA.prototype.processOwnerPassword=function(e,t){return AA(aA(t).substr(0,5),e)},uA.prototype.encryptor=function(e,t){var n=aA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return AA(n,e)}},hA.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Hs.A)(e)!==(0,Hs.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},yA.API={events:[]},yA.version="3.0.1";var vA=yA.API,bA=1,wA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},SA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_A=function(e){return e.toFixed(2)},BA=function(e){return e.toFixed(5)};vA.__acroform__={};var CA=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},EA=function(e){return e*bA},xA=function(e){var t=new VA,n=oc.internal.getHeight(e)||0,r=oc.internal.getWidth(e)||0;return t.BBox=[0,0,Number(_A(r)),Number(_A(n))],t},IA=vA.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},TA=vA.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},kA=vA.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},UA=vA.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kA(e,t-1)},FA=vA.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IA(e,t-1)},NA=vA.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TA(e,t-1)},PA=vA.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,o=e[0],i=e[1],a=e[2],s=e[3],l={};return l.lowerLeft_X=n(o)||0,l.lowerLeft_Y=r(i+s)||0,l.upperRight_X=n(o+a)||0,l.upperRight_Y=r(i)||0,[Number(_A(l.lowerLeft_X)),Number(_A(l.lowerLeft_Y)),Number(_A(l.upperRight_X)),Number(_A(l.upperRight_Y))]},RA=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=LA(e,n),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+_A(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=xA(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},LA=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},o=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(e){return e.split("\n")}):o.map(function(e){return[e]});var i=n,a=oc.internal.getHeight(e)||0;a=a<0?-a:a;var s=oc.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(t,n,r){if(t+1<o.length){var i=n+" "+o[t+1][0];return OA(i,e,r).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var A,c,u=OA("3",e,i).height,d=e.multiline?a-i:(a-u)/2,p=d+=2,h=0,f=0,g=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+OA(t,e,i=12).width+", FieldWidth:"+s+"\n";break}for(var m="",y=0,v=0;v<o.length;v++)if(o.hasOwnProperty(v)){var b=!1;if(1!==o[v].length&&g!==o[v].length-1){if((u+2)*(y+2)+2>a)continue e;m+=o[v][g],b=!0,f=v,v--}else{m=" "==(m+=o[v][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(v),S=l(w,m,i),_=v>=o.length-1;if(S&&!_){m+=" ",g=0;continue}if(S||_){if(_)f=w;else if(e.multiline&&(u+2)*(y+2)+2>a)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>a)continue e;f=w}}for(var B="",C=h;C<=f;C++){var E=o[C];if(e.multiline){if(C===f){B+=E[g]+" ",g=(g+1)%E.length;continue}if(C===h){B+=E[E.length-1]+" ";continue}}B+=E[0]+" "}switch(B=" "==B.substr(B.length-1)?B.substr(0,B.length-1):B,c=OA(B,e,i).width,e.textAlign){case"right":A=s-c-2;break;case"center":A=(s-c)/2;break;default:A=2}t+=_A(A)+" "+_A(p)+" Td\n",t+="("+wA(B)+") Tj\n",t+=-_A(A)+" 0 Td\n",p=-(i+2),c=0,h=b?f:f+1,y++,m=""}break}return r.text=t,r.fontSize=i,r},OA=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},DA={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},MA=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},QA=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(WA.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(DA)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new KA,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&MA(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var o=e[r],i=[],a=o.Rect;if(o.Rect&&(o.Rect=PA(o.Rect,t)),t.internal.newObjectDeferredBegin(o.objId,!0),o.DA=oc.createDefaultAppearanceStream(o),"object"===(0,Hs.A)(o)&&"function"==typeof o.getKeyValueListForStream&&(i=o.getKeyValueListForStream()),o.Rect=a,o.hasAppearanceStream&&!o.appearanceStreamContent){var s=RA(o);i.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(o.appearanceStreamContent){var l="";for(var A in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(A)){var c=o.appearanceStreamContent[A];if(l+="/"+A+" ",l+="<<",Object.keys(c).length>=1||Array.isArray(c)){for(var r in c)if(c.hasOwnProperty(r)){var u=c[r];"function"==typeof u&&(u=u.call(t,o)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=c)&&(u=u.call(t,o)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:o.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,o=e[n];t.internal.newObjectDeferredBegin(o.objId,!0),"object"===(0,Hs.A)(o)&&"function"==typeof o.putStream&&o.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},jA=vA.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var o="[",i=0;i<e.length;i++)switch(0!==i&&(o+=" "),(0,Hs.A)(e[i])){case"boolean":case"number":case"object":o+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),o+="("+wA(r(e[i].toString()))+")"):o+=e[i].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},HA=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+wA(r(e))+")"},zA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zA.prototype.toString=function(){return this.objId+" 0 R"},zA.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},zA.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],o=this[r];o&&(Array.isArray(o)?e.push({key:r,value:jA(o,this.objId,this.scope)}):o instanceof zA?(o.scope=this.scope,e.push({key:r,value:o.objId+" 0 R"})):"function"!=typeof o&&e.push({key:r,value:o}))}return e};var VA=function(){zA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};CA(VA,zA);var KA=function(){zA.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+wA(t(e))+")"}},set:function(t){e=t}})};CA(KA,zA);var WA=function e(){zA.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(t,3))},set:function(e){!0===Boolean(e)?this.F=FA(t,3):this.F=NA(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ec)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+wA(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===A?50/bA:A},set:function(e){A=e}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof ec||this instanceof nc))return HA(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof JA==0?HA(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof JA==0?"("===e.substr(0,1)?SA(e.substr(1,e.length-2)):SA(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof JA==1?SA(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof JA==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof JA==0?HA(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof JA==0?"("===e.substr(0,1)?SA(e.substr(1,e.length-2)):SA(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof JA==1?SA(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof JA==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var h,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(h)return h},set:function(e){h=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,1):this.Ff=NA(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,2):this.Ff=NA(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,3):this.Ff=NA(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};CA(WA,zA);var GA=function(){WA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jA(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,o=[];r=t.exec(e);)o.push(r[n]);return o}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,18):this.Ff=NA(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=FA(this.Ff,19):this.Ff=NA(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=FA(this.Ff,20),t.sort()):this.Ff=NA(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,22):this.Ff=NA(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,23):this.Ff=NA(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,27):this.Ff=NA(this.Ff,27)}}),this.hasAppearanceStream=!1};CA(GA,WA);var $A=function(){GA.call(this),this.fontName="helvetica",this.combo=!1};CA($A,GA);var qA=function(){$A.call(this),this.combo=!0};CA(qA,$A);var YA=function(){qA.call(this),this.edit=!0};CA(YA,qA);var JA=function(){WA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,15):this.Ff=NA(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,16):this.Ff=NA(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,17):this.Ff=NA(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,26):this.Ff=NA(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+wA(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Hs.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};CA(JA,WA);var XA=function(){JA.call(this),this.pushButton=!0};CA(XA,JA);var ZA=function(){JA.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};CA(ZA,JA);var ec=function(){var e,t;WA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+wA(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Hs.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=oc.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};CA(ec,WA),ZA.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ZA.prototype.createOption=function(e){var t=new ec;return t.Parent=this,t.optionName=e,this.Kids.push(t),ic.call(this.scope,t),t};var tc=function(){JA.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=oc.CheckBox.createAppearanceStream()};CA(tc,JA);var nc=function(){WA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,13):this.Ff=NA(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,21):this.Ff=NA(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,23):this.Ff=NA(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,24):this.Ff=NA(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,25):this.Ff=NA(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,26):this.Ff=NA(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};CA(nc,WA);var rc=function(){nc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(UA(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=FA(this.Ff,14):this.Ff=NA(this.Ff,14)}}),this.password=!0};CA(rc,nc);var oc={CheckBox:{createAppearanceStream:function(){return{N:{On:oc.CheckBox.YesNormal},D:{On:oc.CheckBox.YesPushDown,Off:oc.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=xA(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),i=LA(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+_A(oc.internal.getWidth(e))+" "+_A(oc.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+_A(i.fontSize)+" Tf "+o),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=xA(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),o=[],i=oc.internal.getHeight(e),a=oc.internal.getWidth(e),s=LA(e,e.caption);return o.push("1 g"),o.push("0 0 "+_A(a)+" "+_A(i)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+_A(a-1)+" "+_A(i-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+_A(s.fontSize)+" Tf "+r),o.push(s.text),o.push("ET"),o.push("Q"),t.stream=o.join("\n"),t},OffPushDown:function(e){var t=xA(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_A(oc.internal.getWidth(e))+" "+_A(oc.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:oc.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=oc.RadioButton.Circle.YesNormal,t.D[e]=oc.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=xA(e);t.scope=e.scope;var n=[],r=oc.internal.getWidth(e)<=oc.internal.getHeight(e)?oc.internal.getWidth(e)/4:oc.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=oc.internal.Bezier_C,i=Number((r*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+BA(oc.internal.getWidth(e)/2)+" "+BA(oc.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=xA(e);t.scope=e.scope;var n=[],r=oc.internal.getWidth(e)<=oc.internal.getHeight(e)?oc.internal.getWidth(e)/4:oc.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),i=Number((o*oc.internal.Bezier_C).toFixed(5)),a=Number((r*oc.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+BA(oc.internal.getWidth(e)/2)+" "+BA(oc.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),n.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),n.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),n.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+BA(oc.internal.getWidth(e)/2)+" "+BA(oc.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=xA(e);t.scope=e.scope;var n=[],r=oc.internal.getWidth(e)<=oc.internal.getHeight(e)?oc.internal.getWidth(e)/4:oc.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),i=Number((o*oc.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+BA(oc.internal.getWidth(e)/2)+" "+BA(oc.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),n.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),n.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),n.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:oc.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=oc.RadioButton.Cross.YesNormal,t.D[e]=oc.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=xA(e);t.scope=e.scope;var n=[],r=oc.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+_A(oc.internal.getWidth(e)-2)+" "+_A(oc.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(_A(r.x1.x)+" "+_A(r.x1.y)+" m"),n.push(_A(r.x2.x)+" "+_A(r.x2.y)+" l"),n.push(_A(r.x4.x)+" "+_A(r.x4.y)+" m"),n.push(_A(r.x3.x)+" "+_A(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=xA(e);t.scope=e.scope;var n=oc.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+_A(oc.internal.getWidth(e))+" "+_A(oc.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+_A(oc.internal.getWidth(e)-2)+" "+_A(oc.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(_A(n.x1.x)+" "+_A(n.x1.y)+" m"),r.push(_A(n.x2.x)+" "+_A(n.x2.y)+" l"),r.push(_A(n.x4.x)+" "+_A(n.x4.y)+" m"),r.push(_A(n.x3.x)+" "+_A(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=xA(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_A(oc.internal.getWidth(e))+" "+_A(oc.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};oc.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=oc.internal.getWidth(e),n=oc.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},oc.internal.getWidth=function(e){var t=0;return"object"===(0,Hs.A)(e)&&(t=EA(e.Rect[2])),t},oc.internal.getHeight=function(e){var t=0;return"object"===(0,Hs.A)(e)&&(t=EA(e.Rect[3])),t};var ic=vA.addField=function(e){if(QA(this,e),!(e instanceof WA))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};vA.AcroFormChoiceField=GA,vA.AcroFormListBox=$A,vA.AcroFormComboBox=qA,vA.AcroFormEditBox=YA,vA.AcroFormButton=JA,vA.AcroFormPushButton=XA,vA.AcroFormRadioButton=ZA,vA.AcroFormCheckBox=tc,vA.AcroFormTextField=nc,vA.AcroFormPasswordField=rc,vA.AcroFormAppearance=oc,vA.AcroForm={ChoiceField:GA,ListBox:$A,ComboBox:qA,EditBox:YA,Button:JA,PushButton:XA,RadioButton:ZA,CheckBox:tc,TextField:nc,PasswordField:rc,Appearance:oc},yA.AcroForm={ChoiceField:GA,ListBox:$A,ComboBox:qA,EditBox:YA,Button:JA,PushButton:XA,RadioButton:ZA,CheckBox:tc,TextField:nc,PasswordField:rc,Appearance:oc};yA.AcroForm;function ac(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var o,i,a,s,l,A=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(S(e))for(l in n)for(a=n[l],o=0;o<a.length;o+=1){for(s=!0,i=0;i<a[o].length;i+=1)if(void 0!==a[o][i]&&a[o][i]!==e[i]){s=!1;break}if(!0===s){A=l;break}}else for(l in n)for(a=n[l],o=0;o<a.length;o+=1){for(s=!0,i=0;i<a[o].length;i+=1)if(void 0!==a[o][i]&&a[o][i]!==e.charCodeAt(i)){s=!1;break}if(!0===s){A=l;break}}return A===t&&r!==t&&(A=r),A},o=function e(t){for(var n=this.internal.write,r=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",s=0,l=t.transparency.length;s<l;s++)a+=t.transparency[s]+" "+t.transparency[s]+" ";i.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var A=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:A,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var c="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:c,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var d=this.internal.newObject();r({data:B(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},i=function(){var e=this.internal.collections.addImage_images;for(var t in e)o.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var e=this.internal.collections.addImage_images;return s.call(this),e},A=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===(0,Hs.A)(e)&&1===e.nodeType},d=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Kl(unescape(r).split("base64,").pop());var o=e.loadFile(r,!0);if(void 0!==o)return o}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return Kl(t.toDataURL(i,1).split("base64,").pop())}},p=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},h=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},f=function(e,t,n,r,o,i){var a=h.call(this,n,r,o),s=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,c=l.call(this);if(n=a[0],r=a[1],c[o.index]=o,i){i*=Math.PI/180;var u=Math.cos(i),d=Math.sin(i),p=function(e){return e.toFixed(4)},f=[p(u),p(d),p(-1*d),p(u),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,s(e),A(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),A(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+o.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(S(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},B=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=S(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,o,i,a,l,A,c;if("number"==typeof arguments[1]?(n=t,r=arguments[1],o=arguments[2],i=arguments[3],a=arguments[4],l=arguments[5],A=arguments[6],c=arguments[7]):(n=arguments[1],r=arguments[2],o=arguments[3],i=arguments[4],a=arguments[5],l=arguments[6],A=arguments[7],c=arguments[8]),"object"===(0,Hs.A)(e=arguments[0])&&!u(e)&&"imageData"in e){var d=e;e=d.imageData,n=d.format||n||t,r=d.x||r||0,o=d.y||o||0,i=d.w||d.width||i,a=d.h||d.height||a,l=d.alias||l,A=d.compression||A,c=d.rotation||d.angle||c}var p=this.internal.getFilters();if(void 0===A&&-1!==p.indexOf("FlateEncode")&&(A="SLOW"),isNaN(r)||isNaN(o))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var h=C.call(this,e,n,l,A);return f.call(this,r,o,i,a,h,c),this};var C=function(n,o,i,a){var s,l,h;if("string"==typeof n&&r(n)===t){n=unescape(n);var f=E(n,!1);(""!==f||void 0!==(f=e.loadFile(n,!0)))&&(n=f)}if(u(n)&&(n=d(n,o)),o=r(n,o),!c(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if((null==(h=i)||0===h.length)&&(i=function(e){return"string"==typeof e||S(e)?y(e):S(e.data)?y(e.data):null}(n)),(s=p.call(this,i))||(w()&&(n instanceof Uint8Array||"RGBA"===o||(l=n,n=_(n))),s=this["process"+o.toUpperCase()](n,A.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:m.NONE}(a),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},E=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var o;n=null!==(o=b(e))&&void 0!==o?o:e;try{r=Kl(n)}catch(e){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(n){var o,i,a="";if(u(n)&&(n=d(n)),"string"==typeof n&&r(n)===t&&(""===(a=E(n,!1))&&(a=e.loadFile(n)||""),n=a),i=r(n),!c(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(!w()||n instanceof Uint8Array||(n=_(n)),!(o=this["process"+i.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return o.fileType=i,o}}(yA.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};yA.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,o,i=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,A=!1,c=0;c<l.length&&!A;c++)switch((n=l[c]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(0!=A){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var d=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(h.objId),m=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",o+=" /Popup "+f.objId+" 0 R",o+=" /P "+s.objId+" 0 R",o+=" /T ("+d(g(m))+") >>",h.content=o;var y=h.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(o+=" /Open true"),o+=" >>",f.content=o,this.internal.write(h.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+i(n.bounds.x)+" "+a(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(p(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var w=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=o&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,o){var i=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:a(e),y:s(t),w:a(e+n),h:s(t+r)},options:o,type:"link"})},e.textWithLink=function(e,t,n,r){var o,i,a=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(e,i).length;o=Math.ceil(s*l)}else i=a,o=s;return this.text(e,t,n,r),n+=.2*s,"center"===r.align&&(t-=a/2),"right"===r.align&&(t-=a),this.link(t,n-s,i,o,r),a},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(yA.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&o.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&i(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,o="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(o+=String.fromCharCode(r),r=n,i=0),t===e.length-1&&(r=n,o+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=n,o+=e.charAt(t-i),t-=i,i=0);return o};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===i(e)?-1:!A(e)||!a(t)&&!a(n)||!a(n)&&s(t)||s(e)&&!a(t)||s(e)&&l(t)||s(e)&&s(t)?0:c(e)&&a(t)&&!s(t)&&a(n)&&A(n)?3:s(e)||!a(n)?1:2:-1},p=function(e){var n=0,r=0,o=0,i="",s="",l="",A=(e=e||"").split("\\s+"),c=[];for(n=0;n<A.length;n+=1){for(c.push(""),r=0;r<A[n].length;r+=1)i=A[n][r],s=A[n][r-1],l=A[n][r+1],a(i)?(o=d(i,s,l),c[n]+=-1!==o?String.fromCharCode(t[i.charCodeAt(0)][o]):i):c[n]+=i;c[n]=u(c[n])}return c.join(" ")},h=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",h])}(yA.API),yA.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yA.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var o=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),o=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,a=0,s=0,l=0,A=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var c=t.maxWidth;c>0?"string"==typeof e?e=this.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(A.splitTextToSize(t,c))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)a<(l=this.getStringUnitWidth(e[u],{font:o})*n)&&(a=l);return 0!==a&&(s=e.length),{w:a/=i,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var o=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return void 0!==o.lineNumber&&(o.lineNumber===e.lineNumber?(e.x=(o.x||0)+(o.width||0),e.y=o.y||0):o.y+o.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,A&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=o.y+o.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,A,c){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,d,p,h,f=[],g=[],m=[],y={},v={},b=[],w=[],S=(c=c||{}).autoSize||!1,_=!1!==c.printHeaders,B=c.css&&void 0!==c.css["font-size"]?16*c.css["font-size"]:c.fontSize||12,C=c.margins||Object.assign({width:this.getPageWidth()},t),E="number"==typeof c.padding?c.padding:3,x=c.headerBackgroundColor||"#c8c8c8",I=c.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=x,this.internal.__cell__.headerTextColor=I,this.setFontSize(B),null==A)g=f=Object.keys(l[0]),m=f.map(function(){return"left"});else if(Array.isArray(A)&&"object"===(0,Hs.A)(A[0]))for(f=A.map(function(e){return e.name}),g=A.map(function(e){return e.prompt||e.name||""}),m=A.map(function(e){return e.align||"left"}),u=0;u<A.length;u+=1)v[A[u].name]=A[u].width*(19.049976/25.4);else Array.isArray(A)&&"string"==typeof A[0]&&(g=f=A,m=f.map(function(){return"left"}));if(S||Array.isArray(A)&&"string"==typeof A[0])for(u=0;u<f.length;u+=1){for(y[h=f[u]]=l.map(function(e){return e[h]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=y[h],this.setFont(void 0,"normal"),p=0;p<d.length;p+=1)b.push(this.getTextDimensions(d[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[h]=Math.max.apply(null,b)+E+E,b=[]}if(_){var T={};for(u=0;u<f.length;u+=1)T[f[u]]={},T[f[u]].text=g[u],T[f[u]].align=m[u];var k=s.call(this,T,v);w=f.map(function(t){return new i(e,n,v[t],k,T[t].text,void 0,T[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var U=A.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in c&&c.rowStart instanceof Function&&c.rowStart({row:u,data:l[u]},this);var F=s.call(this,l[u],v);for(p=0;p<f.length;p+=1){var N=l[u][f[p]];"cellStart"in c&&c.cellStart instanceof Function&&c.cellStart({row:u,col:p,data:N},this),a.call(this,new i(e,n,v[f[p]],F,N,u+2,U[f[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,o=this.internal.scaleFactor;return Object.keys(e).map(function(r){var o=e[r];return this.splitTextToSize(o.hasOwnProperty("text")?o.text:o,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/o+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var o;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){o=this.internal.__cell__.tableHeaderRow[A].clone(),t&&(o.y=this.internal.__cell__.margins.top||0,l.push(o)),o.lineNumber=e;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,o),this.setTextColor(c)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(yA.API);var sc={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lc=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ac=ac(lc),cc=[100,200,300,400,500,600,700,800,900],uc=ac(cc);function dc(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return sc[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),o=function(e){return"number"==typeof Ac[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,n,r].join(" ")}}}function pc(e,t,n,r){var o;for(o=n;o>=0&&o<t.length;o+=r)if(e[t[o]])return e[t[o]];for(o=n;o>=0&&o<t.length;o-=r)if(e[t[o]])return e[t[o]]}var hc={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fc={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gc(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function mc(e){return e.trimLeft()}function yc(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function vc(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var bc,wc,Sc,_c,Bc=["times"];!function(e){var t,n,r,o,i,a,s,l,A,c=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var o=0;Object.defineProperty(this,"posX",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),A.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(e){e instanceof c&&(A=e)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(e){A.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null;function h(e,t){if(null===p){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());p=function(e){for(var t={},n=0;n<e.length;++n){var r=dc(e[n]),o=r.family,i=r.stretch,a=r.style,s=r.weight;t[o]=t[o]||{},t[o][i]=t[o][i]||{},t[o][i][a]=t[o][i][a]||{},t[o][i][a][s]=r}return t}(n.concat(t))}return p}var f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(e){p=null,f=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],o=t[4];t[5];var i=t[6],a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(o)[2];o="px"===a?Math.floor(parseFloat(o)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(o)*this.pdf.getFontSize()):Math.floor(parseFloat(o)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(o);var s=function(e){var t,n,r=[],o=e.trim();if(""===o)return Bc;if(o in fc)return[fc[o]];for(;""!==o;){switch(n=null,t=(o=mc(o)).charAt(0)){case'"':case"'":n=yc(o.substring(1),t);break;default:n=vc(o)}if(null===n)return Bc;if(r.push(n[0]),""!==(o=mc(n[1]))&&","!==o.charAt(0))return Bc;o=o.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},hc,n.genericFontFamilies||{}),i=null,a=null,s=0;s<t.length;++s)if(o[(i=dc(t[s])).family]&&(i.family=o[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+gc(i)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=Ac[e],r=n<=Ac.normal?-1:1,o=pc(t,lc,n,r);if(!o)throw new Error("Could not find a matching font-stretch value for "+e);return o}(i.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=sc[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(i.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=uc[e],r=pc(t,cc,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+gc(i)+"'.");return a}(h(this.pdf,this.fontFaces),s.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var A="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(A="bold"),"italic"===n&&(A+="italic"),0===A.length&&(A="normal");for(var c="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<s.length;d++){if(void 0!==this.pdf.internal.getFont(s[d],A,{noFallback:!0,disableWarning:!0})){c=s[d];break}if("bolditalic"===A&&void 0!==this.pdf.internal.getFont(s[d],"bold",{noFallback:!0,disableWarning:!0}))c=s[d],A="bold";else if(void 0!==this.pdf.internal.getFont(s[d],"normal",{noFallback:!0,disableWarning:!0})){c=s[d],A="normal";break}}if(""===c)for(var p=0;p<s.length;p++)if(u[s[p]]){c=u[s[p]];break}c=""===c?"Times":c,this.pdf.setFont(c,A)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,O.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,O.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){b.call(this,"fill",!1)},u.prototype.stroke=function(){b.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw jl.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},u.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Hs.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw jl.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw jl.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var o=this.ctx.transform.applyToPoint(new a(n,r)),i=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:o.x,y:o.y}),this.ctx.lastPoint=new a(o.x,o.y)},u.prototype.bezierCurveTo=function(e,t,n,r,o,i){if(isNaN(o)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jl.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new a(o,i)),l=this.ctx.transform.applyToPoint(new a(e,t)),A=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:A.x,y2:A.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},u.prototype.arc=function(e,t,n,r,o,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(o))throw jl.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new a(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),A=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-A.x,2)+Math.pow(l.y-A.y,2))}Math.abs(o-r)>=2*Math.PI&&(r=0,o=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:o,counterclockwise:i})},u.prototype.arcTo=function(e,t,n,r,o){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jl.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jl.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var o={};"butt"!==this.lineCap&&(o.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(o.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),o.hasOwnProperty("lineCap")&&(this.lineCap=o.lineCap),o.hasOwnProperty("lineJoin")&&(this.lineJoin=o.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jl.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jl.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,o;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,o=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),o=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),o=parseFloat(i[4]);else{if(o=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new $l(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:o,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},h=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw jl.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var o=P(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:i,angle:o,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw jl.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){r=isNaN(r)?void 0:r;var o=P(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:i,renderingMode:"stroke",angle:o,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw jl.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),o=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:o*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw jl.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw jl.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw jl.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,o,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(o)||isNaN(i))throw jl.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(e,t,n,r,o,i);this.ctx.transform=this.ctx.transform.multiply(a)},u.prototype.setTransform=function(e,t,n,r,o,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,o=isNaN(o)?0:o,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,n,r,o,i)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,o,i,a,A,c){var u=this.pdf.getImageProperties(e),d=1,p=1,h=1,m=1;void 0!==r&&void 0!==A&&(h=A/r,m=c/o,d=u.width/r*A/r,p=u.height/o*c/o),void 0===i&&(i=t,a=n,t=0,n=0),void 0!==r&&void 0===A&&(A=r,c=o),void 0===r&&void 0===A&&(A=u.width,c=u.height);for(var b,S=this.ctx.transform.decompose(),_=P(S.rotate.shx),B=new l,C=(B=(B=(B=B.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new s(i-t*h,a-n*m,r*d,o*p)),E=g.call(this,C),x=[],I=0;I<E.length;I+=1)-1===x.indexOf(E[I])&&x.push(E[I]);if(v(x),this.autoPaging)for(var T=x[0],k=x[x.length-1],U=T;U<k+1;U++){this.pdf.setPage(U);var F=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],N=1===U?this.posY+this.margin[0]:this.margin[0],R=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],O=1===U?0:R+(U-2)*L;if(0!==this.ctx.clip_path.length){var D=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(b,this.posX+this.margin[3],-O+N+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=D}var M=JSON.parse(JSON.stringify(C));M=y([M],this.posX+this.margin[3],-O+N+this.ctx.prevPageLastElemOffset)[0];var Q=(U>T||U<k)&&f.call(this);Q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,L,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",M.x,M.y,M.w,M.h,null,null,_),Q&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",C.x,C.y,C.w,C.h,null,null,_)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var o=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+o)/n)+1);break;case"arc":r.push(Math.floor((e.y+o-e.radius)/n)+1),r.push(Math.floor((e.y+o+e.radius)/n)+1);break;case"qct":var i=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+o)/n)+1),r.push(Math.floor((i.y+i.h+o)/n)+1);break;case"bct":var a=L(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((a.y+o)/n)+1),r.push(Math.floor((a.y+a.h+o)/n)+1);break;case"rect":r.push(Math.floor((e.y+o)/n)+1),r.push(Math.floor((e.y+e.h+o)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)m.call(this);return r},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,o=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=o,this.lineJoin=i},y=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},v=function(e){return e.sort(function(e,t){return e-t})},b=function(e,t){for(var n,r,o=this.fillStyle,i=this.strokeStyle,a=this.lineCap,s=this.lineWidth,l=Math.abs(s*this.ctx.transform.scaleX),A=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var h=g.call(this,u[p]),b=0;b<h.length;b+=1)-1===d.indexOf(h[b])&&d.push(h[b]);for(var S=0;S<d.length;S++)for(;this.pdf.internal.getNumberOfPages()<d[S];)m.call(this);if(v(d),this.autoPaging)for(var _=d[0],B=d[d.length-1],C=_;C<B+1;C++){this.pdf.setPage(C),this.fillStyle=o,this.strokeStyle=i,this.lineCap=a,this.lineWidth=l,this.lineJoin=A;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],x=1===C?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],k=1===C?0:I+(C-2)*T;if(0!==this.ctx.clip_path.length){var U=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-k+x+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=U}if(r=JSON.parse(JSON.stringify(c)),this.path=y(r,this.posX+this.margin[3],-k+x+this.ctx.prevPageLastElemOffset),!1===t||0===C){var F=(C>_||C<B)&&f.call(this);F&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,T,null).clip().discardPath()),w.call(this,e,t),F&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=s;this.path=c},w=function(e,t){if(("stroke"!==e||t||!h.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,o=[],i=this.path,a=0;a<i.length;a++){var s=i[a];switch(s.type){case"begin":o.push({begin:!0});break;case"close":o.push({close:!0});break;case"mt":o.push({start:s,deltas:[],abs:[]});break;case"lt":var l=o.length;if(i[a-1]&&!isNaN(i[a-1].x)&&(n=[s.x-i[a-1].x,s.y-i[a-1].y],l>0))for(;l>=0;l--)if(!0!==o[l-1].close&&!0!==o[l-1].begin){o[l-1].deltas.push(n),o[l-1].abs.push(s);break}break;case"bct":n=[s.x1-i[a-1].x,s.y1-i[a-1].y,s.x2-i[a-1].x,s.y2-i[a-1].y,s.x-i[a-1].x,s.y-i[a-1].y],o[o.length-1].deltas.push(n);break;case"qct":var A=i[a-1].x+2/3*(s.x1-i[a-1].x),c=i[a-1].y+2/3*(s.y1-i[a-1].y),u=s.x+2/3*(s.x1-s.x),d=s.y+2/3*(s.y1-s.y),f=s.x,g=s.y;n=[A-i[a-1].x,c-i[a-1].y,u-i[a-1].x,d-i[a-1].y,f-i[a-1].x,g-i[a-1].y],o[o.length-1].deltas.push(n);break;case"arc":o.push({deltas:[],abs:[],arc:!0}),Array.isArray(o[o.length-1].abs)&&o[o.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,y=0;y<o.length;y++)if(o[y].arc)for(var v=o[y].abs,b=0;b<v.length;b++){var w=v[b];"arc"===w.type?B.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!m):T.call(this,w.x,w.y),m=!0}else if(!0===o[y].close)this.pdf.internal.out("h"),m=!1;else if(!0!==o[y].begin){var S=o[y].start.x,_=o[y].start.y;k.call(this,o[y].deltas,S,_),m=!0}r&&C.call(this,r),t&&E.call(this)}},S=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(e,t,n,r,o,i,a,s,l){for(var A=F.call(this,n,r,o,i),c=0;c<A.length;c++){var u=A[c];0===c&&(l?x.call(this,u.x1+e,u.y1+t):T.call(this,u.x1+e,u.y1+t)),U.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}s?E.call(this):C.call(this,a)},C=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},I=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=S.call(this,e.y),o=_.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new a(e.x,r)),A=this.ctx.transform.decompose(),c=new l;c=(c=(c=c.multiply(A.translate)).multiply(A.skew)).multiply(A.scale);for(var u,d,p,h=this.ctx.transform.applyToRectangle(new s(e.x,r,n.w,n.h)),m=c.applyToRectangle(new s(e.x,o,n.w,n.h)),b=g.call(this,m),B=[],C=0;C<b.length;C+=1)-1===B.indexOf(b[C])&&B.push(b[C]);if(v(B),this.autoPaging)for(var E=B[0],x=B[B.length-1],I=E;I<x+1;I++){this.pdf.setPage(I);var T=1===I?this.posY+this.margin[0]:this.margin[0],k=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],U=this.pdf.internal.pageSize.height-this.margin[2],F=U-this.margin[0],N=this.pdf.internal.pageSize.width-this.margin[1],P=N-this.margin[3],R=1===I?0:k+(I-2)*F;if(0!==this.ctx.clip_path.length){var L=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(u,this.posX+this.margin[3],-1*R+T),w.call(this,"fill",!0),this.path=L}var O=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-R+T+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var D="text"!==this.autoPaging;if(D||O.y+O.h<=U){if(D||O.y>=T&&O.x<=N){var M=D?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||N-O.x)[0],Q=y([JSON.parse(JSON.stringify(h))],this.posX+this.margin[3],-R+T+this.ctx.prevPageLastElemOffset)[0],j=D&&(I>E||I<x)&&f.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],P,F,null).clip().discardPath()),this.pdf.text(M,Q.x,Q.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),j&&this.pdf.restoreGraphicsState()}}else O.y<U&&(this.ctx.prevPageLastElemOffset+=U-O.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=p)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=p)},T=function(e,t,o,i){o=o||0,i=i||0,this.pdf.internal.out(n(e+o)+" "+r(t+i)+" l")},k=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},U=function(e,n,r,a,s,l,A,c){this.pdf.internal.out([t(o(r+e)),t(i(a+n)),t(o(s+e)),t(i(l+n)),t(o(A+e)),t(i(c+n)),"c"].join(" "))},F=function(e,t,n,r){for(var o=2*Math.PI,i=Math.PI/2;t>n;)t-=o;var a=Math.abs(n-t);a<o&&r&&(a=o-a);for(var s=[],l=r?-1:1,A=t;a>1e-5;){var c=A+l*Math.min(a,i);s.push(N.call(this,e,A,c)),a-=Math.abs(c-A),A=c}return s},N=function(e,t,n){var r=(n-t)/2,o=e*Math.cos(r),i=e*Math.sin(r),a=o,s=-i,l=a*a+s*s,A=l+a*o+s*i,c=4/3*(Math.sqrt(2*l*A)-A)/(a*i-s*o),u=a-c*s,d=s+c*a,p=u,h=-d,f=r+t,g=Math.cos(f),m=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-d*m,y2:u*m+d*g,x3:p*g-h*m,y3:p*m+h*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},P=function(e){return 180*e/Math.PI},R=function(e,t,n,r,o,i){var a=e+.5*(n-e),l=t+.5*(r-t),A=o+.5*(n-o),c=i+.5*(r-i),u=Math.min(e,o,a,A),d=Math.max(e,o,a,A),p=Math.min(t,i,l,c),h=Math.max(t,i,l,c);return new s(u,p,d-u,h-p)},L=function(e,t,n,r,o,i,a,l){var A,c,u,d,p,h,f,g,m,y,v,b,w,S,_=n-e,B=r-t,C=o-n,E=i-r,x=a-o,I=l-i;for(c=0;c<41;c++)m=(f=(u=e+(A=c/40)*_)+A*((p=n+A*C)-u))+A*(p+A*(o+A*x-p)-f),y=(g=(d=t+A*B)+A*((h=r+A*E)-d))+A*(h+A*(i+A*I-h)-g),0==c?(v=m,b=y,w=m,S=y):(v=Math.min(v,m),b=Math.min(b,y),w=Math.max(w,m),S=Math.max(S,y));return new s(Math.round(v),Math.round(b),Math.round(w-v),Math.round(S-b))},O=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(yA.API),function(e){var t=function(e){var t,n,r,o,i,a,s,l,A,c;for(/[^\x00-\xFF]/.test(e),n=[],r=0,o=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;o>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(i=((i=((i=((i=(i-(c=i%85))/85)-(A=i%85))/85)-(l=i%85))/85)-(s=i%85))/85)%85,n.push(a+33,s+33,l+33,A+33,c+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,o,i,a=String,s="length",l=255,A="charCodeAt",c="slice",u="replace";for(e[c](-2),e=e[c](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],o=0,i=(e+=t="uuuuu"[c](e[s]%5||5))[s];i>o;o+=5)n=52200625*(e[A](o)-33)+614125*(e[A](o+1)-33)+7225*(e[A](o+2)-33)+85*(e[A](o+3)-33)+(e[A](o+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),a.fromCharCode.apply(a,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},o=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Ll(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var a=0,s=e||"",l=[];for("string"==typeof(i=i||[])&&(i=[i]),a=0;a<i.length;a+=1)switch(i[a]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=r(s),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=o(s),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[a]+'" is not implemented')}return{data:s,reverseChain:l.reverse().join(" ")}}}(yA.API),(_c=yA.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,o=0,i=function(e){var t=e.length,n=[],r=String.fromCharCode;for(o=0;o<t;o+=1)n.push(r(255&e.charCodeAt(o)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},_c.loadImageFile=_c.loadFile,function(e){function t(){return(Ml.html2canvas?Promise.resolve(Ml.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Ml.DOMPurify?Promise.resolve(Ml.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var o=function(e){var t=(0,Hs.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(e,t){return e.__proto__=t||a.prototype,e},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(o(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},a.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),o=t.firstChild;o;o=o.nextSibling)!0!==n&&1===o.nodeType&&"SCRIPT"===o.nodeName||r.appendChild(e(o,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,o=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete o.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var a=n[i],s=a.src.find(function(e){return"truetype"===e.format});s&&t.addFont(s.url,a.ref.name,a.ref.style)}return o.windowHeight=o.windowHeight||0,o.windowHeight=0==o.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):o.windowHeight,t.context2d.save(!0),e(this.prop.container,o)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},a.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},a.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},a.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(e){if("object"!==o(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in a.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},a.prototype.get=function(e,t){return this.then(function(){var n=e in a.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},a.prototype.setMargin=function(e){return this.then(function(){switch(o(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},a.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||yA.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},a.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},a.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),o=n.call(r,e,t);return a.convert(o,this.__proto__)},a.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},a.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},a.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return a.convert(t,this)},a.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},a.prototype.error=function(e){return this.then(function(){throw new Error(e)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,yA.getPageSize=function(e,t,n){if("object"===(0,Hs.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var o,i=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":o=1;break;case"mm":o=72/25.4;break;case"cm":o=72/2.54;break;case"in":o=72;break;case"px":o=.75;break;case"pc":case"em":o=12;break;case"ex":o=6;break;default:throw"Invalid unit: "+t}var s,l=0,A=0;if(a.hasOwnProperty(i))l=a[i][1]/o,A=a[i][0]/o;else try{l=n[1],A=n[0]}catch(_c){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",A>l&&(s=A,A=l,l=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>A&&(s=A,A=l,l=s)}return{width:A,height:l,unit:t,k:o,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(dc):null;var n=new a(t);return t.worker?n:n.from(e).doCallback()}}(yA.API),yA.API.addJS=function(e){return Sc=e,this.internal.events.subscribe("postPutResources",function(){bc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),wc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Sc+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==bc&&void 0!==wc&&this.internal.out("/Names <</JavaScript "+bc+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var i=r[o],a=n.exec(i);if(null!=a){var s=a[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,A=[];for(o=0;o<l;o++){var c=e.internal.newObject();A.push(c);var u=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<A.length;o++)e.internal.write("(page_"+(o+1)+")"+A[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var o=t.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var i=this.count=this.count_r({count:0},o);if(i>0&&this.line("/Count "+i),o.options&&o.options.pageNumber){var a=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(yA.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,o,i,a){var s,l=this.decode.DCT_DECODE,A=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),o=e.length,i={width:0,height:0,numcomponents:1},a=4;a<o;a+=2){if(a+=r,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),i={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}A={data:e,width:s.width,height:s.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return A}}(yA.API);var Cc,Ec,xc,Ic,Tc,kc=function(){var e,t,n;function r(e){var t,n,r,o,i,a,s,l,A,c,u,d,p,h;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),A=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),o=this.readUInt16()||100,a.delay=1e3*i/o,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===A&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((c=r-this.transparency.indexed.length)>0)for(p=0;0<=c?p<c:p>c;0<=c?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,u.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(h=this.colorType)||6===h,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,o=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function i(i,a,s,l){var A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k=Math.ceil((o.width-i)/s),U=Math.ceil((o.height-a)/l),F=o.width==k&&o.height==U;for(S=t*k,b=F?n:new Uint8Array(S*U),h=e.length,w=0,c=0;w<U&&r<h;){switch(e[r++]){case 0:for(d=C=0;C<S;d=C+=1)b[c++]=e[r++];break;case 1:for(d=E=0;E<S;d=E+=1)A=e[r++],p=d<t?0:b[c-t],b[c++]=(A+p)%256;break;case 2:for(d=x=0;x<S;d=x+=1)A=e[r++],u=(d-d%t)/t,_=w&&b[(w-1)*S+u*t+d%t],b[c++]=(_+A)%256;break;case 3:for(d=I=0;I<S;d=I+=1)A=e[r++],u=(d-d%t)/t,p=d<t?0:b[c-t],_=w&&b[(w-1)*S+u*t+d%t],b[c++]=(A+Math.floor((p+_)/2))%256;break;case 4:for(d=T=0;T<S;d=T+=1)A=e[r++],u=(d-d%t)/t,p=d<t?0:b[c-t],0===w?_=B=0:(_=b[(w-1)*S+u*t+d%t],B=u&&b[(w-1)*S+(u-1)*t+d%t]),f=p+_-B,g=Math.abs(f-p),y=Math.abs(f-_),v=Math.abs(f-B),m=g<=y&&g<=v?p:y<=v?_:B,b[c++]=(A+m)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!F){var N=((a+w*l)*o.width+i)*t,P=w*S;for(d=0;d<k;d+=1){for(var R=0;R<t;R+=1)n[N++]=b[P++];N+=(s-1)*t}}w++}}return e=Ol(e),1==o.interlaceMethod?(i(0,0,8,8),i(4,0,8,8),i(0,4,4,8),i(2,0,4,4),i(0,2,2,4),i(1,0,2,2),i(0,1,1,2)):i(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,o,i,a,s,l;for(n=this.palette,i=this.transparency.indexed||[],o=new Uint8Array((i.length||0)+n.length),r=0,e=0,t=a=0,s=n.length;a<s;t=a+=3)o[r++]=n[t],o[r++]=n[t+1],o[r++]=n[t+2],o[r++]=null!=(l=i[e++])?l:255;return o},r.prototype.copyToImageData=function(e,t){var n,r,o,i,a,s,l,A,c,u,d;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),A=(o=e.data||e).length,a=c||t,i=s=0,1===r)for(;i<A;)l=c?4*t[i/4]:s,u=a[l++],o[i++]=u,o[i++]=u,o[i++]=u,o[i++]=n?a[l++]:255,s=l;else for(;i<A;)l=c?4*t[i/4]:s,o[i++]=a[l++],o[i++]=a[l++],o[i++]=a[l++],o[i++]=n?a[l++]:255,s=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var o=function(){if("[object Window]"===Object.prototype.toString.call(Ml)){try{t=Ml.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return o(),e=function(e){var r;if(!0===o())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,o,i,a,s,l,A;if(this.animation){for(A=[],r=a=0,s=(l=this.animation.frames).length;a<s;r=++a)n=l[r],o=t.createImageData(n.width,n.height),i=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(o,i),n.imageData=o,A.push(n.image=e(o));return A}},r.prototype.renderFrame=function(e,t){var n,r,o;return n=(r=this.animation.frames)[t],o=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=o?o.disposeOp:void 0)?e.clearRect(o.xOffset,o.yOffset,o.width,o.height):2===(null!=o?o.disposeOp:void 0)&&e.putImageData(o.imageData,o.xOffset,o.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,o,i,a,s=this;return n=0,a=this.animation,o=a.numFrames,r=a.frames,i=a.numPlays,(t=function(){var a,l;if(a=n++%o,l=r[a],s.renderFrame(e,a),o>1&&n/o<i)return s.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function Uc(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,o=e[t++],i=o>>7,a=1<<1+(7&o);e[t++],e[t++];var s=null,l=null;i&&(s=t,l=a,t+=3*a);var A=!0,c=[],u=0,d=null,p=0,h=null;for(this.width=n,this.height=r;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,h=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(0===x)break;t+=x}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,d=e[t++],0==(1&f)&&(d=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(0===x)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,S=1<<1+(7&b),_=s,B=l,C=!1;b>>7&&(C=!0,_=t,B=S,t+=3*S);var E=t;for(t++;;){var x;if(!((x=e[t++])>=0))throw Error("Invalid block size");if(0===x)break;t+=x}c.push({x:g,y:m,width:y,height:v,has_local_palette:C,palette_offset:_,palette_size:B,data_offset:E,data_length:t-E,transparent_index:d,interlaced:!!w,delay:u,disposal:p});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return h},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,r){var o=this.frameInfo(t),i=o.width*o.height,a=new Uint8Array(i);Fc(e,o.data_offset,a,i);var s=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var A=o.width,c=n-A,u=A,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),h=d,f=4*c;!0===o.interlaced&&(f+=4*n*7);for(var g=8,m=0,y=a.length;m<y;++m){var v=a[m];if(0===u&&(u=A,(h+=f)>=p&&(f=4*c+4*n*(g-1),h=d+(A+c)*(g<<1),g>>=1)),v===l)h+=4;else{var b=e[s+3*v],w=e[s+3*v+1],S=e[s+3*v+2];r[h++]=S,r[h++]=w,r[h++]=b,r[h++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var o=this.frameInfo(t),i=o.width*o.height,a=new Uint8Array(i);Fc(e,o.data_offset,a,i);var s=o.palette_offset,l=o.transparent_index;null===l&&(l=256);var A=o.width,c=n-A,u=A,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),h=d,f=4*c;!0===o.interlaced&&(f+=4*n*7);for(var g=8,m=0,y=a.length;m<y;++m){var v=a[m];if(0===u&&(u=A,(h+=f)>=p&&(f=4*c+4*n*(g-1),h=d+(A+c)*(g<<1),g>>=1)),v===l)h+=4;else{var b=e[s+3*v],w=e[s+3*v+1],S=e[s+3*v+2];r[h++]=b,r[h++]=w,r[h++]=S,r[h++]=255}--u}}}function Fc(e,t,n,r){for(var o=e[t++],i=1<<o,a=i+1,s=a+1,l=o+1,A=(1<<l)-1,c=0,u=0,d=0,p=e[t++],h=new Int32Array(4096),f=null;;){for(;c<16&&0!==p;)u|=e[t++]<<c,c+=8,1===p?p=e[t++]:--p;if(c<l)break;var g=u&A;if(u>>=l,c-=l,g!==i){if(g===a)break;for(var m=g<s?g:f,y=0,v=m;v>i;)v=h[v]>>8,++y;var b=v;if(d+y+(m!==g?1:0)>r)return void jl.log("Warning, gif stream longer than expected.");n[d++]=b;var w=d+=y;for(m!==g&&(n[d++]=b),v=m;y--;)v=h[v],n[--w]=255&v,v>>=8;null!==f&&s<4096&&(h[s++]=f<<8|b,s>=A+1&&l<12&&(++l,A=A<<1|1)),f=g}else s=a+1,A=(1<<(l=o+1))-1,f=null}return d!==r&&jl.log("Warning, gif stream shorter than expected."),n}function Nc(e){var t,n,r,o,i,a=Math.floor,s=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(65535),d=new Array(65535),p=new Array(64),h=new Array(64),f=[],g=0,m=7,y=new Array(64),v=new Array(64),b=new Array(64),w=new Array(256),S=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(e,t){for(var n=0,r=0,o=new Array,i=1;i<=16;i++){for(var a=1;a<=e[i];a++)o[t[r]]=[],o[t[r]][0]=n,o[t[r]][1]=i,r++,n++;n*=2}return o}function N(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(P(255),P(0)):P(g),m=7,g=0)}function P(e){f.push(e)}function R(e){P(e>>8&255),P(255&e)}function L(e,t,n,r,o){for(var i,a=o[0],s=o[240],l=function(e,t){var n,r,o,i,a,s,l,A,c,u,d=0;for(c=0;c<8;++c){n=e[d],r=e[d+1],o=e[d+2],i=e[d+3],a=e[d+4],s=e[d+5],l=e[d+6];var h=n+(A=e[d+7]),f=n-A,g=r+l,m=r-l,y=o+s,v=o-s,b=i+a,w=i-a,S=h+b,_=h-b,B=g+y,C=g-y;e[d]=S+B,e[d+4]=S-B;var E=.707106781*(C+_);e[d+2]=_+E,e[d+6]=_-E;var x=.382683433*((S=w+v)-(C=m+f)),I=.5411961*S+x,T=1.306562965*C+x,k=.707106781*(B=v+m),U=f+k,F=f-k;e[d+5]=F+I,e[d+3]=F-I,e[d+1]=U+T,e[d+7]=U-T,d+=8}for(d=0,c=0;c<8;++c){n=e[d],r=e[d+8],o=e[d+16],i=e[d+24],a=e[d+32],s=e[d+40],l=e[d+48];var N=n+(A=e[d+56]),P=n-A,R=r+l,L=r-l,O=o+s,D=o-s,M=i+a,Q=i-a,j=N+M,H=N-M,z=R+O,V=R-O;e[d]=j+z,e[d+32]=j-z;var K=.707106781*(V+H);e[d+16]=H+K,e[d+48]=H-K;var W=.382683433*((j=Q+D)-(V=L+P)),G=.5411961*j+W,$=1.306562965*V+W,q=.707106781*(z=D+L),Y=P+q,J=P-q;e[d+40]=J+G,e[d+24]=J-G,e[d+8]=Y+$,e[d+56]=Y-$,d++}for(c=0;c<64;++c)u=e[c]*t[c],p[c]=u>0?u+.5|0:u-.5|0;return p}(e,t),A=0;A<64;++A)h[_[A]]=l[A];var c=h[0]-n;n=h[0],0==c?N(r[0]):(N(r[d[i=32767+c]]),N(u[i]));for(var f=63;f>0&&0==h[f];)f--;if(0==f)return N(a),n;for(var g,m=1;m<=f;){for(var y=m;0==h[m]&&m<=f;)++m;var v=m-y;if(v>=16){g=v>>4;for(var b=1;b<=g;++b)N(s);v&=15}i=32767+h[m],N(o[(v<<4)+d[i]]),N(u[i]),m++}return 63!=f&&N(a),n}function O(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[_[n]]=r}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=a((o[i]*e+50)/100);u=Math.min(Math.max(u,1),255),l[_[i]]=u}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,h=0;h<8;h++)for(var f=0;f<8;f++)A[p]=1/(s[_[p]]*d[h]*d[f]*8),c[p]=1/(l[_[p]]*d[h]*d[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&O(i),f=new Array,g=0,m=7,R(65496),R(65504),R(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),R(1),R(1),P(0),P(0),function(){R(65499),R(132),P(0);for(var e=0;e<64;e++)P(s[e]);P(1);for(var t=0;t<64;t++)P(l[t])}(),function(e,t){R(65472),R(17),P(8),R(t),R(e),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1)}(e.width,e.height),function(){R(65476),R(418),P(0);for(var e=0;e<16;e++)P(B[e+1]);for(var t=0;t<=11;t++)P(C[t]);P(16);for(var n=0;n<16;n++)P(E[n+1]);for(var r=0;r<=161;r++)P(x[r]);P(1);for(var o=0;o<16;o++)P(I[o+1]);for(var i=0;i<=11;i++)P(T[i]);P(17);for(var a=0;a<16;a++)P(k[a+1]);for(var s=0;s<=161;s++)P(U[s])}(),R(65498),R(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var a=0,u=0,d=0;g=0,m=7,this.encode.displayName="_encode_";for(var p,h,w,_,F,D,M,Q,j,H=e.data,z=e.width,V=e.height,K=4*z,W=0;W<V;){for(p=0;p<K;){for(F=K*W+p,M=-1,Q=0,j=0;j<64;j++)D=F+(Q=j>>3)*K+(M=4*(7&j)),W+Q>=V&&(D-=K*(W+1+Q-V)),p+M>=K&&(D-=p+M-K+4),h=H[D++],w=H[D++],_=H[D++],y[j]=(S[h]+S[w+256|0]+S[_+512|0]>>16)-128,v[j]=(S[h+768|0]+S[w+1024|0]+S[_+1280|0]>>16)-128,b[j]=(S[h+1280|0]+S[w+1536|0]+S[_+1792|0]>>16)-128;a=L(y,A,a,t,r),u=L(v,c,u,n,o),d=L(b,c,d,n,o),p+=32}W+=8}if(m>=0){var G=[];G[1]=m+1,G[0]=(1<<m+1)-1,N(G)}return R(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=F(B,C),n=F(I,T),r=F(E,x),o=F(k,U),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var o=-(t-1);o<=-e;o++)d[32767+o]=n,u[32767+o]=[],u[32767+o][1]=n,u[32767+o][0]=t-1+o;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)S[e]=19595*e,S[e+256|0]=38470*e,S[e+512|0]=7471*e+32768,S[e+768|0]=-11059*e,S[e+1024|0]=-21709*e,S[e+1280|0]=32768*e+8421375,S[e+1536|0]=-27439*e,S[e+1792|0]=-5329*e}(),O(e)}function Pc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Rc(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,o){for(var i=0;i<o;i++)e[t+i]=n[r+i]}function o(e,t,n,r){for(var o=0;o<r;o++)e[t+o]=n}function i(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,o){for(var i=o[r],a=0;a<i&&(n.push(o.length>r+1?[]:new t),!(o.length<r+1));a++)e(n[a],r+1,o)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function A(e,n,r,o,i){t(!(o%r));do{e[n+(o-=r)]=i}while(0<o)}function c(e,n,r,o,a){if(t(2328>=a),512>=a)var s=i(512);else if(null==(s=i(a)))return 0;return function(e,n,r,o,a,s){var c,d,p=n,h=1<<r,f=i(16),g=i(16);for(t(0!=a),t(null!=o),t(null!=e),t(0<r),d=0;d<a;++d){if(15<o[d])return 0;++f[o[d]]}if(f[0]==a)return 0;for(g[1]=0,c=1;15>c;++c){if(f[c]>1<<c)return 0;g[c+1]=g[c]+f[c]}for(d=0;d<a;++d)c=o[d],0<o[d]&&(s[g[c]++]=d);if(1==g[15])return(o=new u).g=0,o.value=s[0],A(e,p,1,h,o),h;var m,y=-1,v=h-1,b=0,w=1,S=1,_=1<<r;for(d=0,c=1,a=2;c<=r;++c,a<<=1){if(w+=S<<=1,0>(S-=f[c]))return 0;for(;0<f[c];--f[c])(o=new u).g=c,o.value=s[d++],A(e,p+b,a,_,o),b=l(b,c)}for(c=r+1,a=2;15>=c;++c,a<<=1){if(w+=S<<=1,0>(S-=f[c]))return 0;for(;0<f[c];--f[c]){if(o=new u,(b&v)!=y){for(p+=_,m=1<<(y=c)-r;15>y&&!(0>=(m-=f[y]));)++y,m<<=1;h+=_=1<<(m=y-r),e[n+(y=b&v)].g=m+r,e[n+y].value=p-n-y}o.g=c-r,o.value=s[d++],A(e,p+(b>>r),a,_,o),b=l(b,c)}}return w!=2*g[15]-1?0:h}(e,n,r,o,a,s)}function u(){this.value=this.g=0}function d(){this.value=this.g=0}function p(){this.G=a(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Mn,d)}function h(e,n,r,o){t(null!=e),t(null!=n),t(2147483648>o),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+o,e.Zc=4<=o?r+o-4+1:r,E(e)}function f(e,t){for(var n=0;0<t--;)n|=I(e,128)<<t;return n}function g(e,t){var n=f(e,t);return x(e)?-n:n}function m(e,n,r,o){var i,a=0;for(t(null!=e),t(null!=n),t(4294967288>o),e.Sb=o,e.Ra=0,e.u=0,e.h=0,4<o&&(o=4),i=0;i<o;++i)a+=n[r+i]<<8*i;e.Ra=a,e.bb=o,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;_(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=jn){var r=S(e)&Qn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function S(e){return e.Ra>>>(e.u&Hn-1)>>>0}function _(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function B(e,t){e.u=t,e.h=_(e)}function C(e){e.u>=zn&&(t(e.u>=zn),y(e))}function E(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function x(e){return f(e,1)}function I(e,t){var n=e.Ca;0>e.b&&E(e);var r=e.b,o=n*t>>>8,i=(e.I>>>r>o)+0;for(i?(n-=o,e.I-=o+1<<r>>>0):n=o+1,r=n,o=0;256<=r;)o+=8,r>>=8;return r=7^o+Vn[r],e.b-=r,e.Ca=(n<<r)-1,i}function T(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function k(e,t){return e[t+0]|e[t+1]<<8}function U(e,t){return k(e,t)|e[t+2]<<16}function F(e,t){return k(e,t)|k(e,t+2)<<16}function N(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=i(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function P(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function R(){this.X=[],this.Xa=this.Mb=0}function L(e,n,r,o){t(null!=r),t(null!=o);var i=r[0],a=o[0];return 0==i&&(i=(e*a+n/2)/n),0==a&&(a=(n*i+e/2)/e),0>=i||0>=a?0:(r[0]=i,o[0]=a,1)}function O(e,t){return e+(1<<t)-1>>>t}function D(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function M(t,n){e[n]=function(n,r,o,i,a,s,l){var A;for(A=0;A<a;++A){var c=e[t](s[l+A-1],o,i+A);s[l+A]=D(n[r+A],c)}}}function Q(){this.ud=this.hd=this.jd=0}function j(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function z(e,t){return H(e+(e-t+.5>>1))}function V(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function K(e,t,n,r,o,i,a){for(r=i[a-1],n=0;n<o;++n)i[a+n]=r=D(e[t+n],r)}function W(e,t,n,r,o){var i;for(i=0;i<n;++i){var a=e[t+i],s=a>>8&255,l=16711935&(l=(l=16711935&a)+((s<<16)+s));r[o+i]=(4278255360&a)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function $(e,t,n,r,o,i){var a;for(a=0;a<r;++a){var s=t[n+a],l=s>>>8,A=s,c=255&(c=(c=s>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));A=255&(A=(A+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(c<<24>>24)>>>5)),o[i+a]=(4278255360&s)+(c<<16)+A}}function q(t,n,r,o,i){e[n]=function(e,t,n,r,a,s,l,A,c){for(r=l;r<A;++r)for(l=0;l<c;++l)a[s++]=i(n[o(e[t++])])},e[t]=function(t,n,a,s,l,A,c){var u=8>>t.b,d=t.Ea,p=t.K[0],h=t.w;if(8>u)for(t=(1<<t.b)-1,h=(1<<u)-1;n<a;++n){var f,g=0;for(f=0;f<d;++f)f&t||(g=o(s[l++])),A[c++]=i(p[g&h]),g>>=u}else e["VP8LMapColor"+r](s,l,p,h,A,c,n,a,d)}}function Y(e,t,n,r,o){for(n=t+n;t<n;){var i=e[t++];r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i}}function J(e,t,n,r,o){for(n=t+n;t<n;){var i=e[t++];r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i,r[o++]=i>>24&255}}function X(e,t,n,r,o){for(n=t+n;t<n;){var i=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[o++]=i,r[o++]=a}}function Z(e,t,n,r,o){for(n=t+n;t<n;){var i=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[o++]=i,r[o++]=a}}function ee(e,t,n,r,o){for(n=t+n;t<n;){var i=e[t++];r[o++]=255&i,r[o++]=i>>8&255,r[o++]=i>>16&255}}function te(e,t,n,o,i,a){if(0==a)for(n=t+n;t<n;)T(o,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),i+=32;else r(o,i,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==zr||e==Vr||e==Kr||e==Wr}function oe(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oe,this.f.kb=new ie,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ae(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ce(e,t){var n=e.T,o=t.ba.f.RGBA,i=o.eb,a=o.fb+e.ka*o.A,s=yo[t.ba.S],l=e.y,A=e.O,c=e.f,u=e.N,d=e.ea,p=e.W,h=t.cc,f=t.dc,g=t.Mc,m=t.Nc,y=e.ka,v=e.ka+e.T,b=e.U,w=b+1>>1;for(0==y?s(l,A,null,null,c,u,d,p,c,u,d,p,i,a,null,null,b):(s(t.ec,t.fc,l,A,h,f,g,m,c,u,d,p,i,a-o.A,i,a,b),++n);y+2<v;y+=2)h=c,f=u,g=d,m=p,u+=e.Rc,p+=e.Rc,a+=2*o.A,s(l,(A+=2*e.fa)-e.fa,l,A,h,f,g,m,c,u,d,p,i,a-o.A,i,a,b);return A+=e.fa,e.j+v<e.o?(r(t.ec,t.fc,l,A,b),r(t.cc,t.dc,c,u,w),r(t.Mc,t.Nc,d,p,w),n--):1&v||s(l,A,null,null,c,u,d,p,c,u,d,p,i,a+o.A,null,null,b),n}function ue(e,n,r){var o=e.F,i=[e.J];if(null!=o){var a=e.U,s=n.ba.S,l=s==Qr||s==Kr;n=n.ba.f.RGBA;var A=[0],c=e.ka;A[0]=e.T,e.Kb&&(0==c?--A[0]:(--c,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(A[0]=e.o-e.j-c));var u=n.eb;c=n.fb+c*n.A,e=Cr(o,i[0],e.width,a,A,u,c+(l?0:3),n.A),t(r==A),e&&re(s)&&_r(u,c,l,a,A,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,o=n==Or||n==Mr||n==Qr||n==jr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Ln(t.Oa,e,o?11:12))return 0;if(o&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=Ae,e.Kb){if(n=e.U+1>>1,t.memory=i(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ce,vn()}}else alert("todo:EmitYUV");o&&(t.Jb=ue,r&&mn())}if(r&&!Fo){for(e=0;256>e;++e)No[e]=89858*(e-128)+xo>>Eo,Lo[e]=-22014*(e-128)+xo,Ro[e]=-45773*(e-128),Po[e]=113618*(e-128)+xo>>Eo;for(e=Io;e<To;++e)t=76283*(e-16)+xo>>Eo,Oo[e-Io]=Ke(t,255),Do[e-Io]=Ke(t+8>>4,15);Fo=1}return 1}function pe(e){var n=e.ma,r=e.U,o=e.T;return t(!(1&e.ka)),0>=r||0>=o?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function he(e){e.ma.memory=null}function fe(e,t,n,r){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,r[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=S(n),o=e[t+=255&r].g-8;return 0<o&&(B(n,n.u+8),r=S(n),t+=e[t].value,t+=r&(1<<o)-1),B(n,n.u+e[t].g),e[t].value}function ve(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function be(e,n,r){var o=e.xc;return t((n=0==o?0:e.vc[e.md*(r>>o)+(n>>o)])<e.Wb),e.Ya[n]}function we(e,n,o,i){var a=e.ab,s=e.c*n,l=e.C;n=l+n;var A=o,c=i;for(i=e.Ta,o=e.Ua;0<a--;){var u=e.gc[a],d=l,p=n,h=A,f=c,g=(c=i,A=o,u.Ea);switch(t(d<p),t(p<=u.nc),u.hc){case 2:Gn(h,f,(p-d)*g,c,A);break;case 0:var m=d,y=p,v=c,b=A,w=(E=u).Ea;0==m&&(Kn(h,f,null,null,1,v,b),K(h,f+1,0,0,w-1,v,b+1),f+=w,b+=w,++m);for(var S=1<<E.b,_=S-1,B=O(w,E.b),C=E.K,E=E.w+(m>>E.b)*B;m<y;){var x=C,I=E,T=1;for(Wn(h,f,v,b-w,1,v,b);T<w;){var k=(T&~_)+S;k>w&&(k=w),(0,Xn[x[I++]>>8&15])(h,f+ +T,v,b+T-w,k-T,v,b+T),T=k}f+=w,b+=w,++m&_||(E+=B)}p!=u.nc&&r(c,A-g,c,A+(p-d-1)*g,g);break;case 1:for(g=h,y=f,w=(h=u.Ea)-(b=h&~(v=(f=1<<u.b)-1)),m=O(h,u.b),S=u.K,u=u.w+(d>>u.b)*m;d<p;){for(_=S,B=u,C=new Q,E=y+b,x=y+h;y<E;)G(_[B++],C),Zn(C,g,y,f,c,A),y+=f,A+=f;y<x&&(G(_[B++],C),Zn(C,g,y,w,c,A),y+=w,A+=w),++d&v||(u+=m)}break;case 3:if(h==c&&f==A&&0<u.b){for(y=c,h=g=A+(p-d)*g-(b=(p-d)*O(u.Ea,u.b)),f=c,v=A,m=[],b=(w=b)-1;0<=b;--b)m[b]=f[v+b];for(b=w-1;0<=b;--b)y[h+b]=m[b];$n(u,d,p,c,g,c,A)}else $n(u,d,p,h,f,c,A)}A=i,c=o}c!=o&&r(i,o,A,c,s)}function Se(e,n){var r=e.V,o=e.Ba+e.c*e.C,i=n-e.C;if(t(n<=e.l.o),t(16>=i),0<i){var a=e.l,s=e.Ta,l=e.Ua,A=a.width;if(we(e,i,r,o),i=l=[l],t((r=e.C)<(o=n)),t(a.v<a.va),o>a.o&&(o=a.o),r<a.j){var c=a.j-r;r=a.j,i[0]+=c*A}if(r>=o?r=0:(i[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=o-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,d=(o=r.S,i=a.U,a=a.T,c=u.eb,u.A),p=a;for(u=u.fb+e.Ma*u.A;0<p--;){var h=s,f=l,g=i,m=c,y=u;switch(o){case Lr:er(h,f,g,m,y);break;case Or:tr(h,f,g,m,y);break;case zr:tr(h,f,g,m,y),_r(m,y,0,g,1,0);break;case Dr:or(h,f,g,m,y);break;case Mr:te(h,f,g,m,y,1);break;case Vr:te(h,f,g,m,y,1),_r(m,y,0,g,1,0);break;case Qr:te(h,f,g,m,y,0);break;case Kr:te(h,f,g,m,y,0),_r(m,y,1,g,1,0);break;case jr:nr(h,f,g,m,y);break;case Wr:nr(h,f,g,m,y),Br(m,y,g,1,0);break;case Hr:rr(h,f,g,m,y);break;default:t(0)}l+=A,u+=d}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function _e(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Be(e,n,r,o,i,a){if(0!=e.Z){var s=e.qd,l=e.rd;for(t(null!=mo[e.Z]);n<r;++n)mo[e.Z](s,l,o,i,o,i,a),s=o,l=i,i+=a;e.qd=s,e.rd=l}}function Ce(e,n){var r=e.l.ma,o=0==r.Z||1==r.Z?e.l.j:e.C;if(o=e.C<o?o:e.C,t(n<=e.l.o),n>o){var i=e.l.width,a=r.ca,s=r.tb+i*o,l=e.V,A=e.Ba+e.c*o,c=e.gc;t(1==e.ab),t(3==c[0].hc),Yn(c[0],o,n,l,A,a,s),Be(r,o,n,a,s,i)}e.C=e.Ma=n}function Ee(e,n,r,o,i,a,s){var l=e.$/o,A=e.$%o,c=e.m,u=e.s,d=r+e.$,p=d;i=r+o*i;var h=r+o*a,f=280+u.ua,g=e.Pb?l:16777216,m=0<u.ua?u.Wa:null,y=u.wc,v=d<h?be(u,A,l):null;t(e.C<a),t(h<=i);var b=!1;e:for(;;){for(;b||d<h;){var w=0;if(l>=g){var E=d-r;t((g=e).Pb),g.wd=g.m,g.xd=E,0<g.s.ua&&P(g.s.Wa,g.s.vb),g=l+eo}if(A&y||(v=be(u,A,l)),t(null!=v),v.Qb&&(n[d]=v.qb,b=!0),!b)if(C(c),v.jc){w=c,E=n;var x=d,I=v.pd[S(w)&Mn-1];t(v.jc),256>I.g?(B(w,w.u+I.g),E[x]=I.value,w=0):(B(w,w.u+I.g-256),t(256<=I.value),w=I.value),0==w&&(b=!0)}else w=ye(v.G[0],v.H[0],c);if(c.h)break;if(b||256>w){if(!b)if(v.nd)n[d]=(v.qb|w<<8)>>>0;else{if(C(c),b=ye(v.G[1],v.H[1],c),C(c),E=ye(v.G[2],v.H[2],c),x=ye(v.G[3],v.H[3],c),c.h)break;n[d]=(x<<24|b<<16|w<<8|E)>>>0}if(b=!1,++d,++A>=o&&(A=0,++l,null!=s&&l<=a&&!(l%16)&&s(e,l),null!=m))for(;p<d;)w=n[p++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else if(280>w){if(w=ge(w-256,c),E=ye(v.G[4],v.H[4],c),C(c),E=me(o,E=ge(E,c)),c.h)break;if(d-r<E||i-d<w)break e;for(x=0;x<w;++x)n[d+x]=n[d+x-E];for(d+=w,A+=w;A>=o;)A-=o,++l,null!=s&&l<=a&&!(l%16)&&s(e,l);if(t(d<=i),A&y&&(v=be(u,A,l)),null!=m)for(;p<d;)w=n[p++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else{if(!(w<f))break e;for(b=w-280,t(null!=m);p<d;)w=n[p++],m.X[(506832829*w&4294967295)>>>m.Mb]=w;w=d,t(!(b>>>(E=m).Xa)),n[w]=E.X[b],b=!0}b||t(c.h==_(c))}if(e.Pb&&c.h&&d<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&P(e.s.vb,e.s.Wa);else{if(c.h)break e;null!=s&&s(e,l>a?a:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function xe(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ie(){var t=new sn;return null==t?null:(t.a=0,t.xb=go,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=W,Zn=$,er=Y,tr=J,nr=X,rr=Z,or=ee,e.VP8LMapColor32b=qn,e.VP8LMapColor8b=Jn,t)}function Te(e,n,r,s,l){var A=1,d=[e],h=[n],f=s.m,g=s.s,m=null,y=0;e:for(;;){if(r)for(;A&&v(f,1);){var b=d,w=h,_=s,E=1,x=_.m,I=_.gc[_.ab],T=v(x,2);if(_.Oc&1<<T)A=0;else{switch(_.Oc|=1<<T,I.hc=T,I.Ea=b[0],I.nc=w[0],I.K=[null],++_.ab,t(4>=_.ab),T){case 0:case 1:I.b=v(x,3)+2,E=Te(O(I.Ea,I.b),O(I.nc,I.b),0,_,I.K),I.K=I.K[0];break;case 3:var k,U=v(x,8)+1,F=16<U?0:4<U?1:2<U?2:3;if(b[0]=O(I.Ea,F),I.b=F,k=E=Te(U,1,0,_,I.K)){var P,R=U,L=I,M=1<<(8>>L.b),Q=i(M);if(null==Q)k=0;else{var j=L.K[0],H=L.w;for(Q[0]=L.K[0][0],P=1;P<1*R;++P)Q[P]=D(j[H+P],Q[P-1]);for(;P<4*M;++P)Q[P]=0;L.K[0]=null,L.K[0]=Q,k=1}}E=k;break;case 2:break;default:t(0)}A=E}}if(d=d[0],h=h[0],A&&v(f,1)&&!(A=1<=(y=v(f,4))&&11>=y)){s.a=3;break e}var z;if(z=A)t:{var V,K,W,G=s,$=d,q=h,Y=y,J=r,X=G.m,Z=G.s,ee=[null],te=1,ne=0,re=Zr[Y];n:for(;;){if(J&&v(X,1)){var oe=v(X,3)+2,ie=O($,oe),ae=O(q,oe),se=ie*ae;if(!Te(ie,ae,0,G,ee))break n;for(ee=ee[0],Z.xc=oe,V=0;V<se;++V){var le=ee[V]>>8&65535;ee[V]=le,le>=te&&(te=le+1)}}if(X.h)break n;for(K=0;5>K;++K){var Ae=qr[K];!K&&0<Y&&(Ae+=1<<Y),ne<Ae&&(ne=Ae)}var ce=a(te*re,u),ue=te,de=a(ue,p);if(null==de)var pe=null;else t(65536>=ue),pe=de;var he=i(ne);if(null==pe||null==he||null==ce){G.a=1;break n}var fe=ce;for(V=W=0;V<te;++V){var ge=pe[V],me=ge.G,ye=ge.H,be=0,we=1,Se=0;for(K=0;5>K;++K){Ae=qr[K],me[K]=fe,ye[K]=W,!K&&0<Y&&(Ae+=1<<Y);r:{var _e,Be=Ae,Ce=G,Ie=he,ke=fe,Ue=W,Fe=0,Ne=Ce.m,Pe=v(Ne,1);if(o(Ie,0,0,Be),Pe){var Re=v(Ne,1)+1,Le=v(Ne,1),Oe=v(Ne,0==Le?1:8);Ie[Oe]=1,2==Re&&(Ie[Oe=v(Ne,8)]=1);var De=1}else{var Me=i(19),Qe=v(Ne,4)+4;if(19<Qe){Ce.a=3;var je=0;break r}for(_e=0;_e<Qe;++_e)Me[Jr[_e]]=v(Ne,3);var He=void 0,ze=void 0,Ve=Ce,Ke=Me,We=Be,Ge=Ie,$e=0,qe=Ve.m,Ye=8,Je=a(128,u);o:for(;c(Je,0,7,Ke,19);){if(v(qe,1)){var Xe=2+2*v(qe,3);if((He=2+v(qe,Xe))>We)break o}else He=We;for(ze=0;ze<We&&He--;){C(qe);var Ze=Je[0+(127&S(qe))];B(qe,qe.u+Ze.g);var et=Ze.value;if(16>et)Ge[ze++]=et,0!=et&&(Ye=et);else{var tt=16==et,nt=et-16,rt=$r[nt],ot=v(qe,Gr[nt])+rt;if(ze+ot>We)break o;for(var it=tt?Ye:0;0<ot--;)Ge[ze++]=it}}$e=1;break o}$e||(Ve.a=3),De=$e}(De=De&&!Ne.h)&&(Fe=c(ke,Ue,8,Ie,Be)),De&&0!=Fe?je=Fe:(Ce.a=3,je=0)}if(0==je)break n;if(we&&1==Yr[K]&&(we=0==fe[W].g),be+=fe[W].g,W+=je,3>=K){var at,st=he[0];for(at=1;at<Ae;++at)he[at]>st&&(st=he[at]);Se+=st}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(me[3][ye[3]+0].value<<24|me[1][ye[1]+0].value<<16|me[2][ye[2]+0].value)>>>0,0==be&&256>me[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=me[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>Se,ge.jc){var lt,At=ge;for(lt=0;lt<Mn;++lt){var ct=lt,ut=At.pd[ct],dt=At.G[0][At.H[0]+ct];256<=dt.value?(ut.g=dt.g+256,ut.value=dt.value):(ut.g=0,ut.value=0,ct>>=ve(dt,8,ut),ct>>=ve(At.G[1][At.H[1]+ct],16,ut),ct>>=ve(At.G[2][At.H[2]+ct],0,ut),ve(At.G[3][At.H[3]+ct],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=pe,Z.yc=ce,z=1;break t}z=0}if(!(A=z)){s.a=3;break e}if(0<y){if(g.ua=1<<y,!N(g.Wa,y)){s.a=1,A=0;break e}}else g.ua=0;var pt=s,ht=d,ft=h,gt=pt.s,mt=gt.xc;if(pt.c=ht,pt.i=ft,gt.md=O(ht,mt),gt.wc=0==mt?-1:(1<<mt)-1,r){s.xb=fo;break e}if(null==(m=i(d*h))){s.a=1,A=0;break e}A=(A=Ee(s,m,0,d,h,h,null))&&!f.h;break e}return A?(null!=l?l[0]=m:(t(null==m),t(r)),s.$=0,r||xe(g)):xe(g),A}function ke(e,n){var r=e.c*e.i,o=r+n+16*n;return t(e.c<=n),e.V=i(o),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ue(e,n){var r=e.C,o=n-r,i=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<o;){var s=16<o?16:o,l=e.l.ma,A=e.l.width,c=A*s,u=l.ca,d=l.tb+A*r,p=e.Ta,h=e.Ua;we(e,s,i,a),Er(p,h,u,d,c),Be(l,r,r+s,u,d,A),o-=s,i+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Fe(){this.ub=this.yd=this.td=this.Rb=0}function Ne(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pe(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Re(){this.Yb=function(){var e=[];return function e(t,n,r){for(var o=r[n],i=0;i<o&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));i++)e(t[i],n+1,r)}(e,0,[3,11]),e}()}function Le(){this.jb=i(3),this.Wc=s([4,8],Re),this.Xc=s([4,17],Re)}function Oe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function De(){this.ld=this.La=this.dd=this.tc=0}function Me(){this.Na=this.la=0}function Qe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function je(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new De),this.Y=0,this.ya=Array(new je),this.aa=0,this.l=new We}function ze(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ve(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Fe,this.Kc=new Ne,this.ed=new Oe,this.Qa=new Pe,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,b),this.ia=0,this.pb=a(4,Qe),this.Pa=new Le,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ze),this.Hd=0,this.rb=Array(new Me),this.sb=0,this.wa=Array(new De),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new je),this.L=this.aa=0,this.gd=s([4,2],De),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ke(e,t){return 0>e?0:e>t?t:e}function We(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ve;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ro||(ro=Je)),e}function $e(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function qe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return $e(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,a=n.ha;if(4>a)return $e(e,7,"Truncated header.");var s=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return $e(e,3,"Incorrect keyframe parameters.");if(!l.yd)return $e(e,4,"Frame not displayable.");i+=3,a-=3;var A=e.Kc;if(l.Rb){if(7>a)return $e(e,7,"cannot parse picture header");if(!qe(r,i,a))return $e(e,3,"Bad code word");A.c=16383&(r[i+4]<<8|r[i+3]),A.Td=r[i+4]>>6,A.i=16383&(r[i+6]<<8|r[i+5]),A.Ud=r[i+6]>>6,i+=7,a-=7,e.za=A.c+15>>4,e.Ub=A.i+15>>4,n.width=A.c,n.height=A.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,o((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,o(s.Zb,0,0,s.Zb.length),o(s.Lb,0,0,s.Lb)}if(l.ub>a)return $e(e,7,"bad partition length");h(s=e.m,r,i,l.ub),i+=l.ub,a-=l.ub,l.Rb&&(A.Ld=x(s),A.Kd=x(s)),A=e.Qa;var c,u=e.Pa;if(t(null!=s),t(null!=A),A.Cb=x(s),A.Cb){if(A.Bb=x(s),x(s)){for(A.Fb=x(s),c=0;4>c;++c)A.Zb[c]=x(s)?g(s,7):0;for(c=0;4>c;++c)A.Lb[c]=x(s)?g(s,6):0}if(A.Bb)for(c=0;3>c;++c)u.jb[c]=x(s)?f(s,8):255}else A.Bb=0;if(s.Ka)return $e(e,3,"cannot parse segment header");if((A=e.ed).zd=x(s),A.Tb=f(s,6),A.wb=f(s,3),A.Pc=x(s),A.Pc&&x(s)){for(u=0;4>u;++u)x(s)&&(A.vd[u]=g(s,6));for(u=0;4>u;++u)x(s)&&(A.od[u]=g(s,6))}if(e.L=0==A.Tb?0:A.zd?1:2,s.Ka)return $e(e,3,"cannot parse filter header");var d=a;if(a=c=i,i=c+d,A=d,e.Xb=(1<<f(e.m,2))-1,d<3*(u=e.Xb))r=7;else{for(c+=3*u,A-=3*u,d=0;d<u;++d){var p=r[a+0]|r[a+1]<<8|r[a+2]<<16;p>A&&(p=A),h(e.Jc[+d],r,c,p),c+=p,A-=p,a+=3}h(e.Jc[+u],r,c,A),r=c<i?0:5}if(0!=r)return $e(e,r,"cannot parse partitions");for(r=f(c=e.m,7),a=x(c)?g(c,4):0,i=x(c)?g(c,4):0,A=x(c)?g(c,4):0,u=x(c)?g(c,4):0,c=x(c)?g(c,4):0,d=e.Qa,p=0;4>p;++p){if(d.Cb){var m=d.Zb[p];d.Fb||(m+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}m=r}var y=e.pb[p];y.Sc[0]=to[Ke(m+a,127)],y.Sc[1]=no[Ke(m+0,127)],y.Eb[0]=2*to[Ke(m+i,127)],y.Eb[1]=101581*no[Ke(m+A,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=to[Ke(m+u,117)],y.Qc[1]=no[Ke(m+c,127)],y.lc=m+c}if(!l.Rb)return $e(e,4,"Not a key frame.");for(x(s),l=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(i=0;3>i;++i)for(A=0;11>A;++A)u=I(s,Ao[r][a][i][A])?f(s,8):so[r][a][i][A],l.Wc[r][a].Yb[i][A]=u;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][co[a]]}return e.kc=x(s),e.kc&&(e.Bd=f(s,8)),e.cb=1}function Je(e,t,n,r,o,i,a){var s=t[o].Yb[n];for(n=0;16>o;++o){if(!I(e,s[n+0]))return o;for(;!I(e,s[n+1]);)if(s=t[++o].Yb[0],n=0,16==o)return 16;var l=t[o+1].Yb;if(I(e,s[n+2])){var A=e,c=0;if(I(A,(d=s)[(u=n)+3]))if(I(A,d[u+6])){for(s=0,u=2*(c=I(A,d[u+8]))+(d=I(A,d[u+9+c])),c=0,d=oo[u];d[s];++s)c+=c+I(A,d[s]);c+=3+(8<<u)}else I(A,d[u+7])?(c=7+2*I(A,165),c+=I(A,145)):c=5+I(A,159);else c=I(A,d[u+4])?3+I(A,d[u+5]):2;s=l[2]}else c=1,s=l[1];l=a+io[o],0>(A=e).b&&E(A);var u,d=A.b,p=(u=A.Ca>>1)-(A.I>>d)>>31;--A.b,A.Ca+=p,A.Ca|=1,A.I-=(u+1&p)<<d,i[l]=((c^p)-p)*r[(0<o)+0]}return 16}function Xe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,o(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return $e(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Qo[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(s=0;4>s;++s){var A;if(e.Qa.Cb){var c=e.Qa.Lb[s];e.Qa.Fb||(c+=l.Tb)}else c=l.Tb;for(A=0;1>=A;++A){var u=e.gd[s][A],d=c;if(l.Pc&&(d+=l.vd[0],A&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var p=d;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*d+p,u.ld=40<=d?2:15<=d?1:0}else u.tc=0;u.La=A}}}s=0}else $e(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Ho);e:{s=e.Ic,l=4*(p=e.za);var h=32*p,f=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*p;if((u=l+832+(A=3*(16*s+Qo[e.L])/2*h)+(c=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)s=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=i(u),e.Fc=0,null==e.Ec){s=$e(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,d=e.Fc,e.Ac=u,e.Bc=d,d+=l,e.Gd=a(h,ze),e.Hd=0,e.rb=a(f+1,Me),e.sb=1,e.wa=g?a(g,De):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=d,d+=832,e.ya=a(m,je),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(h=Qo[e.L])*e.R,h=h/2*e.B,e.sa=u,e.ta=d+p,e.qa=e.sa,e.ra=e.ta+16*s*e.R+h,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+h,e.$c=0,d+=A,e.mb=c?u:null,e.nb=c?d:null,t(d+c<=e.Fc+e.Vb),Xe(e),o(e.Ac,e.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Ur){for(s=-255;255>=s;++s)xr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Ir[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Tr[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)kr[255+s]=0>s?0:255<s?255:s;Ur=1}ir=At,ar=it,lr=at,Ar=st,cr=lt,sr=ot,ur=$t,dr=qt,pr=Xt,hr=Zt,fr=Yt,gr=Jt,mr=en,yr=tn,vr=Ht,br=zt,wr=Vt,Sr=Kt,po[0]=Bt,po[1]=ut,po[2]=St,po[3]=_t,po[4]=Ct,po[5]=xt,po[6]=Et,po[7]=It,po[8]=kt,po[9]=Tt,uo[0]=mt,uo[1]=pt,uo[2]=ht,uo[3]=ft,uo[4]=yt,uo[5]=vt,uo[6]=bt,ho[0]=Pt,ho[1]=dt,ho[2]=Ut,ho[3]=Ft,ho[4]=Lt,ho[5]=Rt,ho[6]=Ot,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,s=e.Jc[e.M&e.Xb],l=e.m,A=e;for(a=0;a<A.za;++a){var c=l,u=A,d=u.Ac,p=u.Bc+4*a,h=u.zc,f=u.ya[u.aa+a];if(u.Qa.Bb?f.$b=I(c,u.Pa.jb[0])?2+I(c,u.Pa.jb[2]):I(c,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=I(c,u.Bd)),f.Za=!I(c,145)+0,f.Za){var g=f.Ob,m=0;for(u=0;4>u;++u){var y,v=h[0+u];for(y=0;4>y;++y){v=lo[d[p+y]][v];for(var b=ao[I(c,v[0])];0<b;)b=ao[2*b+I(c,v[b])];v=-b,d[p+y]=v}r(g,m,d,p,4),m+=4,h[0+u]=v}}else v=I(c,156)?I(c,128)?1:3:I(c,163)?2:0,f.Ob[0]=v,o(d,p,v,4),o(h,0,v,4);f.Dd=I(c,142)?I(c,114)?I(c,183)?1:3:2:0}if(A.m.Ka)return $e(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(A=s,c=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],p=l.kc?a.Ad:0)c.la=d.la=0,a.Za||(c.Na=d.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,S;if(c=d,d=A,p=l.Pa.Xc,h=l.ya[l.aa+l.ja],f=l.pb[h.$b],u=h.ad,g=0,m=l.rb[l.sb-1],v=y=0,o(u,g,0,384),h.Za)var _=0,B=p[3];else{b=i(16);var C=c.Na+m.Na;if(C=ro(d,p[1],C,f.Eb,0,b,0),c.Na=m.Na=(0<C)+0,1<C)ir(b,0,u,g);else{var E=b[0]+3>>3;for(b=0;256>b;b+=16)u[g+b]=E}_=1,B=p[0]}var x=15&c.la,T=15&m.la;for(b=0;4>b;++b){var k=1&T;for(E=S=0;4>E;++E)x=x>>1|(k=(C=ro(d,B,C=k+(1&x),f.Sc,_,u,g))>_)<<7,S=S<<2|(3<C?3:1<C?2:0!=u[g+0]),g+=16;x>>=4,T=T>>1|k<<7,y=(y<<8|S)>>>0}for(B=x,_=T>>4,w=0;4>w;w+=2){for(S=0,x=c.la>>4+w,T=m.la>>4+w,b=0;2>b;++b){for(k=1&T,E=0;2>E;++E)C=k+(1&x),x=x>>1|(k=0<(C=ro(d,p[2],C,f.Qc,0,u,g)))<<3,S=S<<2|(3<C?3:1<C?2:0!=u[g+0]),g+=16;x>>=2,T=T>>1|k<<5}v|=S<<4*w,B|=x<<4<<w,_|=(240&T)<<w}c.la=B,m.la=_,h.Hc=y,h.Gc=v,h.ia=43690&v?0:f.ia,p=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!p),A.Ka)return $e(e,7,"Premature end-of-file encountered.")}if(Xe(e),l=n,A=1,a=(s=e).D,c=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(a.M=s.M,a.uc=c,Pn(s,a),A=1,a=(S=s.D).Nb,c=(v=Qo[s.L])*s.R,d=v/2*s.B,b=16*a*s.R,E=8*a*s.B,p=s.sa,h=s.ta-c+b,f=s.qa,u=s.ra-d+E,g=s.Ha,m=s.Ia-d+E,T=0==(x=S.M),y=x>=s.Va-1,2==s.Aa&&Pn(s,S),S.uc)for(k=(C=s).D.M,t(C.D.uc),S=C.yb;S<C.Hb;++S){_=S,B=k;var U=(F=(j=C).D).Nb;w=j.R;var F=F.wa[F.Y+_],N=j.sa,P=j.ta+16*U*w+16*_,R=F.dd,L=F.tc;if(0!=L)if(t(3<=L),1==j.L)0<_&&br(N,P,w,L+4),F.La&&Sr(N,P,w,L),0<B&&vr(N,P,w,L+4),F.La&&wr(N,P,w,L);else{var O=j.B,D=j.qa,M=j.ra+8*U*O+8*_,Q=j.Ha,j=j.Ia+8*U*O+8*_;U=F.ld,0<_&&(dr(N,P,w,L+4,R,U),hr(D,M,Q,j,O,L+4,R,U)),F.La&&(gr(N,P,w,L,R,U),yr(D,M,Q,j,O,L,R,U)),0<B&&(ur(N,P,w,L+4,R,U),pr(D,M,Q,j,O,L+4,R,U)),F.La&&(fr(N,P,w,L,R,U),mr(D,M,Q,j,O,L,R,U))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(S=16*x,x=16*(x+1),T?(l.y=s.sa,l.O=s.ta+b,l.f=s.qa,l.N=s.ra+E,l.ea=s.Ha,l.W=s.Ia+E):(S-=v,l.y=p,l.O=h,l.f=f,l.N=u,l.ea=g,l.W=m),y||(x-=v),x>l.o&&(x=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&S<x&&(l.J=dn(s,l,S,x-S),l.F=s.mb,null==l.F&&0==l.F.length)){A=$e(s,3,"Could not decode alpha data.");break e}S<l.j&&(v=l.j-S,S=l.j,t(!(1&v)),l.O+=s.R*v,l.N+=s.B*(v>>1),l.W+=s.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),S<x&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=S-l.j,l.U=l.va-l.v,l.T=x-S,A=l.put(l))}a+1!=s.Ic||y||(r(s.sa,s.ta-c,p,h+16*s.R,c),r(s.qa,s.ra-d,f,u+8*s.B,d),r(s.Ha,s.Ia-d,g,m+8*s.B,d))}if(!A)return $e(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0}function et(e,t,n,r,o){o=e[t+n+32*r]+(o>>3),e[t+n+32*r]=-256&o?0>o?0:255:o}function tt(e,t,n,r,o,i){et(e,t,0,n,r+o),et(e,t,1,n,r+i),et(e,t,2,n,r-i),et(e,t,3,n,r-o)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var o,a=0,s=i(16);for(o=0;4>o;++o){var l=e[t+0]+e[t+8],A=e[t+0]-e[t+8],c=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);s[a+0]=l+u,s[a+1]=A+c,s[a+2]=A-c,s[a+3]=l-u,a+=4,t++}for(o=a=0;4>o;++o)l=(e=s[a+0]+4)+s[a+8],A=e-s[a+8],c=(35468*s[a+4]>>16)-nt(s[a+12]),et(n,r,0,0,l+(u=nt(s[a+4])+(35468*s[a+12]>>16))),et(n,r,1,0,A+c),et(n,r,2,0,A-c),et(n,r,3,0,l-u),a++,r+=32}function ot(e,t,n,r){var o=e[t+0]+4,i=35468*e[t+4]>>16,a=nt(e[t+4]),s=35468*e[t+1]>>16;tt(n,r,0,o+a,e=nt(e[t+1]),s),tt(n,r,1,o+i,e,s),tt(n,r,2,o-i,e,s),tt(n,r,3,o-a,e,s)}function it(e,t,n,r,o){rt(e,t,n,r),o&&rt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function st(e,t,n,r){var o;for(e=e[t+0]+4,o=0;4>o;++o)for(t=0;4>t;++t)et(n,r,t,o,e)}function lt(e,t,n,r){e[t+0]&&Ar(e,t+0,n,r),e[t+16]&&Ar(e,t+16,n,r+4),e[t+32]&&Ar(e,t+32,n,r+128),e[t+48]&&Ar(e,t+48,n,r+128+4)}function At(e,t,n,r){var o,a=i(16);for(o=0;4>o;++o){var s=e[t+0+o]+e[t+12+o],l=e[t+4+o]+e[t+8+o],A=e[t+4+o]-e[t+8+o],c=e[t+0+o]-e[t+12+o];a[0+o]=s+l,a[8+o]=s-l,a[4+o]=c+A,a[12+o]=c-A}for(o=0;4>o;++o)s=(e=a[0+4*o]+3)+a[3+4*o],l=a[1+4*o]+a[2+4*o],A=a[1+4*o]-a[2+4*o],c=e-a[3+4*o],n[r+0]=s+l>>3,n[r+16]=c+A>>3,n[r+32]=s-l>>3,n[r+48]=c-A>>3,r+=64}function ct(e,t,n){var r,o=t-32,i=Pr,a=255-e[o-1];for(r=0;r<n;++r){var s,l=i,A=a+e[t-1];for(s=0;s<n;++s)e[t+s]=l[A+e[o+s]];t+=32}}function ut(e,t){ct(e,t,4)}function dt(e,t){ct(e,t,8)}function pt(e,t){ct(e,t,16)}function ht(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function ft(e,t){var n;for(n=16;0<n;--n)o(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)o(t,n+32*r,e,16)}function mt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function bt(e,t){gt(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function St(e,t){var n,o=t-32;for(o=new Uint8Array([wt(e[o-1],e[o+0],e[o+1]),wt(e[o+0],e[o+1],e[o+2]),wt(e[o+1],e[o+2],e[o+3]),wt(e[o+2],e[o+3],e[o+4])]),n=0;4>n;++n)r(e,t+32*n,o,0,o.length)}function _t(e,t){var n=e[t-1],r=e[t-1+32],o=e[t-1+64],i=e[t-1+96];T(e,t+0,16843009*wt(e[t-1-32],n,r)),T(e,t+32,16843009*wt(n,r,o)),T(e,t+64,16843009*wt(r,o,i)),T(e,t+96,16843009*wt(o,i,i))}function Bt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)o(e,t+32*n,r,4)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],o=e[t-1+64],i=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+96]=wt(r,o,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,r,o),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(i,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(a,i,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(s,a,i),e[t+3+32]=e[t+2+0]=wt(l,s,a),e[t+3+0]=wt(A,l,s)}function Et(e,t){var n=e[t+1-32],r=e[t+2-32],o=e[t+3-32],i=e[t+4-32],a=e[t+5-32],s=e[t+6-32],l=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=wt(n,r,o),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(r,o,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(o,i,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(i,a,s),e[t+3+64]=e[t+2+96]=wt(a,s,l),e[t+3+96]=wt(s,l,l)}function xt(e,t){var n=e[t-1+0],r=e[t-1+32],o=e[t-1+64],i=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+0]=e[t+1+64]=i+a+1>>1,e[t+1+0]=e[t+2+64]=a+s+1>>1,e[t+2+0]=e[t+3+64]=s+l+1>>1,e[t+3+0]=l+A+1>>1,e[t+0+96]=wt(o,r,n),e[t+0+64]=wt(r,n,i),e[t+0+32]=e[t+1+96]=wt(n,i,a),e[t+1+32]=e[t+2+96]=wt(i,a,s),e[t+2+32]=e[t+3+96]=wt(a,s,l),e[t+3+32]=wt(s,l,A)}function It(e,t){var n=e[t+0-32],r=e[t+1-32],o=e[t+2-32],i=e[t+3-32],a=e[t+4-32],s=e[t+5-32],l=e[t+6-32],A=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+o+1>>1,e[t+2+0]=e[t+1+64]=o+i+1>>1,e[t+3+0]=e[t+2+64]=i+a+1>>1,e[t+0+32]=wt(n,r,o),e[t+1+32]=e[t+0+96]=wt(r,o,i),e[t+2+32]=e[t+1+96]=wt(o,i,a),e[t+3+32]=e[t+2+96]=wt(i,a,s),e[t+3+64]=wt(a,s,l),e[t+3+96]=wt(s,l,A)}function Tt(e,t){var n=e[t-1+0],r=e[t-1+32],o=e[t-1+64],i=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+o+1>>1,e[t+2+32]=e[t+0+64]=o+i+1>>1,e[t+1+0]=wt(n,r,o),e[t+3+0]=e[t+1+32]=wt(r,o,i),e[t+3+32]=e[t+1+64]=wt(o,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],o=e[t-1+64],i=e[t-1+96],a=e[t-1-32],s=e[t+0-32],l=e[t+1-32],A=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=o+r+1>>1,e[t+0+96]=i+o+1>>1,e[t+3+0]=wt(s,l,A),e[t+2+0]=wt(a,s,l),e[t+1+0]=e[t+3+32]=wt(n,a,s),e[t+1+32]=e[t+3+64]=wt(r,n,a),e[t+1+64]=e[t+3+96]=wt(o,r,n),e[t+1+96]=wt(i,o,r)}function Ut(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Ft(e,t){var n;for(n=0;8>n;++n)o(e,t,e[t-1],8),t+=32}function Nt(e,t,n){var r;for(r=0;8>r;++r)o(t,n+32*r,e,8)}function Pt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Nt(r>>4,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Nt(r>>3,e,t)}function Lt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Nt(r>>3,e,t)}function Ot(e,t){Nt(128,e,t)}function Dt(e,t,n){var r=e[t-n],o=e[t+0],i=3*(o-r)+Fr[1020+e[t-2*n]-e[t+n]],a=Nr[112+(i+4>>3)];e[t-n]=Pr[255+r+Nr[112+(i+3>>3)]],e[t+0]=Pr[255+o-a]}function Mt(e,t,n,r){var o=e[t+0],i=e[t+n];return Rr[255+e[t-2*n]-e[t-n]]>r||Rr[255+i-o]>r}function Qt(e,t,n,r){return 4*Rr[255+e[t-n]-e[t+0]]+Rr[255+e[t-2*n]-e[t+n]]<=r}function jt(e,t,n,r,o){var i=e[t-3*n],a=e[t-2*n],s=e[t-n],l=e[t+0],A=e[t+n],c=e[t+2*n],u=e[t+3*n];return 4*Rr[255+s-l]+Rr[255+a-A]>r?0:Rr[255+e[t-4*n]-i]<=o&&Rr[255+i-a]<=o&&Rr[255+a-s]<=o&&Rr[255+u-c]<=o&&Rr[255+c-A]<=o&&Rr[255+A-l]<=o}function Ht(e,t,n,r){var o=2*r+1;for(r=0;16>r;++r)Qt(e,t+r,n,o)&&Dt(e,t+r,n)}function zt(e,t,n,r){var o=2*r+1;for(r=0;16>r;++r)Qt(e,t+r*n,1,o)&&Dt(e,t+r*n,1)}function Vt(e,t,n,r){var o;for(o=3;0<o;--o)Ht(e,t+=4*n,n,r)}function Kt(e,t,n,r){var o;for(o=3;0<o;--o)zt(e,t+=4,n,r)}function Wt(e,t,n,r,o,i,a,s){for(i=2*i+1;0<o--;){if(jt(e,t,n,i,a))if(Mt(e,t,n,s))Dt(e,t,n);else{var l=e,A=t,c=n,u=l[A-2*c],d=l[A-c],p=l[A+0],h=l[A+c],f=l[A+2*c],g=27*(y=Fr[1020+3*(p-d)+Fr[1020+u-h]])+63>>7,m=18*y+63>>7,y=9*y+63>>7;l[A-3*c]=Pr[255+l[A-3*c]+y],l[A-2*c]=Pr[255+u+m],l[A-c]=Pr[255+d+g],l[A+0]=Pr[255+p-g],l[A+c]=Pr[255+h-m],l[A+2*c]=Pr[255+f-y]}t+=r}}function Gt(e,t,n,r,o,i,a,s){for(i=2*i+1;0<o--;){if(jt(e,t,n,i,a))if(Mt(e,t,n,s))Dt(e,t,n);else{var l=e,A=t,c=n,u=l[A-c],d=l[A+0],p=l[A+c],h=Nr[112+(4+(f=3*(d-u))>>3)],f=Nr[112+(f+3>>3)],g=h+1>>1;l[A-2*c]=Pr[255+l[A-2*c]+g],l[A-c]=Pr[255+u+f],l[A+0]=Pr[255+d-h],l[A+c]=Pr[255+p-g]}t+=r}}function $t(e,t,n,r,o,i){Wt(e,t,n,1,16,r,o,i)}function qt(e,t,n,r,o,i){Wt(e,t,1,n,16,r,o,i)}function Yt(e,t,n,r,o,i){var a;for(a=3;0<a;--a)Gt(e,t+=4*n,n,1,16,r,o,i)}function Jt(e,t,n,r,o,i){var a;for(a=3;0<a;--a)Gt(e,t+=4,1,n,16,r,o,i)}function Xt(e,t,n,r,o,i,a,s){Wt(e,t,o,1,8,i,a,s),Wt(n,r,o,1,8,i,a,s)}function Zt(e,t,n,r,o,i,a,s){Wt(e,t,1,o,8,i,a,s),Wt(n,r,1,o,8,i,a,s)}function en(e,t,n,r,o,i,a,s){Gt(e,t+4*o,o,1,8,i,a,s),Gt(n,r+4*o,o,1,8,i,a,s)}function tn(e,t,n,r,o,i,a,s){Gt(e,t+4,1,o,8,i,a,s),Gt(n,r+4,1,o,8,i,a,s)}function nn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new R,this.vb=new R,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new We,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,on),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new We,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(e,t,n,r,o,i,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)o[i+t]=e+n[r+t]&255,e=o[i+t]}function cn(e,t,n,r,o,i,a){var s;if(null==e)An(null,null,n,r,o,i,a);else for(s=0;s<a;++s)o[i+s]=e[t+s]+n[r+s]&255}function un(e,t,n,r,o,i,a){if(null==e)An(null,null,n,r,o,i,a);else{var s,l=e[t+0],A=l,c=l;for(s=0;s<a;++s)A=c+(l=e[t+s])-A,c=n[r+s]+(-256&A?0>A?0:255:A)&255,A=l,o[i+s]=c}}function dn(e,n,o,a){var s=n.width,l=n.o;if(t(null!=e&&null!=n),0>o||0>=a||o+a>l)return null;if(!e.Cc){if(null==e.ga){var A;if(e.ga=new ln,(A=null==e.ga)||(A=n.width*n.o,t(0==e.Gb.length),e.Gb=i(A),e.Uc=0,null==e.Gb?A=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,A=1),A=!A),!A){A=e.ga;var c=e.Fa,u=e.P,d=e.qc,p=e.mb,h=e.nb,f=u+1,g=d-1,y=A.l;if(t(null!=c&&null!=p&&null!=n),mo[0]=null,mo[1]=An,mo[2]=cn,mo[3]=un,A.ca=p,A.tb=h,A.c=n.width,A.i=n.height,t(0<A.c&&0<A.i),1>=d)n=0;else if(A.$a=3&c[u+0],A.Z=c[u+0]>>2&3,A.Lc=c[u+0]>>4&3,u=c[u+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||u)n=0;else if(y.put=pe,y.ac=de,y.bc=he,y.ma=A,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,A.$a)e:{t(1==A.$a),n=Ie();t:for(;;){if(null==n){n=0;break e}if(t(null!=A),A.mc=n,n.c=A.c,n.i=A.i,n.l=A.l,n.l.ma=A,n.l.width=A.c,n.l.height=A.i,n.a=0,m(n.m,c,f,g),!Te(A.c,A.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&_e(n.s)?(A.ic=1,c=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(c),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(A.ic=0,n=ke(n,A.c)),!n)break t;n=1;break e}A.mc=null,n=0}else n=g>=A.c*A.i;A=!n}if(A)return null;1!=e.ga.Lc?e.Ga=0:a=l-o}t(null!=e.ga),t(o+a<=l);e:{if(n=(c=e.ga).c,l=c.l.o,0==c.$a){if(f=e.rc,g=e.Vc,y=e.Fa,u=e.P+1+o*n,d=e.mb,p=e.nb+o*n,t(u<=e.P+e.qc),0!=c.Z)for(t(null!=mo[c.Z]),A=0;A<a;++A)mo[c.Z](f,g,y,u,d,p,n),f=d,g=p,p+=n,u+=n;else for(A=0;A<a;++A)r(d,p,y,u,n),f=d,g=p,p+=n,u+=n;e.rc=f,e.Vc=g}else{if(t(null!=c.mc),n=o+a,t(null!=(A=c.mc)),t(n<=A.i),A.C>=n)n=1;else if(c.ic||mn(),c.ic){c=A.V,f=A.Ba,g=A.c;var v=A.i,b=(y=1,u=A.$/g,d=A.$%g,p=A.m,h=A.s,A.$),w=g*v,S=g*n,B=h.wc,E=b<S?be(h,d,u):null;t(b<=w),t(n<=v),t(_e(h));t:for(;;){for(;!p.h&&b<S;){if(d&B||(E=be(h,d,u)),t(null!=E),C(p),256>(v=ye(E.G[0],E.H[0],p)))c[f+b]=v,++b,++d>=g&&(d=0,++u<=n&&!(u%16)&&Ce(A,u));else{if(!(280>v)){y=0;break t}v=ge(v-256,p);var x,I=ye(E.G[4],E.H[4],p);if(C(p),!(b>=(I=me(g,I=ge(I,p)))&&w-b>=v)){y=0;break t}for(x=0;x<v;++x)c[f+b+x]=c[f+b+x-I];for(b+=v,d+=v;d>=g;)d-=g,++u<=n&&!(u%16)&&Ce(A,u);b<S&&d&B&&(E=be(h,d,u))}t(p.h==_(p))}Ce(A,u>n?n:u);break t}!y||p.h&&b<w?(y=0,A.a=p.h?5:3):A.$=b,n=y}else n=Ee(A,A.V,A.Ba,A.c,A.i,n,Ue);if(!n){a=0;break e}}o+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+o*s}function pn(e,t,n,r,o,i){for(;0<o--;){var a,s=e,l=t+(n?1:0),A=e,c=t+(n?0:3);for(a=0;a<r;++a){var u=A[c+4*a];255!=u&&(u*=32897,s[l+4*a+0]=s[l+4*a+0]*u>>23,s[l+4*a+1]=s[l+4*a+1]*u>>23,s[l+4*a+2]=s[l+4*a+2]*u>>23)}t+=i}}function hn(e,t,n,r,o){for(;0<r--;){var i;for(i=0;i<n;++i){var a=e[t+2*i+0],s=15&(A=e[t+2*i+1]),l=4369*s,A=(240&A|A>>4)*l>>16;e[t+2*i+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*i+1]=240&A|s}t+=o}}function fn(e,t,n,r,o,i,a,s){var l,A,c=255;for(A=0;A<o;++A){for(l=0;l<r;++l){var u=e[t+l];i[a+4*l]=u,c&=u}t+=n,a+=s}return 255!=c}function gn(e,t,n,r,o){var i;for(i=0;i<o;++i)n[r+i]=e[t+i]>>8}function mn(){_r=pn,Br=hn,Cr=fn,Er=gn}function yn(n,r,o){e[n]=function(e,n,i,a,s,l,A,c,u,d,p,h,f,g,m,y,v){var b,w=v-1>>1,S=s[l+0]|A[c+0]<<16,_=u[d+0]|p[h+0]<<16;t(null!=e);var B=3*S+_+131074>>2;for(r(e[n+0],255&B,B>>16,f,g),null!=i&&(B=3*_+S+131074>>2,r(i[a+0],255&B,B>>16,m,y)),b=1;b<=w;++b){var C=s[l+b]|A[c+b]<<16,E=u[d+b]|p[h+b]<<16,x=S+C+_+E+524296,I=x+2*(C+_)>>3;B=I+S>>1,S=(x=x+2*(S+E)>>3)+C>>1,r(e[n+2*b-1],255&B,B>>16,f,g+(2*b-1)*o),r(e[n+2*b-0],255&S,S>>16,f,g+(2*b-0)*o),null!=i&&(B=x+_>>1,S=I+E>>1,r(i[a+2*b-1],255&B,B>>16,m,y+(2*b-1)*o),r(i[a+2*b+0],255&S,S>>16,m,y+(2*b+0)*o)),S=C,_=E}1&v||(B=3*S+_+131074>>2,r(e[n+v-1],255&B,B>>16,f,g+(v-1)*o),null!=i&&(B=3*_+S+131074>>2,r(i[a+v-1],255&B,B>>16,m,y+(v-1)*o)))}}function vn(){yo[Lr]=vo,yo[Or]=wo,yo[Dr]=bo,yo[Mr]=So,yo[Qr]=_o,yo[jr]=Bo,yo[Hr]=Co,yo[zr]=wo,yo[Vr]=So,yo[Kr]=_o,yo[Wr]=Bo}function bn(e){return e&~Uo?0>e?0:255:e>>ko}function wn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function Sn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function _n(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Bn(e,t,n,r,o){r[o+0]=wn(e,n),r[o+1]=Sn(e,t,n),r[o+2]=_n(e,t)}function Cn(e,t,n,r,o){r[o+0]=_n(e,t),r[o+1]=Sn(e,t,n),r[o+2]=wn(e,n)}function En(e,t,n,r,o){var i=Sn(e,t,n);t=i<<3&224|_n(e,t)>>3,r[o+0]=248&wn(e,n)|i>>5,r[o+1]=t}function xn(e,t,n,r,o){var i=240&_n(e,t)|15;r[o+0]=240&wn(e,n)|Sn(e,t,n)>>4,r[o+1]=i}function In(e,t,n,r,o){r[o+0]=255,Bn(e,t,n,r,o+1)}function Tn(e,t,n,r,o){Cn(e,t,n,r,o),r[o+3]=255}function kn(e,t,n,r,o){Bn(e,t,n,r,o),r[o+3]=255}function Ke(e,t){return 0>e?0:e>t?t:e}function Un(t,n,r){e[t]=function(e,t,o,i,a,s,l,A,c){for(var u=A+(-2&c)*r;A!=u;)n(e[t+0],o[i+0],a[s+0],l,A),n(e[t+1],o[i+0],a[s+0],l,A+r),t+=2,++i,++s,A+=2*r;1&c&&n(e[t+0],o[i+0],a[s+0],l,A)}}function Fn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Nn(e,t,n,r,o){switch(e>>>30){case 3:ar(t,n,r,o,0);break;case 2:sr(t,n,r,o);break;case 1:Ar(t,n,r,o)}}function Pn(e,t){var n,i,a=t.M,s=t.Nb,l=e.oc,A=e.pc+40,c=e.oc,u=e.pc+584,d=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[A+32*n-1]=129;for(n=0;8>n;++n)c[u+32*n-1]=129,d[p+32*n-1]=129;for(0<a?l[A-1-32]=c[u-1-32]=d[p-1-32]=129:(o(l,A-32-1,127,21),o(c,u-32-1,127,9),o(d,p-32-1,127,9)),i=0;i<e.za;++i){var h=t.ya[t.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,A+32*n-4,l,A+32*n+12,4);for(n=-1;8>n;++n)r(c,u+32*n-4,c,u+32*n+4,4),r(d,p+32*n-4,d,p+32*n+4,4)}var f=e.Gd,g=e.Hd+i,m=h.ad,y=h.Hc;if(0<a&&(r(l,A-32,f[g].y,0,16),r(c,u-32,f[g].f,0,8),r(d,p-32,f[g].ea,0,8)),h.Za){var v=l,b=A-32+16;for(0<a&&(i>=e.za-1?o(v,b,f[g].y[15],4):r(v,b,f[g+1].y,0,4)),n=0;4>n;n++)v[b+128+n]=v[b+256+n]=v[b+384+n]=v[b+0+n];for(n=0;16>n;++n,y<<=2)v=l,b=A+Mo[n],po[h.Ob[n]](v,b),Nn(y,m,16*+n,v,b)}else if(v=Fn(i,a,h.Ob[0]),uo[v](l,A),0!=y)for(n=0;16>n;++n,y<<=2)Nn(y,m,16*+n,l,A+Mo[n]);for(n=h.Gc,v=Fn(i,a,h.Dd),ho[v](c,u),ho[v](d,p),y=m,v=c,b=u,255&(h=n|0)&&(170&h?lr(y,256,v,b):cr(y,256,v,b)),h=d,y=p,255&(n>>=8)&&(170&n?lr(m,320,h,y):cr(m,320,h,y)),a<e.Ub-1&&(r(f[g].y,0,l,A+480,16),r(f[g].f,0,c,u+224,8),r(f[g].ea,0,d,p+224,8)),n=8*s*e.B,f=e.sa,g=e.ta+16*i+16*s*e.R,m=e.qa,h=e.ra+8*i+n,y=e.Ha,v=e.Ia+8*i+n,n=0;16>n;++n)r(f,g+n*e.R,l,A+32*n,16);for(n=0;8>n;++n)r(m,h+n*e.B,c,u+32*n,8),r(y,v+n*e.B,d,p+32*n,8)}}function Rn(e,r,o,i,a,s,l,A,c){var u=[0],d=[0],p=0,h=null!=c?c.kd:0,f=null!=c?c:new rn;if(null==e||12>o)return 7;f.data=e,f.w=r,f.ha=o,r=[r],o=[o],f.gb=[f.gb];e:{var g=r,y=o,v=f.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){v=3;break e}var b=F(e,g[0]+4);if(12>b||4294967286<b){v=3;break e}if(h&&b>y[0]-8){v=7;break e}v[0]=b,g[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(b=0<f.gb[0],o=o[0];;){e:{var S=e;y=r,v=o;var _=u,B=d,C=g=[0];if((I=p=[p])[0]=0,8>v[0])v=7;else{if(!n(S,y[0],"VP8X")){if(10!=F(S,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var E=F(S,y[0]+8),x=1+U(S,y[0]+12);if(2147483648<=x*(S=1+U(S,y[0]+15))){v=3;break e}null!=C&&(C[0]=E),null!=_&&(_[0]=x),null!=B&&(B[0]=S),y[0]+=18,v[0]-=18,I[0]=1}v=0}}if(p=p[0],g=g[0],0!=v)return v;if(y=!!(2&g),!b&&p)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=l&&(l[0]=y),null!=A&&(A[0]=0),l=u[0],g=d[0],p&&y&&null==c){v=0;break}if(4>o){v=7;break}if(b&&p||!b&&!p&&!n(e,r[0],"ALPH")){o=[o],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{E=e,v=r,b=o;var I=f.gb;_=f.na,B=f.P,C=f.Sa,x=22,t(null!=E),t(null!=b),S=v[0];var T=b[0];for(t(null!=_),t(null!=C),_[0]=null,B[0]=null,C[0]=0;;){if(v[0]=S,b[0]=T,8>T){v=7;break e}var k=F(E,S+4);if(4294967286<k){v=3;break e}var N=8+k+1&-2;if(x+=N,0<I&&x>I){v=3;break e}if(!n(E,S,"VP8 ")||!n(E,S,"VP8L")){v=0;break e}if(T[0]<N){v=7;break e}n(E,S,"ALPH")||(_[0]=E,B[0]=S+8,C[0]=k),S+=N,T-=N}}if(o=o[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=v)break}o=[o],f.Ja=[f.Ja],f.xa=[f.xa];e:if(I=e,v=r,b=o,_=f.gb[0],B=f.Ja,C=f.xa,E=v[0],S=!n(I,E,"VP8 "),x=!n(I,E,"VP8L"),t(null!=I),t(null!=b),t(null!=B),t(null!=C),8>b[0])v=7;else{if(S||x){if(I=F(I,E+4),12<=_&&I>_-12){v=3;break e}if(h&&I>b[0]-8){v=7;break e}B[0]=I,v[0]+=8,b[0]-=8,C[0]=x}else C[0]=5<=b[0]&&47==I[E+0]&&!(I[E+4]>>5),B[0]=b[0];v=0}if(o=o[0],f.Ja=f.Ja[0],f.xa=f.xa[0],r=r[0],0!=v)break;if(4294967286<f.Ja)return 3;if(null==A||y||(A[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>o){v=7;break}A=l,h=g,y=s,null==e||5>o?e=0:5<=o&&47==e[r+0]&&!(e[r+4]>>5)?(b=[0],I=[0],_=[0],m(B=new w,e,r,o),fe(B,b,I,_)?(null!=A&&(A[0]=b[0]),null!=h&&(h[0]=I[0]),null!=y&&(y[0]=_[0]),e=1):e=0):e=0}else{if(10>o){v=7;break}A=g,null==e||10>o||!qe(e,r+3,o-3)?e=0:(h=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&h||3<(h>>1&7)||!(h>>4&1)||h>>5>=f.Ja||!y||!e?e=0:(l&&(l[0]=y),A&&(A[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||d[0]!=g))return 3;null!=c&&(c[0]=f,c.offset=r-c.w,t(4294967286>r-c.w),t(c.offset==c.ha-o));break}return 0==v||7==v&&p&&null==c?(null!=s&&(s[0]|=null!=f.na&&0<f.na.length),null!=i&&(i[0]=l),null!=a&&(a[0]=g),0):v}function Ln(e,t,n){var r=t.width,o=t.height,i=0,a=0,s=r,l=o;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,l=e.bd,i=e.v,a=e.j,11>n||(i&=-2,a&=-2),0>i||0>a||0>=s||0>=l||i+s>r||a+l>o))return 0;if(t.v=i,t.j=a,t.va=i+s,t.o=a+l,t.U=s,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!L(s,l,n=[e.ib],i=[e.hb]))return 0;t.ib=n[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*o/4,t.Kb=0),1}function On(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Dn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var o=n.cd,a=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=o||0>=a||s+o>e||l+a>t)return 2;e=o,t=a}if(n.da){if(!L(e,t,o=[n.ib],a=[n.hb]))return 2;e=o[0],t=a[0]}}r.width=e,r.height=t;e:{var A=r.width,c=r.height;if(e=r.S,0>=A||0>=c||!(e>=Lr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=a=o=t=0;var u=(l=A*zo[e])*c;if(11>e||(a=(c+1)/2*(t=(A+1)/2),12==e&&(s=(o=A)*c)),null==(c=i(u+2*a+s))){e=1;break e}r.sd=c,11>e?((A=r.f.RGBA).eb=c,A.fb=0,A.A=l,A.size=u):((A=r.f.kb).y=c,A.O=0,A.fa=l,A.Fd=u,A.f=c,A.N=0+u,A.Ab=t,A.Cd=a,A.ea=c,A.W=0+u+a,A.Db=t,A.Ed=a,12==e&&(A.F=c,A.J=0+u+2*a),A.Tc=s,A.lb=o)}if(t=1,o=r.S,a=r.width,s=r.height,o>=Lr&&13>o)if(11>o)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(s-1)+a<=e.size,t&=l>=a*zo[o],t&=null!=e.eb;else{e=r.f.kb,l=(a+1)/2,u=(s+1)/2,A=Math.abs(e.fa),c=Math.abs(e.Ab);var d=Math.abs(e.Db),p=Math.abs(e.lb),h=p*(s-1)+a;t&=A*(s-1)+a<=e.Fd,t&=c*(u-1)+l<=e.Cd,t=(t&=d*(u-1)+l<=e.Ed)&A>=a&c>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==o&&(t&=p>=a,t&=h<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=On(r)),e}var Mn=64,Qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jn=24,Hn=32,zn=8,Vn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];M("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return j(j(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return j(e,t[n-1])},e.Predictor7=function(e,t,n){return j(e,t[n+0])},e.Predictor8=function(e,t,n){return j(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return j(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return j(j(e,t[n-1]),j(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=V(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+V(r>>16&255,e>>16&255,t>>16&255)+V(r>>8&255,e>>8&255,t>>8&255)+V(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(H((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|H((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|H((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(z((e=j(e,t[n+0]))>>24&255,r>>24&255)<<24|z(e>>16&255,r>>16&255)<<16|z(e>>8&255,r>>8&255)<<8|z(255&e,255&r))>>>0};var Kn=e.PredictorAdd0;e.PredictorAdd1=K,M("Predictor2","PredictorAdd2"),M("Predictor3","PredictorAdd3"),M("Predictor4","PredictorAdd4"),M("Predictor5","PredictorAdd5"),M("Predictor6","PredictorAdd6"),M("Predictor7","PredictorAdd7"),M("Predictor8","PredictorAdd8"),M("Predictor9","PredictorAdd9"),M("Predictor10","PredictorAdd10"),M("Predictor11","PredictorAdd11"),M("Predictor12","PredictorAdd12"),M("Predictor13","PredictorAdd13");var Wn=e.PredictorAdd2;q("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),q("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gn,$n=e.ColorIndexInverseTransform,qn=e.MapARGB,Yn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,or,ir,ar,sr,lr,Ar,cr,ur,dr,pr,hr,fr,gr,mr,yr,vr,br,wr,Sr,_r,Br,Cr,Er,xr=i(511),Ir=i(2041),Tr=i(225),kr=i(767),Ur=0,Fr=Ir,Nr=Tr,Pr=kr,Rr=xr,Lr=0,Or=1,Dr=2,Mr=3,Qr=4,jr=5,Hr=6,zr=7,Vr=8,Kr=9,Wr=10,Gr=[2,3,7],$r=[3,3,11],qr=[280,256,256,256,40],Yr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],eo=8,to=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],no=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ro=null,oo=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],io=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ao=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],so=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lo=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ao=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],co=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],uo=[],po=[],ho=[],fo=1,go=2,mo=[],yo=[];yn("UpsampleRgbLinePair",Bn,3),yn("UpsampleBgrLinePair",Cn,3),yn("UpsampleRgbaLinePair",kn,4),yn("UpsampleBgraLinePair",Tn,4),yn("UpsampleArgbLinePair",In,4),yn("UpsampleRgba4444LinePair",xn,2),yn("UpsampleRgb565LinePair",En,2);var vo=e.UpsampleRgbLinePair,bo=e.UpsampleBgrLinePair,wo=e.UpsampleRgbaLinePair,So=e.UpsampleBgraLinePair,_o=e.UpsampleArgbLinePair,Bo=e.UpsampleRgba4444LinePair,Co=e.UpsampleRgb565LinePair,Eo=16,xo=1<<Eo-1,Io=-227,To=482,ko=6,Uo=(256<<ko)-1,Fo=0,No=i(256),Po=i(256),Ro=i(256),Lo=i(256),Oo=i(To-Io),Do=i(To-Io);Un("YuvToRgbRow",Bn,3),Un("YuvToBgrRow",Cn,3),Un("YuvToRgbaRow",kn,4),Un("YuvToBgraRow",Tn,4),Un("YuvToArgbRow",In,4),Un("YuvToRgba4444Row",xn,2),Un("YuvToRgb565Row",En,2);var Mo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qo=[0,2,8],jo=[8,7,6,4,4,2,2,2,1,1,1,1],Ho=1;this.WebPDecodeRGBA=function(e,n,r,o,i){var a=Or,s=new nn,l=new ae;s.ba=l,l.S=a,l.width=[l.width],l.height=[l.height];var A=l.width,c=l.height,u=new se;if(null==u||null==e)var d=2;else t(null!=u),d=Rn(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=d?A=0:(null!=A&&(A[0]=u.width[0]),null!=c&&(c[0]=u.height[0]),A=1),A){l.width=l.width[0],l.height=l.height[0],null!=o&&(o[0]=l.width),null!=i&&(i[0]=l.height);e:{if(o=new We,(i=new rn).data=e,i.w=n,i.ha=r,i.kd=1,n=[0],t(null!=i),(0==(e=Rn(i.data,i.w,i.ha,null,null,null,n,null,i))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=s),o.data=i.data,o.w=i.w+i.offset,o.ha=i.ha-i.offset,o.put=pe,o.ac=de,o.bc=he,o.ma=s,i.xa){if(null==(e=Ie())){s=1;break e}if(function(e,n){var r=[0],o=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!fe(e.m,r,o,i)){e.a=3;break t}if(e.xb=go,n.width=r[0],n.height=o[0],!Te(r[0],o[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,o)){if(o=0==(n=Dn(o.width,o.height,s.Oa,s.ba))){t:{o=e;n:for(;;){if(null==o){o=0;break t}if(t(null!=o.s.yc),t(null!=o.s.Ya),t(0<o.s.Wb),t(null!=(r=o.l)),t(null!=(i=r.ma)),0!=o.xb){if(o.ca=i.ba,o.tb=i.tb,t(null!=o.ca),!Ln(i.Oa,r,Mr)){o.a=2;break n}if(!ke(o,r.width))break n;if(r.da)break n;if((r.da||re(o.ca.S))&&mn(),11>o.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=o.ca.f.kb.F&&mn()),o.Pb&&0<o.s.ua&&null==o.s.vb.X&&!N(o.s.vb,o.s.Wa.Xa)){o.a=1;break n}o.xb=0}if(!Ee(o,o.V,o.Ba,o.c,o.i,r.o,Se))break n;i.Dc=o.Ma,o=1;break t}t(0!=o.a),o=0}o=!o}o&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){s=1;break e}if(e.Fa=i.na,e.P=i.P,e.qc=i.Sa,Ye(e,o)){if(0==(n=Dn(o.width,o.height,s.Oa,s.ba))){if(e.Aa=0,r=s.Oa,t(null!=(i=e)),null!=r){if(0<(A=0>(A=r.Md)?0:100<A?255:255*A/100)){for(c=u=0;4>c;++c)12>(d=i.pb[c]).lc&&(d.ia=A*jo[0>d.lc?0:d.lc]>>3),u|=d.ia;u&&(alert("todo:VP8InitRandom"),i.ia=1)}i.Ga=r.Id,100<i.Ga?i.Ga=100:0>i.Ga&&(i.Ga=0)}Ze(e,o)||(n=e.a)}}else n=e.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=On(s.ba))}s=n}a=0!=s?null:11>a?l.f.RGBA.eb:l.f.kb.y}else a=null;return a};var zo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function c(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var d=[0],p=[0],h=[],f=new l,g=e,m=function(e,t){var n={},r=0,o=!1,i=0,a=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(u(e,t+=4),t+=8;t<e.length;){var s=A(e,t),l=u(e,t+=4);t+=4;var d=l+(1&l);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(f=n.frames[r]).src_off=o?a:t-8,f.src_size=i+l+8,r++,o&&(o=!1,i=0,a=0);break;case"VP8X":(f=n.header={}).feature_flags=e[t];var p=t+4;f.canvas_width=1+c(e,p),p+=3,f.canvas_height=1+c(e,p),p+=3;break;case"ALPH":o=!0,i=d+8,a=t-8;break;case"ANIM":(f=n.header).bgcolor=u(e,t),p=t+4,f.loop_count=(g=e)[(m=p)+0]|g[m+1]<<8,p+=2;break;case"ANMF":var h,f;(f=n.frames[r]={}).offset_x=2*c(e,t),t+=3,f.offset_y=2*c(e,t),t+=3,f.width=1+c(e,t),t+=3,f.height=1+c(e,t),t+=3,f.duration=c(e,t),t+=3,h=e[t++],f.dispose=1&h,f.blend=h>>1&1}"ANMF"!=s&&(t+=d)}var g,m;return n}}(g,0);m.response=g,m.rgbaoutput=!0,m.dataurl=!1;var y=m.header?m.header:null,v=m.frames?m.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],p=[y.canvas_width];for(var b=0;b<v.length&&0!=v[b].blend;b++);}var w=v[0],S=f.WebPDecodeRGBA(g,w.src_off,w.src_size,p,d);w.rgba=S,w.imgwidth=p[0],w.imgheight=d[0];for(var _=0;_<p[0]*d[0]*4;_++)h[_]=S[_];return this.width=p,this.height=d,this.data=h,this}!function(e){var t=function(t,r,l,A){var c=4,u=i;switch(A){case e.image_compression.FAST:c=1,u=o;break;case e.image_compression.MEDIUM:c=6,u=a;break;case e.image_compression.SLOW:c=9,u=s}var d=Ll(t=n(t,r,l,u),{level:c});return e.__addimage__.arrayBufferToBinaryString(d)},n=function(e,t,n,r){for(var o,i,a,s=e.length/t,l=new Uint8Array(e.length+s),u=A(),d=0;d<s;d+=1){if(a=d*t,o=e.subarray(a,a+t),r)l.set(r(o,n,i),a+d);else{for(var p,h=u.length,f=[];p<h;p+=1)f[p]=u[p](o,n,i);var g=c(f.concat());l.set(f[g],a+d)}i=o}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},o=function(e,t){var n,r=[],o=e.length;r[0]=1;for(var i=0;i<o;i+=1)n=e[i-t]||0,r[i+1]=e[i]-n+256&255;return r},i=function(e,t,n){var r,o=[],i=e.length;o[0]=2;for(var a=0;a<i;a+=1)r=n&&n[a]||0,o[a+1]=e[a]-r+256&255;return o},a=function(e,t,n){var r,o,i=[],a=e.length;i[0]=3;for(var s=0;s<a;s+=1)r=e[s-t]||0,o=n&&n[s]||0,i[s+1]=e[s]+256-(r+o>>>1)&255;return i},s=function(e,t,n){var r,o,i,a,s=[],A=e.length;s[0]=4;for(var c=0;c<A;c+=1)r=e[c-t]||0,o=n&&n[c]||0,i=n&&n[c-t]||0,a=l(r,o,i),s[c+1]=e[c]-a+256&255;return s},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),o=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=o&&r<=i?e:o<=i?t:n},A=function(){return[r,o,i,a,s]},c=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,o,i){var a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new kc(n)).imgData,s=l.bits,a=l.colorSpace,c=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){h=(p=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(h*l.colors),f=new Uint8Array(h);var _,B=l.pixelBitlength-l.bits;for(v=0,b=0;v<h;v++){for(y=p[v],_=0;_<B;)g[b++]=y>>>_&255,_+=l.bits;f[v]=y>>>_&255}}if(16===l.bits){h=(p=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(h*(32/l.pixelBitlength)*l.colors),f=new Uint8Array(h*(32/l.pixelBitlength)),m=l.colors>1,v=0,b=0;for(var C=0;v<h;)y=p[v++],g[b++]=y>>>0&255,m&&(g[b++]=y>>>16&255,y=p[v++],g[b++]=y>>>0&255),f[C++]=y>>>16&255;s=8}i!==e.image_compression.NONE?(n=t(g,l.width*l.colors,l.colors,i),d=t(f,l.width,1,i)):(n=g,d=f,w=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var E=l.transparency.indexed,x=0;for(v=0,h=E.length;v<h;++v)x+=E[v];if((x/=255)===h-1&&-1!==E.indexOf(0))A=[E.indexOf(0)];else if(x!==h){for(p=l.decodePixels(),f=new Uint8Array(p.length),v=0,h=p.length;v<h;v++)f[v]=E[p[v]];d=t(f,l.width,1)}}var I=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(i);return w===this.decode.FLATE_DECODE&&(S="/Predictor "+I+" "),S+="/Colors "+c+" /BitsPerComponent "+s+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:o,data:n,index:r,filter:w,decodeParameters:S,transparency:A,palette:u,sMask:d,predictor:I,width:l.width,height:l.height,bitsPerComponent:s,colorSpace:a}}}}(yA.API),function(e){e.processGIF89A=function(t,n,r,o){var i=new Uc(t),a=i.width,s=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:a,height:s},c=new Nc(100).encode(A,100);return e.processJPEG.call(this,c,n,r,o)},e.processGIF87A=e.processGIF89A}(yA.API),Pc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){jl.log("bit decode error:"+e)}},Pc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*o*4,s=0;s<8&&8*o+s<this.width;s++){var l=this.palette[i>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}0!==n&&(this.pos+=4-n)}},Pc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<e;o++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*o*4,s=i>>4,l=15&i,A=this.palette[s];if(this.data[a]=A.blue,this.data[a+1]=A.green,this.data[a+2]=A.red,this.data[a+3]=255,2*o+1>=this.width)break;A=this.palette[l],this.data[a+4]=A.blue,this.data[a+4+1]=A.green,this.data[a+4+2]=A.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},Pc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(o<this.palette.length){var a=this.palette[o];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},Pc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,A=i>>15?255:0,c=r*this.width*4+4*o;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=a,this.data[c+3]=A}this.pos+=e}},Pc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,A=(a>>11)/t*255|0,c=o*this.width*4+4*i;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=e}},Pc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=i,this.data[a+1]=o,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Pc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=o,this.data[s+2]=r,this.data[s+3]=a}},Pc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,o){var i=new Pc(t,!1),a=i.width,s=i.height,l={data:i.getData(),width:a,height:s},A=new Nc(100).encode(l,100);return e.processJPEG.call(this,A,n,r,o)}}(yA.API),Rc.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,o){var i=new Rc(t),a=i.width,s=i.height,l={data:i.getData(),width:a,height:s},A=new Nc(100).encode(l,100);return e.processJPEG.call(this,A,n,r,o)}}(yA.API),yA.API.processRGBA=function(e,t,n){for(var r=e.data,o=r.length,i=new Uint8Array(o/4*3),a=new Uint8Array(o/4),s=0,l=0,A=0;A<o;A+=4){var c=r[A],u=r[A+1],d=r[A+2],p=r[A+3];i[s++]=c,i[s++]=u,i[s++]=d,a[l++]=p}var h=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:h,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yA.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cc=yA.API,Ec=Cc.getCharWidthsArray=function(e,t){var n,r,o=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:o.metadata.Unicode.widths,l=s.fof?s.fof:1,A=t.kerning?t.kerning:o.metadata.Unicode.kerning,c=A.fof?A.fof:1,u=!1!==t.doKerning,d=0,p=e.length,h=0,f=s[0]||l,g=[];for(n=0;n<p;n++)r=e.charCodeAt(n),"function"==typeof o.metadata.widthOfString?g.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(d=u&&"object"===(0,Hs.A)(A[r])&&!isNaN(parseInt(A[r][h],10))?A[r][h]/c:0,g.push((s[r]||f)/l+d)),h=r;return g},xc=Cc.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Cc.processArabic&&(e=Cc.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,o)/n:Ec.apply(this,arguments).reduce(function(e,t){return e+t},0)},Ic=function(e,t,n,r){for(var o=[],i=0,a=e.length,s=0;i!==a&&s+t[i]<n;)s+=t[i],i++;o.push(e.slice(0,i));var l=i;for(s=0;i!==a;)s+t[i]>r&&(o.push(e.slice(l,i)),s=0,l=i),s+=t[i],i++;return l!==i&&o.push(e.slice(l,i)),o},Tc=function(e,t,n){n||(n={});var r,o,i,a,s,l,A,c=[],u=[c],d=n.textIndent||0,p=0,h=0,f=e.split(" "),g=Ec.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),y=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):y.push(e[0])}),f=y,l=xc.apply(this,[m,n])}for(i=0,a=f.length;i<a;i++){var v=0;if(r=f[i],l&&"\n"==r[0]&&(r=r.substr(1),v=1),d+p+(h=(o=Ec.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||v){if(h>t){for(s=Ic.apply(this,[r,o,t-(d+p),t]),c.push(s.shift()),c=[s.pop()];s.length;)u.push([s.shift()]);h=o.slice(r.length-(c[0]?c[0].length:0)).reduce(function(e,t){return e+t},0)}else c=[r];u.push(c),d=h+l,p=g}else c.push(r),d+=p+h,p=g}return A=l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(A)},Cc.splitTextToSize=function(e,t,n){var r,o=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/o;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,i.lineIndent=n.lineIndent;var s,l,A=[];for(s=0,l=r.length;s<l;s++)A=A.concat(Tc.apply(this,[r[s],a,i]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},o=0;o<16;o++)n[t[o]]="0123456789abcdef"[o],r["0123456789abcdef"[o]]=t[o];var i=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,n,o,s,l=["{"];for(var A in e){if(t=e[A],isNaN(parseInt(A,10))?n="'"+A+"'":(A=parseInt(A,10),n=(n=i(A).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(o=i(t).slice(3),s="-"):(o=i(t).slice(2),s=""),o=s+o.slice(0,-1)+r[o.slice(-1)];else{if("object"!==(0,Hs.A)(t))throw new Error("Don't know what to do with value type "+(0,Hs.A)(t)+".");o=a(t)}l.push(n+o)}return l.push("}"),l.join("")},s=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,o,i,a={},s=1,l=a,A=[],c="",u="",d=e.length-1,p=1;p<d;p+=1)"'"==(i=e[p])?t?(o=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(A.push([l,o]),l={},o=void 0):"}"==i?((r=A.pop())[0][r[1]]=l,o=void 0,l=r[0]):"-"==i?s=-1:void 0===o?n.hasOwnProperty(i)?(c+=n[i],o=parseInt(c,16)*s,s=1,c=""):c+=i:n.hasOwnProperty(i)?(u+=n[i],l[o]=parseInt(u,16)*s,s=1,o=void 0,u=""):u+=i;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=A.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(yA.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,o=n.font,i=n.instance;if(!o.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(o.postScriptName)?i.loadFile(o.postScriptName):i.getFileFromVFS(o.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Kl(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(o,r)}}])}(yA),function(){function e(){return(Ml.canvg?Promise.resolve(Ml.canvg):n.e(732).then(n.bind(n,3732))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}yA.API.addSvgAsImage=function(t,n,r,o,i,a,s,l){if(isNaN(n)||isNaN(r))throw jl.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(i))throw jl.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=o,A.height=i;var c=A.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,A.width,A.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(e){return e.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){d.addImage(A.toDataURL("image/jpeg",1),n,r,o,i,s,l)})}}(),yA.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var o=0;o<this.internal.pages[r].length;o++)this.internal.pages[r][o]=this.internal.pages[r][o].replace(t,n);return this},yA.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,o,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],A=0,c=0,u=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=s.length;for(u=0;u<p;u+=1)n[s[u]].value=n[s[u]].defaultValue,n[s[u]].explicitSet=!1}if("object"===(0,Hs.A)(e))for(o in e)if(i=e[o],d(s,o)&&void 0!==i){if("boolean"===n[o].type&&"boolean"==typeof i)n[o].value=i;else if("name"===n[o].type&&d(n[o].valueSet,i))n[o].value=i;else if("integer"===n[o].type&&Number.isInteger(i))n[o].value=i;else if("array"===n[o].type){for(A=0;A<i.length;A+=1)if(r=!0,1===i[A].length&&"number"==typeof i[A][0])l.push(String(i[A]-1));else if(i[A].length>1){for(c=0;c<i[A].length;c+=1)"number"!=typeof i[A][c]&&(r=!1);!0===r&&l.push([i[A][0]-1,i[A][1]-1].join(" "))}n[o].value="["+l.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+o.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+o+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(yA.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,o=["","0","00","000","0000"],i=[""],a=0,s=e.length;a<s;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(o[4-n.length],n)}return i.join("")},r=function(e){var t,n,r,o,i,a,s;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(e).sort(function(e,t){return e-t})).length;a<s;a++)t=n[a],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(o=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+o+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,o=t.out,i=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),A="",c=0;c<l.length;c++)A+=String.fromCharCode(l[c]);var u=i();a({data:A,addLength1:!0,objectId:u}),o("endobj");var d=i();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),o("endobj");var p=i();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+dA(n.fontName)),o("/FontFile2 "+u+" 0 R"),o("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),o("/Flags "+n.metadata.flags),o("/StemV "+n.metadata.stemV),o("/ItalicAngle "+n.metadata.italicAngle),o("/Ascent "+n.metadata.ascender),o("/Descent "+n.metadata.decender),o("/CapHeight "+n.metadata.capHeight),o(">>"),o("endobj");var h=i();o("<<"),o("/Type /Font"),o("/BaseFont /"+dA(n.fontName)),o("/FontDescriptor "+p+" 0 R"),o("/W "+e.API.PDFObject.convert(s)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+n.encoding+")"),o(">>"),o(">>"),o("endobj"),n.objectNumber=i(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+d+" 0 R"),o("/BaseFont /"+dA(n.fontName)),o("/Encoding /"+n.encoding),o("/DescendantFonts ["+h+" 0 R]"),o(">>"),o("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,o=t.out,i=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,l="",A=0;A<s.length;A++)l+=String.fromCharCode(s[A]);var c=i();a({data:l,addLength1:!0,objectId:c}),o("endobj");var u=i();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),o("endobj");var d=i();o("<<"),o("/Descent "+n.metadata.decender),o("/CapHeight "+n.metadata.capHeight),o("/StemV "+n.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+c+" 0 R"),o("/Flags 96"),o("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),o("/FontName /"+dA(n.fontName)),o("/ItalicAngle "+n.metadata.italicAngle),o("/Ascent "+n.metadata.ascender),o(">>"),o("endobj"),n.objectNumber=i();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+dA(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),o("endobj"),n.isAlreadyPutted=!0}}(t)}]);var o=function(e){var t,r=e.text||"",o=e.x,i=e.y,a=e.options||{},s=e.mutex||{},l=s.pdfEscape,A=s.activeFontKey,c=s.fonts,u=A,d="",p=0,h="",f=c[u].encoding;if("Identity-H"!==c[u].encoding)return{text:r,x:o,y:i,options:a,mutex:s};for(h=r,u=A,Array.isArray(r)&&(h=r[0]),p=0;p<h.length;p+=1)c[u].metadata.hasOwnProperty("cmap")&&(t=c[u].metadata.cmap.unicode.codeMap[h[p].charCodeAt(0)]),t||h[p].charCodeAt(0)<256&&c[u].metadata.hasOwnProperty("Unicode")?d+=h[p]:d+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?g=l(d,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=n(d,c[u])),s.isHex=!0,{text:g,x:o,y:i,options:a,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?n.push([o(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):n.push(o(Object.assign({},r,{text:t[i]})).text);e.text=n}else e.text=o(Object.assign({},r,{text:t})).text}])}(yA),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(yA.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,o,i,a,s,l,A=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},h=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?A[256*r+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},b=function(e,t,a,s){var l,A,c,u,d=t[s];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(l=a[s-1])&&"AN"!==l||"EN"!==(A=t[s+1])&&"AN"!==A?d="N":g&&(A="AN"),d=A===l?A:"N";break;case"ES":d="EN"===(l=s>0?a[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){d="EN";break}if(g){d="N";break}for(c=s+1,u=t.length;c<u&&"ET"===t[c];)c++;d=c<u&&"EN"===t[c]?"EN":"N";break;case"NSM":if(o&&!i){for(u=t.length,c=s+1;c<u&&"NSM"===t[c];)c++;if(c<u){var p=e[s],h=p>=1425&&p<=2303||64286===p;if(l=t[c],h&&("R"===l||"AL"===l)){d="R";break}}}d=s<1||"B"===(l=t[s-1])?"N":a[s-1];break;case"B":g=!1,n=!0,d=m;break;case"S":r=!0,d="N"}return d},w=function(e,t,n){var r=e.split("");return n&&S(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},S=function(e,t,o){var i,a,s,l,A,p=-1,h=e.length,f=0,v=[],w=m?u:c,S=[];for(g=!1,n=!1,r=!1,a=0;a<h;a++)S[a]=y(e[a]);for(s=0;s<h;s++){if(A=f,v[s]=b(e,S,v,s),i=240&(f=w[A][d[v[s]]]),f&=15,t[s]=l=w[f][5],i>0)if(16===i){for(a=p;a<s;a++)t[a]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=s);else if(p>-1){for(a=p;a<s;a++)t[a]=l;p=-1}"B"===S[s]&&(t[s]=0),o.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var o=r-1;o>=0&&"WS"===e[o];o--)t[o]=m}}(S,t,h)},_=function(e,t,r,o,i){if(!(i.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var a,s,l,A,c=t.length,u=0;u<c;){if(o[u]>=e){for(l=u+1;l<c&&o[l]>=e;)l++;for(A=u,s=l-1;A<s;A++,s--)a=t[A],t[A]=t[s],t[s]=a,r&&(a=r[A],r[A]=r[s],r[s]=a);u=l}u++}}},B=function(e,t,n){var r=e.split(""),o={hiLevel:m};return n||(n=[]),S(r,n,o),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,o=0;o<e.length;o++)1===t[o]&&(r=h.indexOf(e[o]))>=0&&(e[o]=h[r+1])}(r,n,o),_(2,r,t,n,o),_(1,r,t,n,o),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===i&&(i=v(e)),void 0===s&&(s=v(e))}(e,t),o||!a||s)if(o&&a&&i^s)m=i?1:0,e=w(e,t,n);else if(!o&&a&&s)m=i?1:0,e=B(e,t,n),e=w(e,t);else if(!o||i||a||s){if(o&&!a&&i^s)e=w(e,t),i?(m=0,e=B(e,t,n)):(m=1,e=B(e,t,n),e=w(e,t));else if(o&&i&&!a&&s)m=1,e=B(e,t,n),e=w(e,t);else if(!o&&!a&&i^s){var r=l;i?(m=1,e=B(e,t,n),m=0,l=!1,e=B(e,t,n),l=r):(m=0,e=B(e,t,n),e=w(e,t),m=1,l=!1,e=B(e,t,n),l=r,e=w(e,t))}}else m=0,e=B(e,t,n);else m=i?1:0,e=B(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(o=e.isInputVisual,a=e.isOutputVisual,i=e.isInputRtl,s=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var o=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(o=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?o.push([n.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):o.push([n.doBidiReorder(t[i])]);e.text=o}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(yA),yA.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Oc(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nu(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Dc(this.contents),this.head=new jc(this),this.name=new $c(this),this.cmap=new zc(this),this.toUnicode={},this.hhea=new Vc(this),this.maxp=new qc(this),this.hmtx=new Yc(this),this.post=new Wc(this),this.os2=new Kc(this),this.loca=new tu(this),this.glyf=new Xc(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,o;for(o=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],o.push(Math.round(e*this.scaleFactor));return o}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,o,i,a;for(i=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)r=e.charCodeAt(o),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Lc,Oc=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,o,i,a,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^o)+65536*(255^i)+256*(255^a)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*o+65536*i+256*a+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;n<r;n++)t=e[n],o.push(this.writeByte(t));return o},e}(),Dc=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,o,i,a,s,l,A,c,u,d,p,h;for(h in d=Object.keys(t).length,s=Math.log(2),c=16*Math.floor(Math.log(d)/s),i=Math.floor(c/s),A=16*d-c,(r=new Oc).writeInt(this.scalarType),r.writeShort(d),r.writeShort(c),r.writeShort(i),r.writeShort(A),o=16*d,l=r.pos+o,a=null,p=[],t)for(u=t[h],r.writeString(h),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),p=p.concat(u),"head"===h&&(a=l),l+=u.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,o;for(e=Jc.call(e);e.length%4;)e.push(0);for(r=new Oc(e),n=0,t=0,o=e.length;t<o;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Mc={}.hasOwnProperty,Qc=function(e,t){for(var n in t)Mc.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Lc=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var jc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Oc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Hc=function(){function e(e,t){var n,r,o,i,a,s,l,A,c,u,d,p,h,f,g,m,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(d=e.readUInt16(),u=d/2,e.pos+=6,o=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,h=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),A=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,y=o.length;g<y;s=++g)for(f=o[s],n=m=p=h[s];p<=f?m<=f:m>=f;n=p<=f?++m:--m)0===A[s]?i=n+l[s]:0!==(i=a[A[s]/2+(n-p)-(u-s)]||0)&&(i+=l[s]),this.codeMap[n]=65535&i}e.pos=c}return e.encode=function(e,t){var n,r,o,i,a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,F,N,P,R,L,O,D,M,Q,j,H,z,V,K,W,G;switch(T=new Oc,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(h=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),m={0:0},o={},k=0,P=i.length;k<P;k++)null==m[V=e[r=i[k]]]&&(m[V]=++h),o[r]={old:e[r],new:m[e[r]]},f[r]=m[e[r]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(f),{charMap:o,subtable:T.data,maxGlyphID:h+1};case"unicode":for(x=[],c=[],y=0,m={},n={},g=l=null,U=0,R=i.length;U<R;U++)null==m[b=e[r=i[U]]]&&(m[b]=++y),n[r]={old:b,new:m[b]},a=m[b]-r,null!=g&&a===l||(g&&c.push(g),x.push(r),l=a),g=r;for(g&&c.push(g),c.push(65535),x.push(65535),C=2*(B=x.length),_=2*Math.pow(Math.log(B)/Math.LN2,2),u=Math.log(_/2)/Math.LN2,S=2*B-_,s=[],w=[],d=[],p=F=0,L=x.length;F<L;p=++F){if(E=x[p],A=c[p],65535===E){s.push(0),w.push(0);break}if(E-(I=n[E].new)>=32768)for(s.push(0),w.push(2*(d.length+B-p)),r=N=E;E<=A?N<=A:N>=A;r=E<=A?++N:--N)d.push(n[r].new);else s.push(I-E),w.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*B+2*d.length),T.writeUInt16(0),T.writeUInt16(C),T.writeUInt16(_),T.writeUInt16(u),T.writeUInt16(S),H=0,O=c.length;H<O;H++)r=c[H],T.writeUInt16(r);for(T.writeUInt16(0),z=0,D=x.length;z<D;z++)r=x[z],T.writeUInt16(r);for(K=0,M=s.length;K<M;K++)a=s[K],T.writeUInt16(a);for(W=0,Q=w.length;W<Q;W++)v=w[W],T.writeUInt16(v);for(G=0,j=d.length;G<j;G++)h=d[G],T.writeUInt16(h);return{charMap:n,subtable:T.data,maxGlyphID:y+1}}},e}(),zc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Hc(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Hc.encode(e,t),(r=new Oc).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Vc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Kc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Wc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],o=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;o=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Gc=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$c=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,o,i,a,s,l,A,c,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(s={},o=A=0,c=n.length;A<c;o=++A)r=n[o],e.pos=r.offset,l=e.readString(r.length),i=new Gc(l,r),null==s[u=r.nameID]&&(s[u]=[]),s[r.nameID].push(i);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),qc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Yc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,o,i,a,s;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,o;for(o=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)o.push(e.readInt16());return o}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)o=n[e],r.push(o.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Jc=[].slice,Xc=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,o,i,a,s,l,A,c;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,n=o.indexOf(e),0===(r=o.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,i=(a=new Oc(t.read(r))).readShort(),l=a.readShort(),c=a.readShort(),s=a.readShort(),A=a.readShort(),this.cache[e]=-1===i?new eu(a,l,c,s,A):new Zc(a,i,l,c,s,A),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,o,i,a,s;for(i=[],o=[],a=0,s=t.length;a<s;a++)r=e[t[a]],o.push(i.length),r&&(i=i.concat(r.encode(n)));return o.push(i.length),{table:i,offsets:o}},e}(),Zc=function(){function e(e,t,n,r,o,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),eu=function(){function e(e,t,n,r,o){var i,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;a=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&a;)i.pos+=1&a?4:2,128&a?i.pos+=8:64&a?i.pos+=4:8&a&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Oc(Jc.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),tu=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Lc),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,o=0,i=0;i<n.length;++i)if(n[i]=r,o<t.length&&t[o]==i){++o,n[i]=r;var a=this.offsets[i],s=this.offsets[i+1]-a;s>0&&(r+=s)}for(var l=new Array(4*n.length),A=0;A<n.length;++A)l[4*A+3]=255&n[A],l[4*A+2]=(65280&n[A])>>8,l[4*A+1]=(16711680&n[A])>>16,l[4*A]=(4278190080&n[A])>>24;return l},e}(),nu=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,o;for(t in r=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,o,i,a,s;for(r={},i=0,a=e.length;i<a;i++)r[o=e[i]]=this.font.glyf.glyphFor(o);for(o in t=[],r)(null!=(n=r[o])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in s=this.glyphsFor(t))n=s[o],r[o]=n;return r},e.prototype.encode=function(e,t){var n,r,o,i,a,s,l,A,c,u,d,p,h,f,g;for(r in n=zc.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),d={0:0},g=n.charMap)d[(s=g[r]).old]=s.new;for(p in u=n.maxGlyphID,i)p in d||(d[p]=u++);return A=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),c=Object.keys(A).sort(function(e,t){return e-t}),h=function(){var e,t,n;for(n=[],e=0,t=c.length;e<t;e++)a=c[e],n.push(A[a]);return n}(),o=this.font.glyf.encode(i,h,d),l=this.font.loca.encode(o.offsets,h),f={cmap:this.font.cmap.raw(),glyf:o.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();yA.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,o,i,a;if(Array.isArray(n))return"["+function(){var e,o,i;for(i=[],e=0,o=n.length;e<o;e++)r=n[e],i.push(t.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(o in i=["<<"],n)a=n[o],i.push("/"+o+" "+t.convert(a));return i.push(">>"),i.join("\n")}return""+n},t}();var ru=n(5239),ou=n.n(ru);const iu=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var r,o,i,a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,F;if(console.log("\ud83d\udcc4 Starting PDF generation..."),console.log("\ud83d\udcc4 User ID:",t),console.log("\ud83d\udcc4 Metadata:",n),console.log("\ud83d\udcc4 Analysis data received:",e),!e)throw new Error("No analysis data provided");if(!t)throw new Error("User ID is required for PDF generation");console.log("\ud83d\udcc4 Analysis Data Structure:",JSON.stringify(e,null,2)),console.log("\ud83d\udcc4 Brand Compliance Score:",null===e||void 0===e||null===(r=e.brandCompliance)||void 0===r?void 0:r.score),console.log("\ud83d\udcc4 Messaging Intent Score:",null===e||void 0===e||null===(o=e.messagingIntent)||void 0===o?void 0:o.score),console.log("\ud83d\udcc4 Funnel Compatibility Score:",null===e||void 0===e||null===(i=e.funnelCompatibility)||void 0===i?void 0:i.score),console.log("\ud83d\udcc4 Ad Resonance Score:",null===e||void 0===e||null===(a=e.adResonance)||void 0===a?void 0:a.score),console.log("\ud83d\udcc4 Channel Compliance Score:",null===e||void 0===e||null===(s=e.channelCompliance)||void 0===s?void 0:s.score),console.log("\ud83d\udcc4 Purchase Intent Score:",null===e||void 0===e||null===(l=e.purchaseIntent)||void 0===l?void 0:l.score),console.log("\ud83d\udcc4 Comprehensive Results:",null===e||void 0===e?void 0:e.results),console.log("\ud83d\udcc4 AI Analysis Results:",null===e||void 0===e?void 0:e.ai_analysis_results),console.log("\ud83d\udcc4 Gemini Analysis Data:",null===e||void 0===e?void 0:e.geminiAnalysis),console.log("\ud83d\udcc4 Raw Results:",null===e||void 0===e?void 0:e.rawResults);const q=e=>{if(!e)return"Analysis not available";const t=e.replace(/\*\*/g,"").replace(/\*/g,"").replace(/#{1,6}\s/g,"").replace(/`/g,"").replace(/\n\s*\n/g,"\n\n").replace(/\s+/g," ").trim().split(/(?<=[.!?])\s+/);let n="",r=0;for(const o of t){if(r+o.length>800)break;n+=o+" ",r+=o.length+1}return n=n.trim().replace(/\s+/g," ").replace(/([.!?])\s+([A-Z])/g,"$1 $2"),n||"Analysis not available"};let Y;console.log("\ud83d\udcc4 Creating PDF document...");try{Y=new yA("p","mm","a4"),console.log("\ud83d\udcc4 PDF document created successfully")}catch(G){throw console.error("\u274c Failed to create PDF document:",G),new Error(`PDF document creation failed: ${G.message}`)}const J=Y.internal.pageSize.getWidth(),X=Y.internal.pageSize.getHeight();console.log("\ud83d\udcc4 PDF dimensions:",{pageWidth:J,pageHeight:X});const Z=15,ee=J-2*Z;let te=Z;const ne=e=>{te+e>X-Z&&(Y.addPage(),te=Z)},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000";Y.setFontSize(t),Y.setFont("helvetica",n?"bold":"normal"),Y.setTextColor(r);const o=Y.splitTextToSize(e,ee),i=.5*t;ne(o.length*i),o.forEach((e,t)=>{Y.text(e,Z,te+t*i)}),te+=o.length*i+5};Y.setFillColor(103,126,234),Y.rect(0,0,J,40,"F"),Y.setTextColor("#FFFFFF"),Y.setFontSize(24),Y.setFont("helvetica","bold"),Y.text("Incivus Analysis Report",Z,25),te=50;const oe=e.adTitle||n.adTitle||"Advertisement Analysis";re(`Ad: ${oe}`,18,!0,"#1f2937"),te+=5,re(`Generated on: ${(new Date).toLocaleString()}`,10,!1,"#666666"),re(`User ID: ${t}`,10,!1,"#666666"),re(`Analysis ID: ${n.analysisId||"N/A"}`,10,!1,"#666666"),e.selectedChannels&&e.selectedChannels.length>0&&re(`Target Channels: ${e.selectedChannels.join(", ")}`,10,!1,"#666666"),e.funnelStage&&re(`Funnel Stage: ${e.funnelStage}`,10,!1,"#666666"),e.messageIntent&&re(`Message Intent: ${e.messageIntent}`,10,!1,"#666666"),te+=10;const ie=t=>{const n=[e.geminiResults,e.results,e.ai_analysis_results,e.geminiAnalysis];for(const e of n){var r,o,i,a,s,l,A,c,u,d,p;if(!e)continue;let n=e;n.data&&"object"===typeof n.data&&(n=n.data);const h={brand_compliance_score:(null===(r=n.brandCompliance)||void 0===r?void 0:r.score)||(null===(o=n.brand_compliance)||void 0===o?void 0:o.score),messaging_intent_score:(null===(i=n.messagingIntent)||void 0===i?void 0:i.score)||(null===(a=n.messaging_intent)||void 0===a?void 0:a.score),funnel_compatibility_score:(null===(s=n.funnelCompatibility)||void 0===s?void 0:s.score)||(null===(l=n.funnel_compatibility)||void 0===l?void 0:l.score),ad_resonance_score:(null===(A=n.adResonance)||void 0===A?void 0:A.score)||(null===(c=n.ad_resonance)||void 0===c?void 0:c.score),channel_compliance_score:(null===(u=n.channelCompliance)||void 0===u?void 0:u.score)||(null===(d=n.channel_compliance)||void 0===d?void 0:d.score),purchase_intent_score:(null===(p=n.purchaseIntent)||void 0===p?void 0:p.score)||n.purchase_intent_score,overall_score:n.overallScore||n.overall_score}[t];if(void 0!==h)return h}return null};let ae;const se=ie("overall_score");if(null!==se)ae=se;else{const t=[];var N,P,R,L,O,D;if(["brand_compliance_score","messaging_intent_score","funnel_compatibility_score","ad_resonance_score","channel_compliance_score","purchase_intent_score"].forEach(e=>{const n=ie(e);null!==n&&t.push(n)}),0===t.length)ae=Math.round((((null===(N=e.brandCompliance)||void 0===N?void 0:N.score)||0)+((null===(P=e.messagingIntent)||void 0===P?void 0:P.score)||0)+((null===(R=e.funnelCompatibility)||void 0===R?void 0:R.score)||0)+((null===(L=e.adResonance)||void 0===L?void 0:L.score)||0)+((null===(O=e.channelCompliance)||void 0===O?void 0:O.score)||0)+((null===(D=e.purchaseIntent)||void 0===D?void 0:D.score)||0))/6);else ae=Math.round(t.reduce((e,t)=>e+t,0)/t.length)}Y.setFillColor(240,248,255),Y.rect(Z,te,ee,25,"F"),Y.setDrawColor(103,126,234),Y.rect(Z,te,ee,25,"S"),Y.setTextColor("#1f2937"),Y.setFontSize(18),Y.setFont("helvetica","bold"),Y.text("Overall Performance Score",Z+5,te+10),Y.setFontSize(28),Y.setTextColor(ae>=70?"#059669":"#d97706"),Y.text(`${ae}%`,Z+5,te+22),te+=40,null!==(A=e.overallScore)&&void 0!==A&&A.detailedAnalysis&&(ne(40),re("Overall Analysis Summary:",14,!0,"#1f2937"),re(q(e.overallScore.detailedAnalysis),10,!1,"#374151"),te+=10);const le=t=>{if(!e.geminiResults)return null;let n=e.geminiResults;return n.data&&"object"===typeof n.data&&(n=n.data),n[t]||null},Ae=e=>e?e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/#{1,6}\s/g,"").replace(/`{1,3}(.*?)`{1,3}/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").trim():"Not analyzed",ce=[{title:"Brand Compliance",score:ie("brand_compliance_score")||(null===(c=e.brandCompliance)||void 0===c?void 0:c.score)||0,geminiData:le("brandCompliance"),detailedAnalysis:q(null===(u=e.brandCompliance)||void 0===u?void 0:u.detailedAnalysis),getMetrics:()=>{var t,n;const r=[],o=null===(t=e.rawResults)||void 0===t||null===(n=t.brand_compliance)||void 0===n?void 0:n.compliance_analysis;var i;null!==o&&void 0!==o&&o.questions&&null!==o&&void 0!==o&&o.llm_answers?(o.questions.forEach((e,t)=>{const n=o.llm_answers[t]||"No";r.push(`${e}: ${n}`)}),r.push(`Compliance Level: ${e.rawResults.brand_compliance.compliance_level||"Low"}`)):r.push(`Logo Detection: ${(null===(i=e.brandCompliance)||void 0===i?void 0:i.logoPresence)||"Not detected"}`);return r}},{title:"Messaging Intent",score:ie("messaging_intent_score")||(null===(d=e.messagingIntent)||void 0===d?void 0:d.score)||0,geminiData:le("messagingIntent"),detailedAnalysis:q(null===(p=e.messagingIntent)||void 0===p?void 0:p.detailedAnalysis),getMetrics:()=>{var t,n;const r=[],o=null===(t=e.rawResults)||void 0===t||null===(n=t.metaphor_analysis)||void 0===n?void 0:n.message_intent;var i;o?(r.push(`\u2022 Message Submitted: ${e.messageIntent||o.user_message||"No message provided"}`),r.push(`\u2022 Incivus Inferred Messaging: ${o.core_message_summary||"No clear message identified"}`),r.push(`\u2022 Emotional Tone: ${o.emotional_tone||"Neutral"}`)):r.push(`Clarity: ${(null===(i=e.messagingIntent)||void 0===i?void 0:i.clarity)||"Unknown"}`);return r}},{title:"Channel Compliance",score:ie("channel_compliance_score")||(null===(h=e.channelCompliance)||void 0===h?void 0:h.score)||0,geminiData:le("channelCompliance"),detailedAnalysis:q(null===(f=e.channelCompliance)||void 0===f?void 0:f.detailedAnalysis),getMetrics:()=>{var t;const n=[],r=null===(t=e.rawResults)||void 0===t?void 0:t.channel_compliance,o=null===r||void 0===r?void 0:r.overall_compliance;var i;if(o)n.push("Platform Optimization: "+(null!==(i=o.overall_status)&&void 0!==i&&i.includes("\u2705")?"Good":"Needs Improvement")),n.push("Format Compliance: "+(o.overall_compliance_score>=80?"Compliant":"Non-compliant")),n.push("Content Guidelines: "+(o.overall_compliance_score>=80?"Followed":"Review Needed")),n.push(`Performance Score: ${o.overall_compliance_score||0}`),o.individual_scores&&Object.keys(o.individual_scores).length>0&&Object.entries(o.individual_scores).forEach(e=>{let[t,r]=e;n.push(`${t.toUpperCase()}: ${r}%`)});else if(r)Object.entries(r).forEach(e=>{let[t,r]=e;r&&"object"===typeof r&&void 0!==r.compliance_score&&(n.push(`\ud83d\udcf1 ${t.toUpperCase()}: ${r.compliance_score}`),r.guideline_results&&(n.push(`  Guidelines: ${r.total_guidelines||0} checked, ${r.total_matched_scores||0} passed`),r.guideline_results.forEach(e=>{n.push(`  \u2022 Rule: ${e.guideline}`),n.push(`    Result: ${e.actual_output}`)})))});else{var a;n.push(`Platform Optimization: ${(null===(a=e.channelCompliance)||void 0===a?void 0:a.platformOptimization)||"Unknown"}`)}return n}},{title:"Funnel Compatibility",score:ie("funnel_compatibility_score")||(null===(g=e.funnelCompatibility)||void 0===g?void 0:g.score)||0,geminiData:le("funnelCompatibility"),detailedAnalysis:q(null===(m=e.funnelCompatibility)||void 0===m?void 0:m.detailedAnalysis),getMetrics:t=>{var n,r,o,i;return t?[`Target Stage: ${Ae(t.stage)}`,`Conversion Potential: ${Ae(t.conversionPotential)}`,`Urgency Elements: ${Ae(t.urgencyElements)}`,`Scarcity Triggers: ${Ae(t.scarcityTriggers)}`]:[`Stage Alignment: ${(null===(n=e.funnelCompatibility)||void 0===n?void 0:n.stageAlignment)||"N/A"}`,`Urgency Elements: ${(null===(r=e.funnelCompatibility)||void 0===r?void 0:r.urgencyElements)||"N/A"}`,`Scarcity Triggers: ${(null===(o=e.funnelCompatibility)||void 0===o?void 0:o.scarcityTriggers)||"N/A"}`,`Conversion Path: ${(null===(i=e.funnelCompatibility)||void 0===i?void 0:i.conversionPath)||"N/A"}`]}}],ue=ie("ad_resonance_score"),de=le("adResonance");var M,Q;if(null!==ue||e.adResonance)ce.push({title:"Ad Resonance (PRO)",score:ue||(null===(M=e.adResonance)||void 0===M?void 0:M.score)||0,geminiData:de,detailedAnalysis:q(null===(Q=e.adResonance)||void 0===Q?void 0:Q.detailedAnalysis),getMetrics:t=>{var n,r,o,i;return t?[`Emotional Impact: ${Ae(t.emotionalImpact)}`,`Engagement Level: ${Ae(t.engagementLevel)}`,`Memorability: ${Ae(t.memorability)}`,`Shareability: ${Ae(t.shareability)}`]:[`Engagement Level: ${(null===(n=e.adResonance)||void 0===n?void 0:n.engagementLevel)||"N/A"}`,`Memorability: ${(null===(r=e.adResonance)||void 0===r?void 0:r.memorability)||"N/A"}`,`Shareability: ${(null===(o=e.adResonance)||void 0===o?void 0:o.shareability)||"N/A"}`,`Viral Potential: ${(null===(i=e.adResonance)||void 0===i?void 0:i.viralPotential)||"N/A"}`]}});(null===e||void 0===e||null===(y=e.results)||void 0===y?void 0:y.channel_compliance)||(null===e||void 0===e||null===(v=e.ai_analysis_results)||void 0===v?void 0:v.channel_compliance)||(null===e||void 0===e||null===(b=e.rawResults)||void 0===b||b.channel_compliance);const pe=ie("purchase_intent_score");if(null!==pe||null!==(w=e.rawResults)&&void 0!==w&&null!==(S=w.content_analysis)&&void 0!==S&&S.purchase_intent_scores){var j,H,z,V,K,W;const t=null===(j=e.rawResults)||void 0===j||null===(H=j.content_analysis)||void 0===H?void 0:H.purchase_intent_scores,n=null===(z=e.rawResults)||void 0===z||null===(V=z.content_analysis)||void 0===V?void 0:V.resonating_impact;ce.push({title:"Purchase Intent & Ad Resonance Analysis",score:pe||(null===(K=e.purchaseIntent)||void 0===K?void 0:K.score)||0,geminiData:le("purchaseIntent"),detailedAnalysis:q(null===(W=e.purchaseIntent)||void 0===W?void 0:W.detailedAnalysis),getMetrics:()=>{const e=[];var r,o,i,a,s,l,A,c,u,d;(e.push("\ud83d\udcca Purchase Intent Breakdown:"),t)&&(e.push(`\u2022 Message Clarity: ${(null===(r=t.message_clarity)||void 0===r?void 0:r.percentage)||0} - ${((null===(o=t.message_clarity)||void 0===o?void 0:o.description)||"No description").replace(/^Message clarity - /i,"")}`),e.push(`\u2022 Emotional Appeal: ${(null===(i=t.emotional_appeal)||void 0===i?void 0:i.percentage)||0} - ${((null===(a=t.emotional_appeal)||void 0===a?void 0:a.description)||"No description").replace(/^Emotional appeal - /i,"")}`),e.push(`\u2022 Relevance: ${(null===(s=t.relevance)||void 0===s?void 0:s.percentage)||0} - ${((null===(l=t.relevance)||void 0===l?void 0:l.description)||"No description").replace(/^Relevance - /i,"")}`),e.push(`\u2022 CTA Strength: ${(null===(A=t.cta_strength)||void 0===A?void 0:A.percentage)||0} - ${((null===(c=t.cta_strength)||void 0===c?void 0:c.description)||"No description").replace(/^(Visual or verbal )?CTA strength - /i,"")}`),e.push(`\u2022 Psychological Triggers: ${(null===(u=t.psychological_triggers)||void 0===u?void 0:u.percentage)||0} - ${((null===(d=t.psychological_triggers)||void 0===d?void 0:d.description)||"No description").replace(/^Use of psychological or persuasive triggers - /i,"")}`));return e.push(""),e.push("\ud83c\udfaf Ad Resonance Analysis:"),e.push(`\u2022 Resonating Impact: ${n||"No resonance analysis available"}`),e}})}ce.forEach((e,t)=>{ne(80),Y.setFillColor(248,250,252),Y.rect(Z,te,ee,15,"F"),Y.setDrawColor(229,231,235),Y.rect(Z,te,ee,15,"S"),re(e.title,14,!0,"#1f2937"),te-=8;const n=e.score||0,r=n>=85?"#059669":n>=70?"#d97706":"#dc2626";Y.setFontSize(20),Y.setFont("helvetica","bold"),Y.setTextColor(r),Y.text(`${n}/100`,J-Z-30,te-5),te+=5;const o=e.getMetrics(e.geminiData);o&&o.length>0&&(ne(30),re("Key Metrics:",12,!0,"#1f2937"),o.forEach(e=>{re(`\u2022 ${e}`,10,!1,"#374151")}),te+=5),e.detailedAnalysis&&"Analysis not available"!==e.detailedAnalysis&&(ne(30),re("Detailed Analysis:",12,!0,"#1f2937"),re(e.detailedAnalysis,10,!1,"#374151"),te+=5),te+=10});let he=e.geminiResults;null!==(_=he)&&void 0!==_&&_.data&&"object"===typeof he.data&&(he=he.data),null!==(B=he)&&void 0!==B&&B.resonatingImpact&&(ne(40),re("Resonating Impact Analysis",16,!0,"#1f2937"),re(q(he.resonatingImpact),11,!1,"#374151"),te+=10),ne(40),re("Key Recommendations",16,!0,"#1f2937");const fe=[];let ge;null!==(C=he)&&void 0!==C&&C.recommendations&&Array.isArray(he.recommendations)&&he.recommendations.forEach(e=>{fe.push(Ae(e))}),(null===(E=e.brandCompliance)||void 0===E?void 0:E.score)<70&&fe.push("Improve brand compliance by strengthening visual brand elements and consistency"),(null===(x=e.messagingIntent)||void 0===x?void 0:x.score)<70&&fe.push("Enhance messaging clarity and emotional appeal to better connect with your audience"),(null===(I=e.funnelCompatibility)||void 0===I?void 0:I.score)<70&&fe.push("Optimize funnel compatibility by improving call-to-action and urgency elements"),(null===(T=e.adResonance)||void 0===T?void 0:T.score)<70&&fe.push("Increase ad resonance by enhancing emotional impact and memorability"),(null===(k=e.channelCompliance)||void 0===k?void 0:k.score)<70&&fe.push("Improve channel compliance to better meet platform-specific requirements"),(null===(U=e.purchaseIntent)||void 0===U?void 0:U.score)<70&&fe.push("Strengthen purchase intent by improving persuasive elements and motivation"),ae>=90?fe.push("Excellent performance! Consider A/B testing variations to further optimize results"):ae>=80?fe.push("Strong performance! Focus on fine-tuning lower-scoring areas for optimal results"):ae>=70?fe.push("Good foundation! Prioritize improvements in areas scoring below 80%"):fe.push("Consider a comprehensive review to improve overall ad effectiveness"),"Not Detected"===(null===(F=e.brandCompliance)||void 0===F?void 0:F.logoPresence)&&fe.push("Include brand logo for better brand recognition and recall"),0===fe.length&&fe.push("Continue monitoring performance and testing variations for ongoing optimization"),fe.forEach(e=>{re(`\u2022 ${e}`,11,!1,"#374151")}),Y.setFontSize(8),Y.setTextColor("#9ca3af"),Y.text("Generated by Incivus Analysis Platform",Z,X-10),Y.text(`Page ${Y.internal.getNumberOfPages()}`,J-Z-15,X-10),console.log("\ud83d\udcc4 Converting PDF to blob...");try{ge=Y.output("blob"),console.log("\ud83d\udcc4 PDF blob created, size:",ge.size)}catch($){throw console.error("\u274c Failed to create PDF blob:",$),new Error(`PDF blob creation failed: ${$.message}`)}const me=(oe||"Advertisement").replace(/[^a-zA-Z0-9\s-]/g,"").replace(/\s+/g,"_").substring(0,50),ye=n.fileName||`${me}_Analysis_Report_${(new Date).toISOString().split("T")[0]}.pdf`;return console.log("\ud83d\udcc4 Final PDF filename:",ye),console.log("\u2705 PDF generated successfully"),{blob:ge,fileName:ye,metadata:{...n,overallScore:ae,generatedAt:(new Date).toISOString(),fileSize:ge.size,sections:ce.length}}}catch(q){throw console.error("\u274c PDF generation failed:",q),new Error(`PDF generation failed: ${q.message}`)}},au=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{console.log("\ud83d\udce5 Starting PDF download and save process..."),console.log("\ud83d\udce5 User ID:",t),console.log("\ud83d\udce5 Metadata:",n),console.log("\ud83d\udce5 Calling generateAnalysisPDF...");const r=await iu(e,t,n);console.log("\ud83d\udce5 PDF generation completed:",r.fileName);const o=new FileReader;return new Promise((i,a)=>{o.onload=async()=>{try{const a=o.result.split(",")[1],A=e.adTitle||n.adTitle||"Advertisement Analysis",c={fileName:r.fileName,fileType:"application/pdf",fileFormat:"pdf",fileCategory:"analysis-report",fileContent:a,fileSize:r.blob.size,analysisResults:e,metadata:{...r.metadata,...n,adTitle:A,source:"analysis-pdf-generator",reportType:"analysis-report",analysisType:"comprehensive-ad-analysis"}};console.log("\ud83d\udcbe Saving PDF to database...");const u=JSON.parse(JSON.stringify(e,(e,t)=>void 0===t||Array.isArray(t)&&0===t.length||"object"===typeof t&&null!==t&&0===Object.keys(t).length?null:t)),d=e=>{if(null===e||void 0===e)return null;if("object"!==typeof e)return e;if(Array.isArray(e))return e.map(d).filter(e=>void 0!==e);const t={};for(const[n,r]of Object.entries(e)){const e=d(r);void 0!==e&&(t[n]=e)}return t},p=d(u);let h;c.analysisResults=p,console.log("\ud83e\uddf9 Cleaned analysis results for database save:",p);try{h=await(0,G.jj)(t,c),console.log("\u2705 PDF saved to database successfully with ID:",h)}catch(s){console.error("\u274c Database save error details:",s),console.error("\u274c FileData that caused error:",JSON.stringify(c,null,2));try{console.log("\ud83d\udd04 Attempting to save PDF without analysis results...");const e={...c};delete e.analysisResults,h=await(0,G.jj)(t,e),console.log("\u2705 PDF saved to database (without analysis results) with ID:",h)}catch(l){throw console.error("\u274c Fallback save also failed:",l),new Error(`Failed to save PDF to database: ${s.message}`)}}const f=URL.createObjectURL(r.blob),g=document.createElement("a");g.href=f,g.download=r.fileName,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(f),console.log("\u2705 PDF downloaded and saved successfully"),i({success:!0,fileId:h.id,fileName:r.fileName,metadata:r.metadata,downloadTriggered:!0})}catch(A){console.error("\u274c Error saving PDF:",A),a(A)}},o.onerror=()=>{a(new Error("Failed to read PDF blob"))},o.readAsDataURL(r.blob)})}catch(r){throw console.error("\u274c PDF download and save failed:",r),r}};n(6588);R.A.PYTHON_API_URL,R.A.ANALYSIS_API_URL;const su=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{console.log("\ud83d\udcc4 Sending analysis data to main.py PDF endpoint...");const i="http://localhost:8002",a=new FormData;if(a.append("analysis_data",JSON.stringify(e)),t&&a.append("ad_title",t),n&&a.append("user_id",n),r&&a.append("analysis_id",r),o){if(console.log("\ud83d\udcf8 Including uploaded image in PDF generation"),"string"===typeof o)o.startsWith("data:")?(a.append("uploaded_image_data",o),a.append("image_format","data_url")):(a.append("uploaded_image_data",`data:image/jpeg;base64,${o}`),a.append("image_format","data_url"));else if(o instanceof File)a.append("uploaded_image_file",o,o.name),a.append("image_format","file");else if(o instanceof Blob){const e=new File([o],"uploaded_image.jpg",{type:"image/jpeg"});a.append("uploaded_image_file",e,e.name),a.append("image_format","file")}}else console.log("\u26a0\ufe0f No uploaded image data provided for PDF generation");console.log("\ud83d\udcc4 Sending PDF request to:",`${i}/generate-analysis-pdf`),console.log("\ud83d\udcc4 Analysis data keys:",Object.keys(e)),console.log("\ud83d\udcf8 Image data included:",!!o);const s=await fetch(`${i}/generate-analysis-pdf`,{method:"POST",body:a});if(!s.ok){const e=await s.text();throw new Error(`PDF generation failed: ${s.status} - ${e}`)}const l=await s.blob(),A=s.headers.get("content-disposition");let c="analysis_report.pdf";if(A){const e=A.match(/filename="(.+)"/);e&&(c=e[1])}const u=window.URL.createObjectURL(l),d=document.createElement("a");return d.href=u,d.download=c,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u),console.log("\u2705 PDF generated and downloaded successfully:",c),{success:!0,filename:c,size:l.size}}catch(i){throw console.error("\u274c PDF generation failed:",i),i}};var lu=n(4130);let Au,cu;Au=n(3505).Logger,cu=n(7340).z;const uu=e=>{var n,r,o,i,a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,N,P;let{userPlan:R,setUserFlow:L,hasActiveSubscription:O=!1,showLockedResults:D=!1}=e;const{currentUser:M,getUserPlanData:Q}=z(),[H,V]=(0,t.useState)(null),[K,G]=(0,t.useState)(null),[$,Y]=(0,t.useState)("image"),[J,X]=(0,t.useState)([]),[Z,ee]=(0,t.useState)(""),[te,ne]=(0,t.useState)(""),[re,oe]=(0,t.useState)(""),[ie,ae]=(0,t.useState)(""),[se,le]=(0,t.useState)(!1),[Ae,ue]=(0,t.useState)(!1),[de,pe]=(0,t.useState)(!1),[he,fe]=(0,t.useState)(!1),[ge,me]=(0,t.useState)(!1),[ye,ve]=(0,t.useState)(null),[be,we]=(0,t.useState)(null),[Se,_e]=(0,t.useState)(""),[Be,Ce]=(0,t.useState)([]),[Ee,Ie]=(0,t.useState)({used:0,max:10,canAnalyze:!0}),[Te,ke]=(0,t.useState)(!1),[Ue,Fe]=(0,t.useState)(null),[Ne,Pe]=(0,t.useState)(null),[Le,Oe]=(0,t.useState)({brandCompliance:!0,messagingIntent:!0,funnelCompatibility:!0,channelCompliance:!0,purchaseIntent:!0,overallScore:!0,mainAnalysis:!0,geminiAnalysis:!0}),[De,Me]=(0,t.useState)({brandCompliance:!1,messagingIntent:!1,funnelCompatibility:!1,channelCompliance:!1,purchaseIntent:!1,overallScore:!1}),Qe=["YouTube","TikTok","Facebook","Instagram","Google Ads"],He=["Awareness","Consideration","Conversion"],ze=()=>{try{Ye()&&(console.log("\u26a0\ufe0f Storage near limit, performing cleanup before saving analysis state"),Je());const e={uploadedFile:H?{name:H.name,size:H.size,type:H.type,lastModified:H.lastModified}:null,filePreview:K,mediaType:$,selectedChannels:J,funnelStage:Z,messageIntent:te,adTitle:re,adDescription:ie,analysisResults:ye,geminiResults:be,timestamp:Date.now()};Xe("incivus_analysis_state",e,{compress:!0,essential:!1}),console.log("\ud83d\udcbe Analysis state saved to localStorage")}catch(e){console.error("\u274c Failed to save analysis state:",e);try{const e={mediaType:$,selectedChannels:J,funnelStage:Z,messageIntent:te,adTitle:re,adDescription:ie,timestamp:Date.now(),_essential:!0};Xe("incivus_analysis_state",e,{compress:!1,essential:!0}),console.log("\ud83d\udcbe Essential analysis state saved as fallback")}catch(t){console.error("\u274c Failed to save even essential analysis state:",t),localStorage.removeItem("incivus_analysis_state")}}},Ve=()=>{localStorage.removeItem("incivus_analysis_state"),console.log("\ud83e\uddf9 Cleared saved analysis state")},Ke=()=>{if(console.log("\ud83d\udd0d hasValidSubscription called with subscriptionData:",Ue),console.log("\ud83d\udd0d subscriptionLoaded:",Te),!Te)return console.log("\u23f3 Subscription data still loading, returning false"),!1;if(Ue){const e=(Ue.planType||R||"").toString().toLowerCase();console.log("\ud83d\udd0d Plan validation - planHint:",e,"userPlan:",R);const t=["lite","pro","plus","enterprise","incivus_lite","incivus_pro","incivus_plus"].includes(e);if(console.log("\ud83d\udd0d hasValidPlan:",t),["pro","plus","enterprise","incivus_pro","incivus_plus"].includes(e))return console.log("\u2705 Pro/Plus/Enterprise plan detected - returning true"),!0;if(["lite","incivus_lite"].includes(e)){const t=(Ue.remainingAds||Ue.adQuota||0)>0,n=!0===Ue.subscribed||"completed"===Ue.paymentStatus||"pending"===Ue.paymentStatus||!0===Ue.isActive||"active"===Ue.status;return console.log("\ud83d\udd0d Lite plan validation:",{planType:e,remainingAds:Ue.remainingAds,adQuota:Ue.adQuota,hasRemainingAds:t,subscribed:Ue.subscribed,paymentStatus:Ue.paymentStatus,isActive:Ue.isActive,status:Ue.status,isValidSubscription:n,finalResult:t&&n}),t&&n}const n=!0===Ue.subscribed&&"completed"===Ue.paymentStatus&&!0===Ue.isActive;if(Ue.subscriptionEndDate){const e=new Date(Ue.subscriptionEndDate),t=new Date;return n&&e>t}return console.log("\ud83d\udd0d Other plan validation result:",n),n}return console.log("\u274c No valid subscription data from database - returning false"),!1},We=e=>{let t="free";if(Ue)t=Ue.planType||Ue.plan||"free";else{const e=JSON.parse(localStorage.getItem("incivus_subscription")||"{}");t=e.planType||e.plan||"free"}if(!Ke())return!1;if("lite"===t||"Incivus_Lite"===t){const t={brandCompliance:"brand_compliance",messagingIntent:"messaging_intent",funnelCompatibility:"funnel_compatibility",channelCompliance:"channel_compliance",purchaseIntent:"resonance_index"}[e];return Be.includes(t)}return!0},Ge=e=>{let t="free";if(Ue)t=Ue.planType||Ue.plan||"free";else{const e=JSON.parse(localStorage.getItem("incivus_subscription")||"{}");t=e.planType||e.plan||"free"}if(!Ke())return!0;if("lite"===t||"Incivus_Lite"===t){const t={brandCompliance:"brand_compliance",messagingIntent:"messaging_intent",funnelCompatibility:"funnel_compatibility",channelCompliance:"channel_compliance",purchaseIntent:"resonance_index"}[e];return Be.includes(t)}return!0},$e=()=>{console.log("\ud83d\udcc2 Expanding all cards and dropdowns for PDF generation..."),Oe({brandCompliance:!1,messagingIntent:!1,funnelCompatibility:!1,channelCompliance:!1,purchaseIntent:!1,overallScore:!1,mainAnalysis:!1,geminiAnalysis:!1}),Me({brandCompliance:!0,messagingIntent:!0,funnelCompatibility:!0,channelCompliance:!0,purchaseIntent:!0,overallScore:!0});const e=()=>{console.log("\ud83d\udd0d Searching for expandable elements...");const e=document.querySelectorAll("button");let t=0;e.forEach((e,n)=>{const r=(e.textContent||"").toLowerCase(),o=e.getAttribute("aria-expanded");if(r.includes("show details")||r.includes("show more")||r.includes("expand")||"false"===o)try{e.click(),t++,console.log(`\u2705 Clicked button ${n}: "${e.textContent}"`)}catch($u){console.log(`\u274c Could not click button ${n}:`,$u)}}),console.log(`\ud83d\udcca Expanded ${t} buttons in first pass`);document.querySelectorAll('[data-scorecard], [data-testid*="expand"], [aria-expanded="false"]').forEach((e,t)=>{"false"===e.getAttribute("aria-expanded")&&(e.setAttribute("aria-expanded","true"),console.log(`\u2705 Set aria-expanded=true for element ${t}`))});document.querySelectorAll('[style*="display: none"], .hidden, .collapsed, [aria-hidden="true"]').forEach((e,t)=>{e.style.display="block",e.style.visibility="visible",e.style.opacity="1",e.setAttribute("aria-hidden","false"),console.log(`\u2705 Made hidden element ${t} visible`)})};setTimeout(e,100),setTimeout(e,500),setTimeout(e,1e3),setTimeout(e,1500),console.log("\ud83d\udcc2 Card expansion initiated with multiple attempts")},qe=e=>e?e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/#{1,6}\s/g,"").replace(/`{1,3}(.*?)`{1,3}/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").trim():"No analysis available",Ze=e=>{var t,n,r,o,i;if(null===be||void 0===be||!be.data)return null;let a=be.data;if(a.data&&"object"===typeof a.data&&(a=a.data),!a||"object"!==typeof a)return null;const s={brand_compliance_score:null===(t=a.brandCompliance)||void 0===t?void 0:t.score,messaging_intent_score:null===(n=a.messagingIntent)||void 0===n?void 0:n.score,funnel_compatibility_score:null===(r=a.funnelCompatibility)||void 0===r?void 0:r.score,channel_compliance_score:null===(o=a.channelCompliance)||void 0===o?void 0:o.score,purchase_intent_score:null===(i=a.purchaseIntent)||void 0===i?void 0:i.score,overall_score:a.overallScore}[e];return"number"===typeof s?Math.round(s):null},et=()=>{var e;if(null!==be&&void 0!==be&&be.data){let e=be.data;if(e.data&&"object"===typeof e.data&&(e=e.data),e.overallScore&&"number"===typeof e.overallScore)return Math.round(e.overallScore)}if(null!==ye&&void 0!==ye&&null!==(e=ye.overallScore)&&void 0!==e&&e.score)return ye.overallScore.score;const t=[];return["brand_compliance_score","messaging_intent_score","funnel_compatibility_score","ad_resonance_score","channel_compliance_score","purchase_intent_score"].forEach(e=>{const n=Ze(e);null!==n&&t.push(n)}),t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):79},tt=e=>{var t,n,r,o,i,a,s,l,A,c,u,d,p,h;if(!e)return 79;const f=[];null!==(t=e.content_analysis)&&void 0!==t&&t.overall_purchase_intent_percentage&&f.push(e.content_analysis.overall_purchase_intent_percentage),null!==(n=e.brand_compliance)&&void 0!==n&&null!==(r=n.compliance_analysis)&&void 0!==r&&r.final_compliance_score&&f.push(e.brand_compliance.compliance_analysis.final_compliance_score),null!==(o=e.metaphor_analysis)&&void 0!==o&&null!==(i=o.message_intent)&&void 0!==i&&i.intent_compliance_score&&f.push(e.metaphor_analysis.message_intent.intent_compliance_score),null!==(a=e.metaphor_analysis)&&void 0!==a&&null!==(s=a.funnel_compatibility)&&void 0!==s&&s.effectiveness_score&&f.push(e.metaphor_analysis.funnel_compatibility.effectiveness_score);const g=nt(e.channel_compliance);return g>0&&f.push(g),console.log("\ud83d\udcca Extracted Scores for Overall Calculation:",{purchaseIntent:null===(l=e.content_analysis)||void 0===l?void 0:l.overall_purchase_intent_percentage,brandCompliance:null===(A=e.brand_compliance)||void 0===A||null===(c=A.compliance_analysis)||void 0===c?void 0:c.final_compliance_score,messagingIntent:null===(u=e.metaphor_analysis)||void 0===u||null===(d=u.message_intent)||void 0===d?void 0:d.intent_compliance_score,funnelCompatibility:null===(p=e.metaphor_analysis)||void 0===p||null===(h=p.funnel_compatibility)||void 0===h?void 0:h.effectiveness_score,channelCompliance:g,allScores:f}),f.length>0?Math.round(f.reduce((e,t)=>e+t,0)/f.length):79},nt=e=>{if(!e)return 0;const t=[];return Object.values(e).forEach(e=>{e&&"object"===typeof e&&e.compliance_score&&t.push(e.compliance_score)}),t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):0},rt=async()=>{if(M)try{console.log("\ud83d\udd04 Analysis - Loading subscription data via getUserSubscription API...");const t=M.uid;console.log("\ud83d\udd0d Analysis - Using userId:",t);const n=await Ms(t);if(console.log("\ud83d\udd0d Analysis - Raw subscription data from getUserSubscription:",n),console.log("\ud83d\udd0d Analysis - Subscription adsUsed field:",null===n||void 0===n?void 0:n.adsUsed),console.log("\ud83d\udd0d Analysis - Subscription adQuota field:",null===n||void 0===n?void 0:n.adQuota),n){var e;const t={lite:4,plus:5,pro:11,enterprise:999},r=null===(e=n.planType)||void 0===e?void 0:e.toLowerCase();let o=n.max_ads_per_month||t[r]||0;if(n.max_ads_per_month)console.log(`\ud83d\udd27 Analysis - Using backend max_ads_per_month: ${n.max_ads_per_month} for plan ${r}`);else if(console.log("\ud83d\udd27 Analysis - Backend max_ads_per_month missing, applying upgrade detection logic"),"pro"===r){const e=n.adQuota||0;if(e>132){const t=e-132;t>=25&&t<=35?(o=16,console.log(`\ud83d\udd27 Analysis - Detected Pro upgrade from Plus: monthly limit 5+11=${o}`)):t>=8&&t<=15&&(o=15,console.log(`\ud83d\udd27 Analysis - Detected Pro upgrade from Lite: monthly limit 4+11=${o}`))}}else if("plus"===r){const e=n.adQuota||0;if(e>30){const t=e-30;t>=8&&t<=15&&(o=9,console.log(`\ud83d\udd27 Analysis - Detected Plus upgrade from Lite: monthly limit 4+5=${o}`))}}n.max_ads_per_month&&n.max_ads_per_month!==o&&console.log(`\ud83d\udd27 Analysis - Corrected max_ads_per_month: ${n.max_ads_per_month} \u2192 ${o} for plan ${r}`),n.maxAdsPerMonth=o,n.monthlyUsed=n.adsUsed||0,n.monthlyRemaining=Math.max(0,o-(n.adsUsed||0)),n.remainingAds=Math.max(0,n.adQuota||0)}console.log("\ud83d\udd0d Analysis - Final subscription (via API):",n),console.log("\ud83d\udd0d Analysis - About to update subscriptionData state with:",n),Fe(n),ke(!0),console.log("\u2705 Analysis - subscriptionData state updated"),n?(Ie({used:n.adsUsed||0,max:n.adQuota||0,remaining:n.remainingAds||0,canAnalyze:(n.remainingAds||0)>0}),Ce(n.selectedFeatures||n.features||[])):(Ie({used:0,max:0,remaining:0,canAnalyze:!1}),Ce([]))}catch(t){console.error("\u274c Error loading subscription data:",t),Fe(null),ke(!0),Ie({used:0,max:0,remaining:0,canAnalyze:!1}),Ce([])}};(0,t.useEffect)(()=>{M&&(console.log("\ud83e\uddf9 Clearing localStorage to force fresh database fetch..."),localStorage.removeItem("incivus_subscription"),localStorage.removeItem("incivus_user_profile"),rt())},[M]);const ot=async()=>{M&&(console.log("\ud83d\udd04 Force refreshing user data from database..."),localStorage.removeItem("incivus_subscription"),await rt(),console.log("\u2705 User data refreshed from database"))};(0,t.useEffect)(()=>{if(!M)return;const e=setInterval(()=>{console.log("\ud83d\udd04 Auto-refreshing user data..."),ot()},3e5);return()=>clearInterval(e)},[M]),(0,t.useEffect)(()=>{const e=e=>{console.log("\ud83d\udd04 Analysis - Received subscription update event:",e.detail),M&&e.detail.userId===M.uid&&(console.log("\ud83d\udd04 Analysis - Refreshing subscription data after payment..."),ot())};return window.addEventListener("subscriptionUpdated",e),()=>window.removeEventListener("subscriptionUpdated",e)},[M]),(0,t.useEffect)(()=>{(async()=>{if(null!==M&&void 0!==M&&M.uid)try{const e=await(0,lu.xw)(M.uid);Pe(e),console.log("\ud83c\udff7\ufe0f Brand data loaded for analysis:",e)}catch(e){console.error("\u274c Error fetching brand data:",e)}})()},[M]),(0,t.useEffect)(()=>{(()=>{try{const e=localStorage.getItem("incivus_analysis_state");if(e){const t=JSON.parse(e),n=Date.now()-864e5;if(t.timestamp&&t.timestamp>n)return t.filePreview&&G(t.filePreview),t.mediaType&&Y(t.mediaType),t.selectedChannels&&X(t.selectedChannels),t.funnelStage&&ee(t.funnelStage),t.messageIntent&&ne(t.messageIntent),t.adTitle&&oe(t.adTitle),t.adDescription&&ae(t.adDescription),t.analysisResults&&ve(t.analysisResults),t.geminiResults&&we(t.geminiResults),console.log("\u2705 Analysis state restored from localStorage"),!0;localStorage.removeItem("incivus_analysis_state"),console.log("\ud83d\uddd1\ufe0f Removed old analysis state")}}catch(e){console.error("\u274c Error restoring analysis state:",e),localStorage.removeItem("incivus_analysis_state")}return!1})()&&console.log("\ud83d\udd04 Analysis state restored on component mount")},[]),(0,t.useEffect)(()=>{(ye||be)&&(ze(),console.log("\ud83d\udcbe Analysis state auto-saved due to results change"))},[ye,be]),(0,t.useEffect)(()=>{if((ye||be)&&!he&&!ge){console.log("\ud83d\udd04 Auto-opening Channel Compliance details..."),console.log("\ud83d\udd0d Current analysis state:",{analysisResults:!!ye,geminiResults:!!be,isAnalyzing:he,loadingGemini:ge}),Me(e=>{console.log("\ud83d\udd0d Previous detailedBreakdowns:",e);const t={...e,channelCompliance:!0};return console.log("\u2705 Channel Compliance detailed breakdown set to:",t.channelCompliance),console.log("\ud83d\udd0d Full updated detailedBreakdowns:",t),t}),Oe(e=>({...e,channelCompliance:!1}));const e=()=>{const e=document.querySelector('[data-scorecard="channelCompliance"]');if(!e)return void console.log("\u274c Channel Compliance card not found");console.log("\u2705 Found Channel Compliance card");const t=e.querySelectorAll("button");console.log("\ud83d\udd0d Found buttons in Channel Compliance:",t.length),t.forEach((e,t)=>{const n=(e.textContent||"").toLowerCase();if(console.log(`Button ${t}: "${n}"`),n.includes("show details")){console.log("\ud83c\udfaf Clicking Show Details button");try{e.click(),console.log("\u2705 Show Details button clicked")}catch($u){console.log("\u274c Error clicking button:",$u)}}}),e.querySelectorAll('[aria-expanded="false"]').forEach(e=>{try{e.setAttribute("aria-expanded","true"),console.log("\u2705 Set aria-expanded to true")}catch{}}),e.querySelectorAll('[style*="display: none"], .hidden, .collapsed').forEach(e=>{e.style.display="block",e.style.visibility="visible",e.style.opacity="1",console.log("\u2705 Made hidden element visible")})};setTimeout(e,500),setTimeout(e,1e3),setTimeout(e,2e3)}},[ye,be,he,ge]),(0,t.useEffect)(()=>{if(M){const e=JSON.parse(localStorage.getItem("incivus_subscription")||"{}"),t=parseInt(localStorage.getItem("incivus_ads_used")||"0"),n=e.adQuota||10;Ie({used:t,max:n,canAnalyze:t<n}),Ke()&&localStorage.getItem("incivus_analysis_state")&&console.log("\ud83d\udd04 User returned with valid subscription, keeping analysis state")}},[M]);const it=()=>(H||K)&&""!==re.trim()&&J.length>0&&Z&&""!==te.trim(),at=async()=>{if(ye||be)if(null!==M&&void 0!==M&&M.uid)try{console.log("\ud83d\udd04 Auto-saving analysis PDF to database..."),console.log("\ud83d\udcc2 Expanding all cards and dropdowns for PDF capture..."),$e(),console.log("\ud83c\udfaf Automatically expanding Channel Compliance and inner dropdowns for PDF..."),Me(e=>({...e,channelCompliance:!0})),Oe(e=>({...e,channelCompliance:!1})),setTimeout(()=>{const e=()=>{console.log("\ud83c\udfaf Executing automatic expansion for PDF generation...");const e=document.querySelectorAll('[data-scorecard="channelCompliance"], [data-card-title*="Channel"]');console.log(`\ud83c\udfaf Found ${e.length} Channel Compliance elements`),e.forEach((e,t)=>{console.log(`\ud83c\udfaf Processing Channel Compliance element ${t} for PDF`);e.querySelectorAll("button").forEach((e,t)=>{const n=(e.textContent||"").toLowerCase();if(n.includes("show details")||n.includes("expand")||n.includes("show"))try{e.click(),console.log(`\u2705 PDF: Clicked Channel Compliance button ${t}: "${e.textContent}"`)}catch($u){console.log(`\u274c PDF: Could not click Channel Compliance button ${t}:`,$u)}}),e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible",e.style.transform="none",e.style.transition="none",e.style.display="block",e.style.visibility="visible",e.style.opacity="1",e.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false");const n=e.querySelector('[style*="background: #f8fafc"]');n&&(n.style.display="block",n.style.visibility="visible",n.style.opacity="1",n.style.height="auto",n.style.maxHeight="none",n.style.overflow="visible",console.log("\u2705 PDF: Forced Channel Compliance details div to be visible"));e.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(e=>{e.style.display="block",e.style.visibility="visible",e.style.opacity="1",e.setAttribute("aria-hidden","false"),console.log("\u2705 PDF: Made hidden element visible")})}),console.log("\ud83c\udfaf PDF: All Channel Compliance expansions completed automatically")};e(),setTimeout(e,500),setTimeout(e,1e3),setTimeout(e,1500),setTimeout(e,2e3),setTimeout(()=>{console.log("\ud83c\udfaf PDF: Additional aggressive expansion for TIKTOK and other platforms...");["TIKTOK","FACEBOOK","INSTAGRAM","YOUTUBE","TWITTER","LINKEDIN"].forEach(e=>{document.querySelectorAll("*").forEach(t=>{if(t.textContent&&t.textContent.toUpperCase().includes(e)){var n;console.log(`\ud83c\udfaf PDF: Found ${e} element:`,null===(n=t.textContent)||void 0===n?void 0:n.substring(0,50));let r=t.parentElement;for(let t=0;t<3&&r;t++){if(r.style&&r.style.background&&(console.log(`\ud83c\udfaf PDF: Checking parent ${t} for ${e}:`,r.style.background),r.style.background.includes("#dcfce7")||r.style.background.includes("#f0fdf4")||r.style.background.includes("#fef3c7"))){console.log(`\ud83c\udfaf PDF: Expanding ${e} parent container`),r.style.height="auto",r.style.maxHeight="none",r.style.overflow="visible",r.style.display="block",r.style.visibility="visible",r.style.opacity="1";r.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(t=>{t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.setAttribute("aria-hidden","false"),console.log(`\u2705 PDF: Made ${e} hidden content visible`)});r.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(t=>{t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.setAttribute("aria-hidden","false"),console.log(`\u2705 PDF: Made ${e} nested content visible`)})}r=r.parentElement}}})});document.querySelectorAll('div[style*="background"]').forEach((e,t)=>{const n=e.style.background||"";if(n.includes("#dcfce7")||n.includes("#f0fdf4")||n.includes("#fef3c7")){var r;console.log(`\ud83c\udfaf PDF: Force expanding platform container ${t}:`,null===(r=e.textContent)||void 0===r?void 0:r.substring(0,50)),e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible",e.style.display="block",e.style.visibility="visible",e.style.opacity="1";e.querySelectorAll("*").forEach(e=>{e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),e.hasAttribute("aria-hidden")&&e.setAttribute("aria-hidden","false")}),console.log(`\u2705 PDF: Force expanded platform container ${t}`)}}),console.log("\ud83c\udfaf PDF: Enhanced platform expansion completed")},2500),setTimeout(()=>{console.log("\ud83c\udfaf PDF: CRITICAL - Immediate TIKTOK expansion for PDF capture...");["TIKTOK","FACEBOOK","INSTAGRAM","YOUTUBE","TWITTER","LINKEDIN"].forEach(e=>{document.querySelectorAll("*").forEach(t=>{if(t.textContent&&t.textContent.toUpperCase().includes(e)){var n;console.log(`\ud83c\udfaf PDF: CRITICAL - Found ${e} element:`,null===(n=t.textContent)||void 0===n?void 0:n.substring(0,50));let r=t.parentElement;for(let t=0;t<3&&r;t++){if(r.style&&r.style.background&&(console.log(`\ud83c\udfaf PDF: CRITICAL - Checking parent ${t} for ${e}:`,r.style.background),r.style.background.includes("#dcfce7")||r.style.background.includes("#f0fdf4")||r.style.background.includes("#fef3c7"))){console.log(`\ud83c\udfaf PDF: CRITICAL - IMMEDIATELY expanding ${e} parent container for PDF`),r.style.height="auto",r.style.maxHeight="none",r.style.overflow="visible",r.style.display="block",r.style.visibility="visible",r.style.opacity="1";r.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(t=>{t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.setAttribute("aria-hidden","false"),console.log(`\u2705 PDF: CRITICAL - Made ${e} hidden content visible IMMEDIATELY`)});r.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(t=>{t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.setAttribute("aria-hidden","false"),console.log(`\u2705 PDF: Made ${e} nested content visible IMMEDIATELY`)})}r=r.parentElement}}})});document.querySelectorAll('div[style*="background"]').forEach((e,t)=>{const n=e.style.background||"";if(n.includes("#dcfce7")||n.includes("#f0fdf4")||n.includes("#fef3c7")){var r;console.log(`\ud83c\udfaf PDF: CRITICAL - IMMEDIATELY force expanding platform container ${t}:`,null===(r=e.textContent)||void 0===r?void 0:r.substring(0,50)),e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible",e.style.display="block",e.style.visibility="visible",e.style.opacity="1";e.querySelectorAll("*").forEach(e=>{e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),e.hasAttribute("aria-hidden")&&e.setAttribute("aria-hidden","false")}),console.log(`\u2705 PDF: CRITICAL - IMMEDIATELY force expanded platform container ${t} for PDF`)}}),console.log("\ud83c\udfaf PDF: CRITICAL - Enhanced platform expansion completed for PDF capture")},100)},100),console.log("\ud83c\udfaf CRITICAL: Force expanding TIKTOK and platforms BEFORE PDF capture...");const i=()=>{["TIKTOK","FACEBOOK","INSTAGRAM","YOUTUBE","TWITTER","LINKEDIN"].forEach(e=>{document.querySelectorAll("*").forEach(t=>{if(t.textContent&&t.textContent.toUpperCase().includes(e)){var n;console.log(`\ud83c\udfaf CRITICAL: Found ${e} element:`,null===(n=t.textContent)||void 0===n?void 0:n.substring(0,50));let r=t.parentElement;for(let t=0;t<5&&r;t++){if(r.style&&r.style.background&&(console.log(`\ud83c\udfaf CRITICAL: Checking parent ${t} for ${e}:`,r.style.background),r.style.background.includes("#dcfce7")||r.style.background.includes("#f0fdf4")||r.style.background.includes("#fef3c7"))){console.log(`\ud83c\udfaf CRITICAL: IMMEDIATELY expanding ${e} parent container for PDF`),r.style.height="auto",r.style.maxHeight="none",r.style.overflow="visible",r.style.display="block",r.style.visibility="visible",r.style.opacity="1";r.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(t=>{t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.setAttribute("aria-hidden","false"),console.log(`\u2705 CRITICAL: Made ${e} hidden content visible`)});r.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(t=>{t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.setAttribute("aria-hidden","false"),console.log(`\u2705 CRITICAL: Made ${e} nested content visible`)});r.querySelectorAll("svg").forEach((t,n)=>{(t.innerHTML.includes("down")||t.innerHTML.includes("chevron-down"))&&(t.innerHTML=t.innerHTML.replace("down","up").replace("chevron-down","chevron-up"),console.log(`\u2705 CRITICAL: Changed ${e} chevron from down to up for PDF capture`))})}r=r.parentElement}}})});document.querySelectorAll('div[style*="background"]').forEach((e,t)=>{const n=e.style.background||"";if(n.includes("#dcfce7")||n.includes("#f0fdf4")||n.includes("#fef3c7")){var r;console.log(`\ud83c\udfaf CRITICAL: IMMEDIATELY force expanding platform container ${t}:`,null===(r=e.textContent)||void 0===r?void 0:r.substring(0,50)),e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible",e.style.display="block",e.style.visibility="visible",e.style.opacity="1";e.querySelectorAll("*").forEach(e=>{e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),e.hasAttribute("aria-hidden")&&e.setAttribute("aria-hidden","false")});e.querySelectorAll("svg").forEach((e,t)=>{(e.innerHTML.includes("down")||e.innerHTML.includes("chevron-down"))&&(e.innerHTML=e.innerHTML.replace("down","up").replace("chevron-down","chevron-up"),console.log("\u2705 CRITICAL: Changed platform container chevron from down to up for PDF capture"))}),console.log(`\u2705 CRITICAL: IMMEDIATELY force expanded platform container ${t} for PDF`)}});const e=document.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]');console.log(`\ud83c\udfaf CRITICAL: Found ${e.length} potentially hidden elements`),e.forEach((e,t)=>{e.style.display="block",e.style.visibility="visible",e.style.opacity="1",e.setAttribute("aria-hidden","false"),console.log(`\u2705 CRITICAL: Force expanded hidden element ${t}`)});document.querySelectorAll("*").forEach((e,t)=>{e.style&&(e.style.height||e.style.maxHeight||e.style.overflow)&&(e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible",console.log(`\u2705 CRITICAL: Force expanded height-constrained element ${t}`))})};i(),setTimeout(i,500),setTimeout(i,1e3),setTimeout(i,1500),setTimeout(i,2e3),await new Promise(e=>setTimeout(e,2e3));document.querySelectorAll("button").forEach(e=>{var t;const n=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase())||"";if(n.includes("show details")||n.includes("show more")||n.includes("expand")||"false"===e.getAttribute("aria-expanded"))try{e.click(),console.log("\u2705 CRITICAL: Clicked button for PDF:",n)}catch($u){console.log("\u274c CRITICAL: Could not click button:",$u)}}),await new Promise(e=>setTimeout(e,1500));const a=document.querySelector("[data-analysis-results]");if(!a)return console.log("\u274c Analysis results container not found for auto-save"),void console.log("Available containers:",document.querySelectorAll("[data-analysis-results], [data-scorecard]").length);console.log("\u2705 Found analysis container for auto-save:",a);const s=await ou()(a,{scale:2,useCORS:!0,allowTaint:!0,scrollX:0,scrollY:0,windowWidth:1200,windowHeight:800}),l=s.toDataURL("image/png"),A=new yA("l","mm","a4"),c=s.width,u=s.height,d=A.internal.pageSize.getWidth(),p=A.internal.pageSize.getHeight(),h=15,f=15,g=d-2*h,m=p-f-2*h,y=c/u;let v,b;y>g/m?(v=.95*g,b=v/y):(b=.95*m,v=b*y);const w=(d-v)/2,S=f+(m-b)/2;if(A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(124,58,237),A.text(re||"Ad Analysis Results",d/2,10,{align:"center"}),b<=m)A.addImage(l,"PNG",w,S,v,b);else{const e=v/c,t=.9*m/e;let n=0,r=1,o=1;for(;n<u;){r>1&&(A.addPage(),o++,A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(124,58,237),A.text(re||"Ad Analysis Results",d/2,10,{align:"center"}));const i=u-n,a=Math.min(t,i),l=a*e,p=document.createElement("canvas");p.width=c,p.height=a;p.getContext("2d").drawImage(s,0,n,c,a,0,0,c,a);const h=p.toDataURL("image/png",1),g=(d-v)/2,y=f+(m-l)/2;A.addImage(h,"PNG",g,y,v,l),n+=a,r++}}console.log("\ud83c\udfaf CRITICAL: Adding second page with brand details..."),A.addPage(),A.setFontSize(16),A.setFont("helvetica","bold"),A.setTextColor(124,58,237),A.text("Brand Details & Analysis Summary",d/2,20,{align:"center"});let _=50;if(null!==Ne&&void 0!==Ne&&Ne.brandName&&(A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Brand Name:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(Ne.brandName,120,_),_+=20),null!==Ne&&void 0!==Ne&&Ne.tagline&&(A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Brand Tagline:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(Ne.tagline,120,_),_+=20),null!==Ne&&void 0!==Ne&&Ne.brandColors&&Ne.brandColors.length>0&&(A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Brand Colors:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(Ne.brandColors.join(", "),120,_),_+=20),null!==Ne&&void 0!==Ne&&Ne.toneOfVoice&&(A.setFontSize(14),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Tone of Voice:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(Ne.toneOfVoice,120,_),_+=20),_+=20,A.setFontSize(16),A.setFont("helvetica","bold"),A.setTextColor(124,58,237),A.text("Ad Analysis Summary",30,_),_+=25,re&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Ad Title:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(re,120,_),_+=20),J&&J.length>0&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Target Channels:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(J.join(", "),120,_),_+=20),Z&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Funnel Stage:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(Z,120,_),_+=20),te&&(A.setFontSize(12),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text("Message Intent:",30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(te,120,_),_+=20),_+=20,A.setFontSize(16),A.setFont("helvetica","bold"),A.setTextColor(124,58,237),A.text("Analysis Scores Summary",30,_),_+=25,ye){var e,t,n,r,o;[{label:"Brand Compliance",score:(null===(e=ye.brandCompliance)||void 0===e?void 0:e.score)||"N/A"},{label:"Messaging Intent",score:(null===(t=ye.messagingIntent)||void 0===t?void 0:t.score)||"N/A"},{label:"Funnel Compatibility",score:(null===(n=ye.funnelCompatibility)||void 0===n?void 0:n.score)||"N/A"},{label:"Channel Compliance",score:(null===(r=ye.channelCompliance)||void 0===r?void 0:r.score)||"N/A"},{label:"Purchase Intent",score:(null===(o=ye.purchaseIntent)||void 0===o?void 0:o.score)||"N/A"}].forEach(e=>{let{label:t,score:n}=e;A.setFontSize(12),A.setFont("helvetica","bold"),A.setTextColor(0,0,0),A.text(`${t}:`,30,_),A.setFont("helvetica","normal"),A.setTextColor(100,100,100),A.text(`${n}/100`,120,_),_+=20})}_+=20,A.setFontSize(10),A.setFont("helvetica","italic"),A.setTextColor(150,150,150);const B=(new Date).toLocaleString();A.text(`Report generated on: ${B}`,30,_),console.log("\u2705 CRITICAL: Second page with brand details added successfully");const C=A.output("blob"),E=`analysis-${(new Date).toISOString().replace(/[:.]/g,"-")}.pdf`,x=`auto_analysis_${Date.now()}`;console.log("\ud83d\udce4 Uploading PDF to backend...");const I=await ce({userId:M.uid,blob:C,fileName:E,analysisId:x});console.log("\u2705 PDF upload result:",I),console.log("\ud83d\udcbe Saving analysis record...");const T=await(async e=>{let{userId:t,fileName:n,analysisInputs:r,analysisResults:o,analysisId:i}=e;const a=await fetch(`${q}/save-analysis-record`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({userId:t,fileName:n,analysisInputs:r,analysisResults:o,analysisId:i})});if(!a.ok){let e=`HTTP ${a.status}`;try{const t=await a.json();null!==t&&void 0!==t&&t.detail&&(e+=`: ${t.detail}`)}catch{}throw new Error(e)}return await a.json()})({userId:M.uid,fileName:re||"Ad Analysis",analysisId:x,analysisInputs:{adTitle:re,adDescription:ie,selectedChannels:J,funnelStage:Z,messageIntent:te,uploadedFileName:null===H||void 0===H?void 0:H.name},analysisResults:ye||be});console.log("\u2705 Analysis record result:",T),console.log("\ud83c\udf89 Analysis PDF auto-saved to database successfully!"),console.log("\ud83d\udd04 Restoring original card states..."),setTimeout(()=>{Oe({brandCompliance:!0,messagingIntent:!0,funnelCompatibility:!0,channelCompliance:!0,purchaseIntent:!0,overallScore:!0,mainAnalysis:!0,geminiAnalysis:!0}),Me({brandCompliance:!1,messagingIntent:!1,funnelCompatibility:!1,channelCompliance:!1,purchaseIntent:!1,overallScore:!1}),console.log("\u2705 Card states restored")},1e3)}catch(i){console.error("\u274c Error auto-saving analysis PDF:",i),setTimeout(()=>{Oe({brandCompliance:!0,messagingIntent:!0,funnelCompatibility:!0,channelCompliance:!0,purchaseIntent:!0,overallScore:!0,mainAnalysis:!0,geminiAnalysis:!0}),Me({brandCompliance:!1,messagingIntent:!1,funnelCompatibility:!1,channelCompliance:!1,purchaseIntent:!1,overallScore:!1}),console.log("\u2705 Card states restored after error")},1e3)}else console.log("\u274c No current user for auto-save");else console.log("\u274c No analysis results to auto-save")},st=async()=>{if(!ye&&!be)return console.log("\u274c No analysis results to download"),void alert("No analysis results available to download as PDF");const e={...Le},t={...De};try{console.log("\ud83d\udcf8 Starting individual scorecard PDF generation...");const e=document.createElement("div");e.id="pdf-loading-message",e.style.cssText="\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background: rgba(0, 0, 0, 0.8);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        z-index: 10000;\n        text-align: center;\n        font-family: Arial, sans-serif;\n      ",e.innerHTML="\ud83d\udcc4 Generating PDF...<br><small>Expanding cards and capturing content</small>",document.body.appendChild(e),$e(),await new Promise(e=>setTimeout(e,1500));document.querySelectorAll("button").forEach(e=>{var t;const n=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase())||"";if(n.includes("show details")||n.includes("show more")||n.includes("expand")||"false"===e.getAttribute("aria-expanded"))try{e.click()}catch($u){console.log("Could not click button:",$u)}}),await new Promise(e=>setTimeout(e,500));const t=document.querySelectorAll("[data-scorecard]");if(0===t.length)throw new Error("No scorecards found");console.log(`\ud83d\udcca Found ${t.length} scorecards to capture`),t.forEach((e,t)=>{const n=e.getAttribute("data-card-title")||`Card ${t+1}`;console.log(`\ud83d\udccb Preparing ${n} for capture...`),e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible",e.style.transform="none",e.style.transition="none"}),console.log("\ud83c\udfaf Automatically expanding Channel Compliance and inner dropdowns for PDF..."),Me(e=>({...e,channelCompliance:!0})),Oe(e=>({...e,channelCompliance:!1})),setTimeout(()=>{const e=()=>{console.log("\ud83c\udfaf Executing automatic expansion for PDF generation...");const e=document.querySelectorAll('[data-scorecard="channelCompliance"], [data-card-title*="Channel"]');console.log(`\ud83c\udfaf Found ${e.length} Channel Compliance elements`),e.forEach((e,t)=>{console.log(`\ud83c\udfaf Processing Channel Compliance element ${t} for PDF`);e.querySelectorAll("button").forEach((e,t)=>{const n=(e.textContent||"").toLowerCase();if(n.includes("show details")||n.includes("expand")||n.includes("show"))try{e.click(),console.log(`\u2705 PDF: Clicked Channel Compliance button ${t}: "${e.textContent}"`)}catch($u){console.log(`\u274c PDF: Could not click Channel Compliance button ${t}:`,$u)}}),e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible",e.style.transform="none",e.style.transition="none",e.style.display="block",e.style.visibility="visible",e.style.opacity="1",e.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false");const n=e.querySelector('[style*="background: #f8fafc"]');n&&(n.style.display="block",n.style.visibility="visible",n.style.opacity="1",n.style.height="auto",n.style.maxHeight="none",n.style.overflow="visible",console.log("\u2705 PDF: Forced Channel Compliance details div to be visible"));e.querySelectorAll('[style*="display: none"], .hidden, [aria-hidden="true"]').forEach(e=>{e.style.display="block",e.style.visibility="visible",e.style.opacity="1",e.setAttribute("aria-hidden","false"),console.log("\u2705 PDF: Made hidden element visible")})}),console.log("\ud83c\udfaf PDF: All Channel Compliance expansions completed automatically")};e(),setTimeout(e,500),setTimeout(e,1e3),setTimeout(e,1500),setTimeout(e,2e3)},100),await new Promise((e,t)=>{if(window.html2pdf)return e();const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",n.onload=e,n.onerror=()=>t(new Error("Failed to load html2pdf.js")),document.body.appendChild(n)});const r=794,i=document.createElement("div");i.style.width=`${r}px`,i.style.boxSizing="border-box",i.style.margin="0 auto";const a=document.createElement("div");a.style.padding="32px",a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="center",a.style.justifyContent="center",a.style.height="100%",a.style.minHeight="1000px",a.style.textAlign="center";const s=document.createElement("h1");s.textContent="Incivus Analysis Report",s.style.margin="0 0 8px 0",s.style.fontSize="28px",s.style.color="#1f2937",a.appendChild(s);const l=document.createElement("h2");if(l.textContent=re||"Advertisement",l.style.margin="0 0 16px 0",l.style.fontSize="20px",l.style.color="#6b7280",a.appendChild(l),K){const e=document.createElement("img");e.src=K,e.style.maxWidth="85%",e.style.height="auto",e.style.display="block",e.style.margin="16px auto",e.style.borderRadius="8px",e.style.boxShadow="0 6px 24px rgba(0,0,0,0.15)",a.appendChild(e)}const A=document.createElement("div");A.style.marginTop="16px",A.style.fontSize="12px",A.style.color="#9ca3af",A.textContent=`Generated on ${(new Date).toLocaleString()}`,a.appendChild(A);const c=document.createElement("div");c.style.pageBreakAfter="always",c.appendChild(a),i.appendChild(c);const u=()=>{const e=document.createElement("div");e.style.pageBreakAfter="always",e.style.height="1px",i.appendChild(e)},d=e=>{[e,...Array.from(e.querySelectorAll("*"))].forEach(e=>{e.style.overflow="visible",e.style.maxHeight="none",e.style.height=""===e.style.height?"":"auto",e.style.transform="none"})};for(const[n,o]of Array.from(t).entries()){if("channelCompliance"===o.getAttribute("data-scorecard")){const e=document.querySelector('[data-scorecard="channelCompliance"]')||o,t=e.querySelector("select");let n=[];if(t&&t.options&&t.options.length>0)n=Array.from(t.options).map(e=>e.textContent||e.value);else{const t=e.querySelector('button, [role="button"]');if(t){try{t.click(),await new Promise(e=>setTimeout(e,200))}catch{}n=Array.from(e.querySelectorAll('li, [role="option"]')).map(e=>(e.textContent||"").trim()).filter(Boolean);try{document.body.click()}catch{}}}const r=Array.from(new Set(n));if(r.length>0){for(const n of r){if(t){const e=Array.from(t.options).findIndex(e=>(e.textContent||e.value)===n);e>=0&&(t.selectedIndex=e,t.dispatchEvent(new Event("change",{bubbles:!0})))}else{const t=e.querySelector('button, [role="button"]');if(t){try{t.click(),await new Promise(e=>setTimeout(e,150))}catch{}const r=Array.from(e.querySelectorAll('li, [role="option"]')).find(e=>(e.textContent||"").trim()===n);if(r)try{r.click()}catch{}}}await new Promise(e=>setTimeout(e,350));const r=document.querySelector('[data-scorecard="channelCompliance"]')||e;r.querySelectorAll('[aria-expanded="false"]').forEach(e=>{try{e.click()}catch{}}),await new Promise(e=>setTimeout(e,150));const o=r.cloneNode(!0);d(o);const a=document.createElement("div");a.style.fontWeight="700",a.style.margin="8px 0 12px",a.textContent=`Channel Compliance \u2014 ${n}`;const s=document.createElement("div");s.style.breakInside="avoid",s.style.pageBreakInside="avoid",s.style.margin="0",s.style.padding="16px",s.style.border="1px solid #eee",s.appendChild(a),s.appendChild(o),i.appendChild(s),u()}continue}}const e=o.cloneNode(!0);d(e);const t=document.createElement("div");t.style.breakInside="avoid",t.style.pageBreakInside="avoid",t.style.margin="0 auto",t.style.padding="16px",t.style.border="1px solid #eee",t.appendChild(e),i.appendChild(t),u()}const p=`${(re||"AD_Analysis").replace(/[^a-zA-Z0-9]/g,"_").substring(0,30)}_Scorecards_${(new Date).toISOString().slice(0,10)}.pdf`,h={margin:[10,10,10,10],filename:p,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,backgroundColor:"#ffffff",scrollY:-window.scrollY},jsPDF:{unit:"mm",format:"a4",orientation:"landscape"},pagebreak:{mode:["css","legacy"]}};await window.html2pdf().set(h).from(i).save();try{const e=window.html2pdf().set(h).from(i).toPdf(),t=await e.output("blob"),n=`analysis_${Date.now()}`;await ce({userId:M.uid,blob:t,fileName:p,analysisId:n})}catch($u){console.warn("\u26a0\ufe0f Failed to upload PDF to backend:",$u)}const f=new yA("l","mm","a4");let g=0;for(let m=0;m<t.length;m++){const e=t[m],r=e.getAttribute("data-scorecard"),i=e.getAttribute("data-card-title")||`Scorecard ${m+1}`;console.log(`\ud83d\udcf8 Capturing ${i}...`);const a=e=>{e.querySelectorAll('[style*="overflow"], .overflow-auto, .overflow-y-auto, .overflow-hidden').forEach(e=>{e.style.overflow="visible",e.style.maxHeight="none",e.style.height="auto"})};let s=[null];const l=e.querySelector("select");"channelCompliance"===r&&l&&l.options&&l.options.length>0&&(s=Array.from(l.options).map((e,t)=>({index:t,label:e.textContent||e.value})));for(let t=0;t<s.length;t++){var n;s[t]&&l&&(l.selectedIndex=s[t].index,l.dispatchEvent(new Event("change",{bubbles:!0})),await new Promise(e=>setTimeout(e,400))),f.addPage(),g+=1,f.setFontSize(10),f.setFont("helvetica","bold"),f.setTextColor(124,58,237);const A=null!==(n=s[t])&&void 0!==n&&n.label?`${i} \u2014 ${s[t].label}`:i;f.text(A,105,6,{align:"center"});try{e.scrollIntoView({behavior:"instant",block:"center"}),await new Promise(e=>setTimeout(e,300)),a(e);e.getBoundingClientRect();const n=e.offsetWidth,o=e.offsetHeight,l=e.scrollWidth,A=e.scrollHeight,c=Math.max(n,l),u=Math.max(o,A),d=await ou()(e,{scale:1.5,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:c,height:u,scrollX:0,scrollY:0,x:0,y:0,windowWidth:Math.max(c+200,1400),windowHeight:Math.max(u+100,1e3),removeContainer:!1,foreignObjectRendering:!1,logging:!1,onclone:e=>{let n=e.querySelector(`[data-scorecard="${r}"]`);if(!n&&i&&(n=e.querySelector(`[data-card-title="${i}"]`)),!n){const t=e.querySelectorAll('[data-scorecard], .scorecard, [class*="scorecard"]');for(const e of t){if(e.getAttribute("data-scorecard")===r){n=e;break}}}if(n){console.log(`\u2705 Found cloned card for ${r}`),n.style.height="auto",n.style.overflow="visible",n.style.maxHeight="none",n.style.transform="none",n.style.margin="0",n.style.padding="1.5rem",n.style.width="100%",n.style.boxSizing="border-box",a(n),n.querySelectorAll('[aria-expanded="false"]').forEach(e=>e.setAttribute("aria-expanded","true")),n.querySelectorAll('[style*="display: none"], .hidden, .collapsed').forEach(e=>{e.style.display="block",e.style.visibility="visible",e.style.opacity="1"});const e=n.querySelector("select");e&&s[t]&&"number"===typeof s[t].index&&(e.selectedIndex=s[t].index)}else console.warn(`\u26a0\ufe0f Could not find cloned card for ${r}. Available cards:`,Array.from(e.querySelectorAll("[data-scorecard]")).map(e=>e.getAttribute("data-scorecard")))}}),p=d.width,h=d.height,m=f.internal.pageSize.getWidth(),y=f.internal.pageSize.getHeight(),v=15,b=15,w=m-2*v,S=y-b-2*v;console.log(`\ud83d\udccf PDF Dimensions: ${m}mm x ${y}mm`),console.log(`\ud83d\udccf Image Dimensions: ${p}px x ${h}px`),console.log(`\ud83d\udccf Available Space: ${w}mm x ${S}mm`);const _=p/h,B=w/S;let C,E,x=!1;const I=w/p,T=S/h,k=w/h,U=S/p,F=Math.min(I,T),N=Math.min(k,U);N>1.2*F?(x=!0,console.log("\ud83d\udcd0 Rotating image 90\xb0 for better fit:",{normalScale:F,rotatedScale:N}),C=Math.min(.95*w,h*N*.95),E=Math.min(.95*S,p*N*.95)):_>B?(C=.95*w,E=C/_):(E=.95*S,C=E*_);const P=(m-C)/2,R=b+(S-E)/2;if(console.log(`\ud83d\udccd Image Placement: ${C.toFixed(1)}mm x ${E.toFixed(1)}mm at (${P.toFixed(1)}, ${R.toFixed(1)})`),E<=S){const e=d.toDataURL("image/png",1);x?(f.addImage(e,"PNG",P,R,C,E,"","NONE",90),console.log("\ud83d\udcd0 Applied 90\xb0 rotation to image in PDF")):f.addImage(e,"PNG",P,R,C,E),f.setFontSize(8),f.setTextColor(150,150,150),f.text(`Page ${g}`,m-20,y-10)}else{const e=C/p,t=.9*S/e;let n=0,r=1;for(;n<h;){r>1&&(f.addPage(),g++);const o=h-n,i=Math.min(t,o),a=i*e,s=document.createElement("canvas");s.width=p,s.height=i;s.getContext("2d").drawImage(d,0,n,p,i,0,0,p,i);const l=s.toDataURL("image/png",1),A=(m-C)/2,c=b+(S-a)/2;f.addImage(l,"PNG",A,c,C,a),f.setFontSize(8),f.setTextColor(150,150,150),f.text(`Page ${g} (${r}/${Math.ceil(h/t)})`,m-30,y-10),n+=i,r++}}}catch(o){console.error(`\u274c Error capturing ${i}:`,o),f.setFontSize(12),f.setTextColor(255,0,0),f.text("Error capturing this scorecard",105,150,{align:"center"}),f.setFontSize(10),f.setTextColor(100,100,100),f.text(`Error: ${o.message||"Unknown error"}`,105,170,{align:"center"}),f.text("Please try refreshing the page and generating again",105,190,{align:"center"})}}}}catch(i){console.error("\u274c PDF generation failed:",i)}finally{const n=document.getElementById("pdf-loading-message");n&&document.body.removeChild(n),r=t,Oe(e),Me(r)}var r},lt=(e,t,n,r,o)=>(0,j.jsxs)("div",{"data-scorecard":r,"data-card-title":e,style:{background:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb",marginBottom:"1rem",position:"relative",pageBreakInside:"avoid",breakInside:"avoid"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n&&n,(0,j.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",margin:0,color:"#1f2937"},children:e})]}),(0,j.jsx)("div",{style:{backgroundColor:(e=>null===e||void 0===e?"#f3f4f6":e>=85?"#d1fae5":e>=70?"#fef3c7":"#fee2e2")(t),color:(e=>null===e||void 0===e?"#6b7280":e>=85?"#10b981":e>=70?"#f59e0b":"#ef4444")(t),padding:"0.5rem 1rem",borderRadius:"20px",fontWeight:"700",fontSize:"0.9rem"},children:null!==t?`${t}/100`:"N/A"})]}),(0,j.jsxs)("button",{onClick:()=>{return e=r,console.log("\ud83d\udd27 Toggle detailed breakdown for:",e),console.log("\ud83d\udd27 Current state:",De[e]),void Me(t=>{const n={...t,[e]:!t[e]};return console.log("\ud83d\udd27 New state for",e,":",n[e]),n});var e},style:{background:"none",border:"1px solid #d1d5db",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.875rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280"},children:[De[r]?"Hide Details":"Show Details",De[r]?(0,j.jsx)(Cs,{size:16}):(0,j.jsx)(Es,{size:16})]}),De[r]&&(0,j.jsx)("div",{style:{marginTop:"0.75rem",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:((e,t,n,i,a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,F,N,P,R,L,O,D,M,Q,H,z,V,K,W,G,$,q,Y,J,X,Z,ee)=>{let ne="",re=null;if(null!==ye&&void 0!==ye&&null!==(e=ye[r])&&void 0!==e&&e.detailedAnalysis)ne=ye[r].detailedAnalysis;else{const e=(e=>{if(null===be||void 0===be||!be.data)return"Detailed analysis will be available after running analysis.";let t=be.data;if(t&&"object"===typeof t&&t.data&&(t=t.data),!t||"object"!==typeof t)return"Detailed analysis will be available after running analysis.";if(t.rawResponse&&"string"===typeof t.rawResponse&&t.rawResponse.length>50)return qe(t.rawResponse);if(t.resonatingImpact&&"string"===typeof t.resonatingImpact&&t.resonatingImpact.length>50)return qe(t.resonatingImpact);const n={"Brand Compliance":()=>{const e=t.brandCompliance,n=t.visualElements;let r=[];var o;return e&&(r.push("BRAND ANALYSIS:"),r.push(`\u2022 Brand Presence: ${e.brandPresence||"Not specified"}`),e.colorPsychology&&e.colorPsychology.trim()&&r.push(`\u2022 Color Psychology: ${e.colorPsychology}`),e.typography&&e.typography.trim()&&r.push(`\u2022 Typography: ${e.typography}`),null!==(o=e.logo)&&void 0!==o&&o.present&&r.push("\u2022 Logo: Present and visible")),n&&(r.push("\nVISUAL ELEMENTS:"),n.brand_presence&&r.push(`\u2022 Brand Presence: ${n.brand_presence}`),n.color_psychology&&r.push(`\u2022 Color Impact: ${n.color_psychology}`),n.visual_hierarchy&&r.push(`\u2022 Visual Hierarchy: ${n.visual_hierarchy}`),n.typography&&r.push(`\u2022 Typography Quality: ${n.typography}`)),r.length>0?r.join("\n"):null},"Messaging Intent":()=>{const e=t.messagingIntent,n=t.analysisBreakdown;let r=[];return e&&(r.push("MESSAGING ANALYSIS:"),r.push(`\u2022 Message Type: ${e.type||"Not specified"}`),r.push(`\u2022 Clarity Level: ${e.clarity||"Not assessed"}`),r.push(`\u2022 CTA Strength: ${e.ctaStrength||"Not evaluated"}`),r.push(`\u2022 Emotional Tone: ${e.emotionalTone||"Neutral"}`),e.persuasiveTriggers&&r.push(`\u2022 Persuasive Elements: ${e.persuasiveTriggers}`)),n&&(r.push("\nDETAILED BREAKDOWN:"),n.message_clarity&&r.push(`\u2022 Message Clarity: ${n.message_clarity}`),n.emotional_appeal&&r.push(`\u2022 Emotional Appeal: ${n.emotional_appeal}`),n.cta_strength&&r.push(`\u2022 Call-to-Action: ${n.cta_strength}`),n.persuasive_triggers&&r.push(`\u2022 Persuasive Triggers: ${n.persuasive_triggers}`)),r.length>0?r.join("\n"):null},"Funnel Compatibility":()=>{const e=t.funnelCompatibility,n=t.analysisBreakdown;let r=[];return e&&(r.push("FUNNEL ANALYSIS:"),r.push(`\u2022 Funnel Stage: ${e.stage||"Not specified"}`),r.push(`\u2022 Conversion Potential: ${e.conversionPotential||"Not assessed"}`),e.urgencyElements&&e.urgencyElements.trim()&&r.push(`\u2022 Urgency Elements: ${e.urgencyElements}`),e.scarcityTriggers&&e.scarcityTriggers.trim()&&r.push(`\u2022 Scarcity Triggers: ${e.scarcityTriggers}`)),n&&(r.push("\nCOMPATIBILITY INSIGHTS:"),n.relevance&&r.push(`\u2022 Audience Relevance: ${n.relevance}`),n.message_clarity&&r.push(`\u2022 Message Alignment: ${n.message_clarity}`)),r.length>0?r.join("\n"):null},"Ad Resonance":()=>{const e=t.adResonance,n=t.audienceInsights,r=t.resonatingImpact;let o=[];return r&&(o.push("RESONATING IMPACT:"),o.push(`${r}`),o.push("")),e&&(o.push("RESONANCE METRICS:"),o.push(`\u2022 Emotional Impact: ${e.emotionalImpact||"Not assessed"}`),o.push(`\u2022 Engagement Level: ${e.engagementLevel||"Not measured"}`),o.push(`\u2022 Memorability: ${e.memorability||"Not evaluated"}`),o.push(`\u2022 Shareability: ${e.shareability||"Not determined"}`)),n&&(o.push("\nAUDIENCE INSIGHTS:"),n.target_demographics&&o.push(`\u2022 Target Demographics: ${n.target_demographics}`),n.engagement_potential&&o.push(`\u2022 Engagement Potential: ${n.engagement_potential}`),n.shareability&&o.push(`\u2022 Shareability Factor: ${n.shareability}`),n.memorability&&o.push(`\u2022 Memorability Score: ${n.memorability}`)),o.length>0?o.join("\n"):null},"Channel Compliance":()=>{const e=t.channelCompliance,n=t.visualElements;let r=[];return e&&(r.push("CHANNEL COMPLIANCE:"),r.push(`\u2022 Platform Optimization: ${e.platformOptimization||"Not specified"}`),r.push(`\u2022 Format Compliance: ${e.formatCompliance||"Not assessed"}`),r.push(`\u2022 Content Guidelines: ${e.contentGuidelines||"Not evaluated"}`),e.performanceScore&&r.push(`\u2022 Performance Score: ${e.performanceScore}`)),n&&(r.push("\nFORMAT ANALYSIS:"),n.visual_hierarchy&&r.push(`\u2022 Visual Hierarchy: ${n.visual_hierarchy}`),n.format_compliance&&r.push(`\u2022 Format Standards: ${n.format_compliance}`),n.content_guidelines&&r.push(`\u2022 Content Guidelines: ${n.content_guidelines}`)),r.length>0?r.join("\n"):null},"Purchase Intent":()=>{const e=t.purchaseIntent,n=t.analysisBreakdown;let r=[];return e&&(r.push("PURCHASE INTENT ANALYSIS:"),r.push(`\u2022 Action Potential: ${e.actionPotential||"Not assessed"}`),r.push(`\u2022 Motivation Level: ${e.motivationLevel||"Not measured"}`),r.push(`\u2022 Decision Triggers: ${e.decisionTriggers||"Not identified"}`),r.push(`\u2022 Conversion Likelihood: ${e.conversionLikelihood||"Not calculated"}`)),n&&(r.push("\nACTION DRIVERS:"),n.cta_strength&&r.push(`\u2022 Call-to-Action Strength: ${n.cta_strength}`),n.emotional_appeal&&r.push(`\u2022 Emotional Appeal: ${n.emotional_appeal}`),n.persuasive_triggers&&r.push(`\u2022 Persuasive Elements: ${n.persuasive_triggers}`)),r.length>0?r.join("\n"):null}}[e];if(n){const e=n();if(e){let n=e;return t.recommendations&&t.recommendations.length>0&&(n+="\n\nRECOMMENDATIONS:",t.recommendations.forEach((e,t)=>{n+=`\n${t+1}. ${e}`})),t.analysisConfidence&&(n+=`\n\nAnalysis Confidence: ${t.analysisConfidence}`),n}}return t.rawResponse?`RAW ANALYSIS:\n${t.rawResponse}`:"Detailed analysis will be available after running analysis."})(o);console.log("\ud83d\udd0d GeminiDetail for",o,":",(null===e||void 0===e?void 0:e.substring(0,100))+"..."),e&&!e.includes("Detailed analysis will be available")?(ne=e,console.log("\u2705 Using geminiDetail for",o)):console.log("\u274c GeminiDetail not suitable for",o)}if(null!==be&&void 0!==be&&be.data){let e=be.data;e.data&&"object"===typeof e.data&&(e=e.data),re=e}return!ne&&null!==(t=re)&&void 0!==t&&t.rawResponse&&(ne=qe(re.rawResponse)),!ne&&null!==(n=re)&&void 0!==n&&n.resonatingImpact&&(ne=qe(re.resonatingImpact)),ne||re?(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"0.75rem 1rem",fontWeight:"600",fontSize:"0.9rem"},children:"\ud83d\udcca Detailed Breakdown"}),(0,j.jsxs)("div",{style:{padding:"1rem",maxHeight:"400px",overflowY:"auto"},children:[re&&"brandCompliance"===r&&(0,j.jsx)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#dcfce7",borderRadius:"8px",border:"1px solid #10b981"},children:(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#064e3b",lineHeight:"1.6"},children:null!==(i=re.rawResults)&&void 0!==i&&null!==(a=i.brand_compliance)&&void 0!==a&&a.compliance_analysis?(0,j.jsxs)(j.Fragment,{children:[null===(s=re.rawResults.brand_compliance.compliance_analysis.questions)||void 0===s?void 0:s.map((e,t)=>{var n,r,o;return(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.25rem 0",borderBottom:"1px solid #e5e7eb"},children:[(0,j.jsx)("span",{style:{fontSize:"0.8rem"},children:e}),(0,j.jsx)("span",{style:{fontWeight:"bold",color:"Yes"===(null===(n=re.rawResults.brand_compliance.compliance_analysis.llm_answers)||void 0===n?void 0:n[t])?"#10b981":"#ef4444",padding:"0.125rem 0.25rem",borderRadius:"3px",background:"Yes"===(null===(r=re.rawResults.brand_compliance.compliance_analysis.llm_answers)||void 0===r?void 0:r[t])?"#dcfce7":"#fee2e2",fontSize:"0.75rem"},children:(null===(o=re.rawResults.brand_compliance.compliance_analysis.llm_answers)||void 0===o?void 0:o[t])||"No"})]},t)}),(0,j.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,j.jsx)("strong",{children:"Compliance Level:"})," ",re.rawResults.brand_compliance.compliance_level||"Low"]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:["\u2022 Brand Presence: ",(null===(l=re.brandCompliance)||void 0===l?void 0:l.brandPresence)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Color Psychology: ",(null===(A=re.brandCompliance)||void 0===A?void 0:A.colorPsychology)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Typography: ",(null===(c=re.brandCompliance)||void 0===c?void 0:c.typography)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Logo Present: ",null!==(u=re.brandCompliance)&&void 0!==u&&null!==(d=u.logo)&&void 0!==d&&d.present?"Yes":"No"]})]})})}),re&&"messagingIntent"===r&&(0,j.jsx)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#dcfce7",borderRadius:"8px",border:"1px solid #10b981"},children:(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#064e3b",lineHeight:"1.6"},children:null!==(p=re.rawResults)&&void 0!==p&&null!==(h=p.metaphor_analysis)&&void 0!==h&&h.message_intent?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Message Submitted:"})," ",te||(null===(f=re.messagingIntent)||void 0===f?void 0:f.messagingSubmitted)||(null===(g=re.rawResults)||void 0===g||null===(m=g.metaphor_analysis)||void 0===m||null===(y=m.message_intent)||void 0===y?void 0:y.user_message)||"No message provided"]}),(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Incivus Inferred Messaging:"})," ",re.rawResults.metaphor_analysis.message_intent.core_message_summary||"No clear message identified"]}),(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Emotional Tone:"})," ",re.rawResults.metaphor_analysis.message_intent.emotional_tone||"Neutral"]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:["\u2022 Clarity: ",(null===(v=re.messagingIntent)||void 0===v?void 0:v.clarity)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 CTA Strength: ",(null===(b=re.messagingIntent)||void 0===b?void 0:b.ctaStrength)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Emotional Tone: ",(null===(w=re.messagingIntent)||void 0===w?void 0:w.emotionalTone)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Message Type: ",(null===(S=re.messagingIntent)||void 0===S?void 0:S.type)||"Unknown"]})]})})}),re&&"channelCompliance"===r&&(0,j.jsx)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#dcfce7",borderRadius:"8px",border:"1px solid #10b981"},children:(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#064e3b",lineHeight:"1.6"},children:null!==(_=re.rawResults)&&void 0!==_&&_.channel_compliance?(0,j.jsx)(j.Fragment,{children:Object.entries(re.rawResults.channel_compliance).map(e=>{let[t,n]=e;return n&&"object"===typeof n&&void 0!==n.compliance_score&&(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:"#0e7490",padding:"0.5rem",background:"white",borderRadius:"4px",border:"1px solid #e5e7eb"},children:(0,j.jsxs)("span",{children:["\ud83d\udcf1 ",t.toUpperCase(),": ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:n.compliance_score})]})}),n.guideline_results&&(0,j.jsxs)("div",{style:{display:"block",fontSize:"0.8rem",marginLeft:"0.5rem",padding:"0.5rem",background:"#f8fafc",borderRadius:"4px"},children:[(0,j.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,j.jsx)("strong",{children:"Guidelines:"})," ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:n.total_guidelines||0})," checked, ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:n.total_matched_scores||0})," passed"]}),n.guideline_results.map((e,t)=>(0,j.jsxs)("div",{style:{marginTop:"0.25rem",padding:"0.25rem",background:e.matched_score>0?"#dcfce7":"#fee2e2",borderRadius:"3px",fontSize:"0.75rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Rule:"})," ",e.guideline]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Result:"})," ",e.actual_output]})]},t))]})]},t)})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:["\u2022 Platform Optimization: ",(null===(B=re.channelCompliance)||void 0===B?void 0:B.platformOptimization)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Format Compliance: ",(null===(C=re.channelCompliance)||void 0===C?void 0:C.formatCompliance)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Content Guidelines: ",(null===(E=re.channelCompliance)||void 0===E?void 0:E.contentGuidelines)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Performance Score: ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:(null===(x=re.channelCompliance)||void 0===x?void 0:x.performanceScore)||0})]})]})})}),re&&"purchaseIntent"===r&&(0,j.jsx)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#dcfce7",borderRadius:"8px",border:"1px solid #10b981"},children:(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#064e3b",lineHeight:"1.6"},children:null!==(I=re.rawResults)&&void 0!==I&&null!==(T=I.content_analysis)&&void 0!==T&&T.purchase_intent_scores?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Message Clarity:"})," ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:(null===(k=re.rawResults.content_analysis.purchase_intent_scores.message_clarity)||void 0===k?void 0:k.percentage)||0})]}),(0,j.jsx)("div",{style:{marginLeft:"1rem",marginTop:"0.25rem",fontSize:"0.8rem"},children:(null===(U=re.rawResults.content_analysis.purchase_intent_scores.message_clarity)||void 0===U||null===(F=U.description)||void 0===F?void 0:F.replace(/^Message clarity - /i,""))||"No description"})]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Emotional Appeal:"})," ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:(null===(N=re.rawResults.content_analysis.purchase_intent_scores.emotional_appeal)||void 0===N?void 0:N.percentage)||0})]}),(0,j.jsx)("div",{style:{marginLeft:"1rem",marginTop:"0.25rem",fontSize:"0.8rem"},children:(null===(P=re.rawResults.content_analysis.purchase_intent_scores.emotional_appeal)||void 0===P||null===(R=P.description)||void 0===R?void 0:R.replace(/^Emotional appeal - /i,""))||"No description"})]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Relevance:"})," ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:(null===(L=re.rawResults.content_analysis.purchase_intent_scores.relevance)||void 0===L?void 0:L.percentage)||0})]}),(0,j.jsx)("div",{style:{marginLeft:"1rem",marginTop:"0.25rem",fontSize:"0.8rem"},children:(null===(O=re.rawResults.content_analysis.purchase_intent_scores.relevance)||void 0===O||null===(D=O.description)||void 0===D?void 0:D.replace(/^Relevance - /i,""))||"No description"})]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"CTA Strength:"})," ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:(null===(M=re.rawResults.content_analysis.purchase_intent_scores.cta_strength)||void 0===M?void 0:M.percentage)||0})]}),(0,j.jsx)("div",{style:{marginLeft:"1rem",marginTop:"0.25rem",fontSize:"0.8rem"},children:(null===(Q=re.rawResults.content_analysis.purchase_intent_scores.cta_strength)||void 0===Q||null===(H=Q.description)||void 0===H?void 0:H.replace(/^(Visual or verbal )?CTA strength - /i,""))||"No description"})]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Psychological Triggers:"})," ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:(null===(z=re.rawResults.content_analysis.purchase_intent_scores.psychological_triggers)||void 0===z?void 0:z.percentage)||0})]}),(0,j.jsx)("div",{style:{marginLeft:"1rem",marginTop:"0.25rem",fontSize:"0.8rem"},children:(null===(V=re.rawResults.content_analysis.purchase_intent_scores.psychological_triggers)||void 0===V||null===(K=V.description)||void 0===K?void 0:K.replace(/^Use of psychological or persuasive triggers - /i,""))||"No description"})]}),(0,j.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"0.75rem",borderTop:"1px solid #10b981"},children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Resonating Impact:"})]}),(0,j.jsx)("div",{style:{marginLeft:"1rem",marginTop:"0.25rem",fontSize:"0.8rem"},children:re.rawResults.content_analysis.resonating_impact||"No resonance analysis available"})]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:["\u2022 Action Potential: ",qe((null===(W=re.purchaseIntent)||void 0===W?void 0:W.actionPotential)||"No call to action present")]}),(0,j.jsxs)("div",{children:["\u2022 Motivation Level: ",qe((null===(G=re.purchaseIntent)||void 0===G?void 0:G.motivationLevel)||"Limited emotional appeal")]}),(0,j.jsxs)("div",{children:["\u2022 Conversion Likelihood: ",(0,j.jsx)("span",{style:{color:"#000000",fontWeight:"bold"},children:(null===($=re.purchaseIntent)||void 0===$?void 0:$.conversionLikelihood)||0})]})]})})}),re&&"funnelCompatibility"===r&&(0,j.jsx)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#dcfce7",borderRadius:"8px",border:"1px solid #10b981"},children:(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#064e3b",lineHeight:"1.6"},children:null!==(q=re.rawResults)&&void 0!==q&&null!==(Y=q.metaphor_analysis)&&void 0!==Y&&Y.funnel_compatibility?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Incivus Classification:"})," ",re.rawResults.metaphor_analysis.funnel_compatibility.classification||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"User Selected Type:"})," ",re.rawResults.metaphor_analysis.funnel_compatibility.user_selected_type||"Not specified"]}),(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Match Status:"})," ",re.rawResults.metaphor_analysis.funnel_compatibility.match_with_user_selection||re.rawResults.metaphor_analysis.funnel_compatibility.match||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Reason for Incivus Classification:"})," ",re.rawResults.metaphor_analysis.funnel_compatibility.reasoning||"No reasoning provided"]}),(0,j.jsxs)("div",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Improvement Suggestions:"})," ",re.rawResults.metaphor_analysis.funnel_compatibility.improvement_suggestion||"No suggestions available"]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:["\u2022 Target Stage: ",(null===(J=re.funnelCompatibility)||void 0===J?void 0:J.stage)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Conversion Potential: ",(null===(X=re.funnelCompatibility)||void 0===X?void 0:X.conversionPotential)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Urgency Elements: ",(null===(Z=re.funnelCompatibility)||void 0===Z?void 0:Z.urgencyElements)||"Unknown"]}),(0,j.jsxs)("div",{children:["\u2022 Scarcity Triggers: ",(null===(ee=re.funnelCompatibility)||void 0===ee?void 0:ee.scarcityTriggers)||"Unknown"]})]})})}),(()=>{if((e=>"brandCompliance"===e)(r)){var e;const t=null===(e=re)||void 0===e?void 0:e.recommendations;if(t&&Array.isArray(t)&&t.length>0){const e=t.map(e=>{let t=qe(e);return t=t.replace(/^\d+\.\s*\d+\.\s*/,""),t=t.replace(/^\d+\.\s*/,""),t});return(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #d1d5db"},children:[(0,j.jsx)("div",{style:{fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"\ud83d\udca1 Recommendations:"}),(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:e.map((e,t)=>(0,j.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[t+1,". ",e]},t))})]})}}return null})()]})]}):(0,j.jsx)("div",{style:{padding:"1rem",fontStyle:"italic",opacity:.8,color:"#64748b"},children:"Detailed analysis will be available after running a comprehensive analysis."})})()}),!We(r)&&(0,j.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(103, 126, 234, 1.0)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"12px",textAlign:"center"},children:[(0,j.jsx)(xs,{size:24,style:{color:"white",marginBottom:"0.5rem"}}),(0,j.jsx)("p",{style:{margin:0,fontWeight:"600",color:"white"},children:Ke()?"Premium Feature":"Subscribe to Unlock"}),(0,j.jsx)("button",{onClick:()=>{r&&localStorage.setItem("incivus_upgrade_feature",r),L("plan-selection")},style:{background:"white",color:"#7c3aed",border:"2px solid white",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"600",cursor:"pointer",marginTop:"0.5rem"},children:Ke()?"Upgrade Plan":"Subscribe Now"})]})]},r);return(0,j.jsxs)("div",{style:{minHeight:"100vh",background:"transparent",padding:"1rem"},children:[(0,j.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:ye||be?"350px 1fr":"1fr",gap:"2rem",alignItems:"start"},children:[(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"1.5rem",boxShadow:"0 8px 32px rgba(124, 58, 237, 0.08), 0 1px 3px rgba(124, 58, 237, 0.1)",border:"1px solid rgba(124, 58, 237, 0.06)",height:"fit-content"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,j.jsxs)("h3",{style:{fontSize:"1.3rem",fontWeight:"700",color:"#5b21b6",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(Is,{size:20}),"Upload Ad"]}),(0,j.jsx)("div",{style:{display:"flex",gap:"0.5rem"}})]}),Te&&(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #0ea5e9",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,j.jsx)("span",{style:{fontWeight:"600",color:"#0c4a6e"},children:"\ud83d\udcca Plan Status"}),(0,j.jsx)("button",{onClick:async()=>{console.log("\ud83d\udd04 Manual refresh triggered from blue card"),localStorage.removeItem("incivus_subscription"),localStorage.removeItem("incivus_user_profile"),console.log("\ud83d\udd04 First refresh attempt..."),await rt(),setTimeout(async()=>{console.log("\ud83d\udd04 Second refresh attempt..."),await rt(),console.log("\u2705 Manual refresh completed with double refresh")},500)},style:{background:"#0ea5e9",color:"white",border:"none",borderRadius:"6px",padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem",transition:"background 0.2s"},onMouseOver:e=>e.target.style.background="#0284c7",onMouseOut:e=>e.target.style.background="#0ea5e9",title:"Refresh plan status",children:"\ud83d\udd04"})]}),(0,j.jsxs)("div",{style:{fontSize:"0.875rem",color:"#0c4a6e",lineHeight:"1.4"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Plan:"})," ",(null===Ue||void 0===Ue?void 0:Ue.planName)||"No Active Plan"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Features:"})," ",(()=>{const e=(null===Ue||void 0===Ue?void 0:Ue.selectedFeatures)||(null===Ue||void 0===Ue?void 0:Ue.features)||[];return e.length>0?e.join(", "):"None"})()]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Ads Used:"})," ",(()=>{console.log("\ud83d\udd0d Blue Card - subscriptionData:",Ue),console.log("\ud83d\udd0d Blue Card - adsUsed value:",null===Ue||void 0===Ue?void 0:Ue.adsUsed),console.log("\ud83d\udd0d Blue Card - monthlyRemaining value:",null===Ue||void 0===Ue?void 0:Ue.monthlyRemaining),console.log("\ud83d\udd0d Blue Card - remainingAds value:",null===Ue||void 0===Ue?void 0:Ue.remainingAds),console.log("\ud83d\udd0d Blue Card - maxAdsPerMonth value:",null===Ue||void 0===Ue?void 0:Ue.maxAdsPerMonth),console.log("\ud83d\udd0d Blue Card - subscriptionLoaded state:",Te);const e=(null===Ue||void 0===Ue?void 0:Ue.adsUsed)||0;return console.log("\ud83d\udd0d Blue Card - Final adsUsed display value:",e),Ue?`${e}`:"0"})()]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Monthly Remaining:"})," ",Ue?`${Math.max(0,Ue.monthlyRemaining||0)} ads`:"0 ads"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Total Remaining:"})," ",Ue?`${Math.max(0,Ue.remainingAds||0)} ads`:"0 ads"]}),(null===Ue||void 0===Ue?void 0:Ue.subscriptionEndDate)&&(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Expires:"})," ",new Date(Ue.subscriptionEndDate).toLocaleDateString()," (",Math.ceil((new Date(Ue.subscriptionEndDate)-new Date)/864e5)," days)"]})]})]}),(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Media Type"}),(0,j.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,j.jsx)("input",{type:"radio",value:"image",checked:"image"===$,onChange:e=>Y(e.target.value)}),"Image"]}),(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,j.jsx)("input",{type:"radio",value:"video",checked:"video"===$,onChange:e=>Y(e.target.value)}),"Video"]})]})]}),(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("input",{type:"file",accept:"image"===$?"image/*":"video/*",onChange:e=>{const t=e.target.files[0];if(t){ve(null),we(null),V(t);const e=new FileReader;e.onload=e=>{G(e.target.result)},e.readAsDataURL(t),Ve(),console.log("\ud83e\uddf9 Cleared previous analysis state for new file")}},style:{display:"none"},id:"file-upload"}),(0,j.jsx)("label",{htmlFor:"file-upload",style:{display:"block",width:"100%",minHeight:"200px",border:"2px dashed #d1d5db",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",background:H?"#f9fafb":"white",position:"relative",overflow:"hidden"},children:K?(0,j.jsxs)("div",{style:{width:"100%",height:"200px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:["image"===$?(0,j.jsx)("img",{src:K,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px"}}):(0,j.jsx)("video",{src:K,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px"},controls:!0}),(0,j.jsx)("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"rgba(0,0,0,0.7)",color:"white",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem"},children:null===H||void 0===H?void 0:H.name})]}):(0,j.jsxs)("div",{style:{height:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"1rem"},children:[(0,j.jsx)("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"image"===$?"\ud83d\udcf7":"\ud83c\udfa5"}),(0,j.jsxs)("p",{style:{color:"#6b7280",marginBottom:"0.5rem",fontSize:"1.1rem"},children:["Click to upload ","image"===$?"image":"video"]}),(0,j.jsx)("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"Supports JPG, PNG, GIF, MP4, MOV files"})]})})]}),(console.log("\ud83d\udd0d Debug form fields rendering:",{uploadedFile:!!H,uploadedFileName:null===H||void 0===H?void 0:H.name,filePreview:!!K,adTitle:re,selectedChannels:J,funnelStage:Z,messageIntent:te}),(H||K)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,j.jsx)("label",{style:{fontWeight:"500"},children:"Ad Title *"}),(0,j.jsxs)("span",{style:{fontSize:"0.75rem",color:re.length>60?"#ef4444":"#6b7280",fontWeight:"500"},children:[re.length,"/60"]})]}),(0,j.jsx)("input",{type:"text",value:re,onChange:e=>{e.target.value.length<=60&&oe(e.target.value)},placeholder:"Enter a descriptive title for your Ad",style:{width:"100%",padding:"0.75rem",border:"1px solid "+(re.length>60?"#ef4444":"#d1d5db"),borderRadius:"8px",fontSize:"1rem"}})]}),(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"500"},children:["Channel Compliance *",(0,j.jsx)(Ts,{size:16,style:{color:"#6b7280",cursor:"pointer"},onClick:()=>le(!se)})]}),J&&J.length>0&&(0,j.jsxs)("span",{style:{background:"#7c3aed",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:[J.length," selected"]})]}),se&&(0,j.jsx)("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"6px",padding:"0.75rem",marginBottom:"0.5rem",fontSize:"0.875rem",color:"#1e40af"},children:"Select the channels where you plan to run this Ad. Each platform has specific guidelines and best practices."}),(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem"},children:Qe.map(e=>(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:J.includes(e)?"#ede9fe":"white",borderColor:J.includes(e)?"#7c3aed":"#d1d5db"},children:[(0,j.jsx)("input",{type:"checkbox",checked:J.includes(e),onChange:()=>(e=>{X(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),style:{margin:0}}),(0,j.jsx)("span",{style:{fontSize:"0.875rem"},children:e})]},e))})]}),(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"500"},children:["Funnel Stage *",(0,j.jsx)(Ts,{size:16,style:{color:"#6b7280",cursor:"pointer"},onClick:()=>ue(!Ae)})]}),Z&&Z.length>0&&(0,j.jsx)("span",{style:{background:"#10b981",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:Z})]}),Ae&&(0,j.jsxs)("div",{style:{background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"6px",padding:"0.75rem",marginBottom:"0.5rem",fontSize:"0.875rem",color:"#166534"},children:[(0,j.jsx)("strong",{children:"Awareness:"})," Introduce your brand to new audiences",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Consideration:"})," Nurture interest and build trust",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Conversion:"})," Drive immediate action and sales"]}),(0,j.jsx)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:He.map(e=>(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:Z===e?"#dcfce7":"white",borderColor:Z===e?"#10b981":"#d1d5db",flex:1,minWidth:"120px"},children:[(0,j.jsx)("input",{type:"radio",name:"funnelStage",value:e,checked:Z===e,onChange:e=>ee(e.target.value),style:{margin:0}}),(0,j.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:e})]},e))})]}),(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"500"},children:["Message Intent *",(0,j.jsx)(Ts,{size:16,style:{color:"#6b7280",cursor:"pointer"},onClick:()=>pe(!de)})]}),te&&""!==te.trim()&&(0,j.jsx)("span",{style:{background:"#f59e0b",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:"\u2713"})]}),de&&(0,j.jsx)("div",{style:{background:"#fefbef",border:"1px solid #fed7aa",borderRadius:"6px",padding:"0.75rem",marginBottom:"0.5rem",fontSize:"0.875rem",color:"#92400e"},children:"Describe the main message or goal of your Ad. What action do you want viewers to take?"}),(0,j.jsxs)("div",{style:{position:"relative"},children:[(0,j.jsx)("textarea",{value:te,onChange:e=>{e.target.value.length<=200&&ne(e.target.value)},placeholder:"e.g., Promote summer sale, drive app downloads, increase brand awareness...",style:{width:"100%",minHeight:"80px",padding:"0.75rem",border:"1px solid "+(te.length>200?"#ef4444":"#d1d5db"),borderRadius:"8px",fontSize:"1rem",resize:"vertical"}}),(0,j.jsxs)("div",{style:{position:"absolute",bottom:"0.5rem",right:"0.75rem",fontSize:"0.75rem",color:te.length>200?"#ef4444":"#6b7280",fontWeight:"500",background:"white",padding:"0.25rem"},children:[te.length,"/200"]})]})]}),!it()&&(0,j.jsxs)("div",{style:{background:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",fontSize:"0.875rem"},children:[(0,j.jsx)("div",{style:{fontWeight:"600",color:"#92400e",marginBottom:"0.5rem"},children:"\u26a0\ufe0f Please complete all required fields:"}),(0,j.jsxs)("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#92400e"},children:[!re.trim()&&(0,j.jsx)("li",{children:"Ad Title"}),0===J.length&&(0,j.jsx)("li",{children:"Channel Selection"}),!Z&&(0,j.jsx)("li",{children:"Funnel Stage"}),!te.trim()&&(0,j.jsx)("li",{children:"Message Intent"})]})]}),!H&&K&&(0,j.jsxs)("div",{style:{background:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",fontSize:"0.875rem"},children:[(0,j.jsx)("div",{style:{fontWeight:"600",color:"#0c4a6e",marginBottom:"0.5rem"},children:"\u2139\ufe0f File Preview Available"}),(0,j.jsx)("p",{style:{margin:0,color:"#0c4a6e"},children:"Your previous file is loaded from memory. To analyze a new file, please upload it again."}),(0,j.jsx)("button",{onClick:()=>{G(null),ve(null),we(null),Ve()},style:{marginTop:"0.5rem",padding:"0.5rem 1rem",background:"#0ea5e9",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:"Clear & Upload New File"})]})]})),(0,j.jsx)("button",{onClick:async()=>{if(!it())return console.log("\u274c Form validation failed"),void Au.warn("Analysis form validation failed",{component:"Analysis",user:null===M||void 0===M?void 0:M.email});if(!M)return console.log("\u274c No current user"),Au.error(new Error("No authenticated user for analysis"),{component:"Analysis",action:"handleAnalyze"}),void L("login");const e=await(async e=>{try{const t=await Ms(e);if(!t)return{canUpload:!1,reason:"Subscribe to unlock ad analysis and get detailed insights for your campaigns.",showUpgrade:!0,isFirstTimeUser:!0,subscriptionStatus:"none"};if(!Qs(t))return{canUpload:!1,reason:"Your subscription has expired. Renew to continue analyzing ads.",showUpgrade:!0,isFirstTimeUser:!1,subscriptionStatus:"expired"};const n=t.adsUsed||0,r=t.adQuota||0,o=t.max_ads_per_month||4,i=t.lastAdUpload,a=t.lastUsageDate,s=js(i||a),l=s?0:n,A=Math.max(0,o-l),c=Math.max(0,r-n);return console.log(`\ud83d\udcca Quota Check - Monthly: ${l}/${o}, Total: ${c}, Reset needed: ${s}`),c<=0?{canUpload:!1,reason:`You've used all ${r+n} ads in your plan. Upgrade to get more ads and continue analyzing.`,showUpgrade:!0,isFirstTimeUser:!1,subscriptionStatus:"quota_exhausted",adsUsed:n,adQuota:r,monthlyUsed:l,maxAdsPerMonth:o,resetNeeded:s}:!s&&l>=o?{canUpload:!1,reason:`You've reached your monthly limit of ${o} ads. Your quota resets next month, or upgrade for more ads.`,showUpgrade:!0,isFirstTimeUser:!1,subscriptionStatus:"monthly_limit_reached",adsUsed:n,adQuota:r,monthlyUsed:l,maxAdsPerMonth:o,resetNeeded:s}:{canUpload:!0,adsUsed:n,adQuota:r,monthlyUsed:l,maxAdsPerMonth:o,remaining:c,monthlyRemaining:A,resetNeeded:s}}catch(t){return console.error("\u274c Error checking ad upload permission:",t),{canUpload:!1,reason:"Error checking subscription",showUpgrade:!1}}})(M.uid);if(!e.canUpload)return console.log("\u274c Upload blocked:",e.reason),void(e.showUpgrade?(console.log("\ud83d\udd04 Redirecting to plan selection instead of showing popup"),L("plan-selection")):(localStorage.setItem("incivus_go_to_upgrade","true"),L("dashboard")));console.log("\u2705 Upload check passed:",e),fe(!0),_e("");try{const e=H;if(!e)return console.error("\u274c No file available for analysis"),void _e("\u274c No file available for analysis. Please upload a new file.");const i=await(async(e,t,n,r,o,i)=>{try{var a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,F,N,P,L,O,D,Q,j,z,V,K,W,G,$,q,Y,J,X,Z,ee,te,ne,re,oe,ie,ae,se,le,Ae,ce,ue,de,pe,he,fe,ge,ye,ve,be,we,Se,_e,Ce,Ee,xe,Ie,Te,ke,Ue,Fe,Pe,Re,Le,Oe,De,Me,Qe,je,He,ze,Ve,Ke,We,Ge,$e;console.log("\ud83d\ude80 Sending to Comprehensive Analysis API (main.py)..."),me(!0);const qe=new FormData;qe.append("file",e),qe.append("ad_description",n||""),qe.append("user_ad_type",o||"Awareness");const Ye=Array.isArray(r)?r.join(", "):"";if(Ye&&qe.append("platforms",Ye),Ne){if(console.log("\ud83d\udccb Using fresh brand data from database:",Ne),Ne.brandColors&&Ne.brandColors.length>0&&qe.append("brand_colors",Ne.brandColors.join(", ")),Ne.toneOfVoice){const e=Array.isArray(Ne.toneOfVoice)?Ne.toneOfVoice:[Ne.toneOfVoice];qe.append("tone_of_voice",e.join(", "))}Ne.brandName&&qe.append("brand_name",Ne.brandName),console.log("\ud83d\udccb Adding fresh brand data to API call")}else{const e=localStorage.getItem("incivus_brand_config");if(e)try{const t=JSON.parse(e);t.brandColors&&t.brandColors.length>0&&qe.append("brand_colors",t.brandColors.join(", ")),t.toneOfVoice&&qe.append("tone_of_voice",t.toneOfVoice),console.log("\ud83d\udccb Adding brand config from localStorage to API call")}catch($u){console.warn("\u26a0\ufe0f Error parsing brand config:",$u)}}null!==M&&void 0!==M&&M.uid&&(qe.append("user_id",M.uid),console.log("\ud83c\udd94 Adding user ID for brand data lookup:",M.uid)),console.log("\ud83d\udce4 Calling backend analysis endpoint...");const Je={userId:M.uid,brandId:(null===Ne||void 0===Ne?void 0:Ne.brandId)||"default",timestamp:(new Date).toISOString(),messageIntent:i||"",funnelStage:o||"",channels:r||[],adTitle:t||"",source:"frontend",clientId:M.uid,artifacts:{userPlan:R,userFeatures:Be}},Xe=await ws(Je,H),Ze={ok:!0,json:()=>{var e,t;return Promise.resolve((null===(e=Xe.ai_analysis_results)||void 0===e||null===(t=e["comprehensive-analysis"])||void 0===t?void 0:t.data)||Xe)}};if(!Ze.ok)throw new Error(`HTTP error! status: ${Ze.status}`);const et=await Ze.json();console.log("\u2705 Comprehensive Analysis API Response:",et),console.log("\ud83d\udd0d API Response Structure Check:",{hasResults:!!et.results,hasMetaphorAnalysis:!(null===(a=et.results)||void 0===a||!a.metaphor_analysis),hasBrandCompliance:!(null===(s=et.results)||void 0===s||!s.brand_compliance),hasContentAnalysis:!(null===(l=et.results)||void 0===l||!l.content_analysis),hasChannelCompliance:!(null===(A=et.results)||void 0===A||!A.channel_compliance),resultKeys:Object.keys(et.results||{}),fullResponse:et}),console.log("\ud83d\udd0d Detailed Data Structure:",{contentAnalysis:null===(c=et.results)||void 0===c?void 0:c.content_analysis,brandCompliance:null===(u=et.results)||void 0===u?void 0:u.brand_compliance,metaphorAnalysis:null===(d=et.results)||void 0===d?void 0:d.metaphor_analysis,channelCompliance:null===(p=et.results)||void 0===p?void 0:p.channel_compliance});const rt={purchaseIntent:{score:(null===(h=et.results)||void 0===h||null===(f=h.content_analysis)||void 0===f?void 0:f.overall_purchase_intent_percentage)||0,actionPotential:(null===(g=et.results)||void 0===g||null===(m=g.content_analysis)||void 0===m||null===(y=m.purchase_intent_scores)||void 0===y||null===(v=y.cta_strength)||void 0===v?void 0:v.description)||"No call to action present",motivationLevel:(null===(b=et.results)||void 0===b||null===(w=b.content_analysis)||void 0===w||null===(S=w.purchase_intent_scores)||void 0===S||null===(_=S.emotional_appeal)||void 0===_?void 0:_.description)||"Limited emotional appeal",decisionTriggers:(null===(B=et.results)||void 0===B||null===(C=B.content_analysis)||void 0===C||null===(E=C.purchase_intent_scores)||void 0===E||null===(x=E.psychological_triggers)||void 0===x?void 0:x.description)||"No persuasive triggers",conversionLikelihood:(null===(I=et.results)||void 0===I||null===(T=I.content_analysis)||void 0===T||null===(k=T.purchase_intent_scores)||void 0===k||null===(U=k.relevance)||void 0===U?void 0:U.percentage)||0},brandCompliance:{score:(null===(F=et.results)||void 0===F||null===(N=F.brand_compliance)||void 0===N||null===(P=N.compliance_analysis)||void 0===P?void 0:P.final_compliance_score)||0,logo:{present:"Yes"===(null===(L=et.results)||void 0===L||null===(O=L.brand_compliance)||void 0===O||null===(D=O.compliance_analysis)||void 0===D||null===(Q=D.llm_answers)||void 0===Q?void 0:Q[0]),contrast:"Yes"===(null===(j=et.results)||void 0===j||null===(z=j.brand_compliance)||void 0===z||null===(V=z.compliance_analysis)||void 0===V||null===(K=V.llm_answers)||void 0===K?void 0:K[1]),size:"Yes"===(null===(W=et.results)||void 0===W||null===(G=W.brand_compliance)||void 0===G||null===($=G.compliance_analysis)||void 0===$||null===(q=$.llm_answers)||void 0===q?void 0:q[2])},brandPresence:(null===(Y=et.results)||void 0===Y||null===(J=Y.brand_compliance)||void 0===J?void 0:J.compliance_level)||"Low",colorPsychology:"Yes"===(null===(X=et.results)||void 0===X||null===(Z=X.brand_compliance)||void 0===Z||null===(ee=Z.compliance_analysis)||void 0===ee||null===(te=ee.llm_answers)||void 0===te?void 0:te[3])?"Compliant":"Non-compliant",typography:"Yes"===(null===(ne=et.results)||void 0===ne||null===(re=ne.brand_compliance)||void 0===re||null===(oe=re.compliance_analysis)||void 0===oe||null===(ie=oe.llm_answers)||void 0===ie?void 0:ie[4])?"Clear":"Unclear"},channelCompliance:{score:nt(null===(ae=et.results)||void 0===ae?void 0:ae.channel_compliance),platformOptimization:"Good",formatCompliance:"Compliant",contentGuidelines:"Followed",performanceScore:nt(null===(se=et.results)||void 0===se?void 0:se.channel_compliance),platforms:(null===(le=et.results)||void 0===le?void 0:le.channel_compliance)||{}},messagingIntent:{score:(null===(Ae=et.results)||void 0===Ae||null===(ce=Ae.metaphor_analysis)||void 0===ce||null===(ue=ce.message_intent)||void 0===ue?void 0:ue.intent_compliance_score)||0,type:(null===(de=et.results)||void 0===de||null===(pe=de.metaphor_analysis)||void 0===pe||null===(he=pe.message_intent)||void 0===he?void 0:he.core_message_summary)||"No clear message",clarity:(null===(fe=et.results)||void 0===fe||null===(ge=fe.metaphor_analysis)||void 0===ge||null===(ye=ge.message_intent)||void 0===ye?void 0:ye.core_message_summary)||"Message unclear",ctaStrength:(null===(ve=et.results)||void 0===ve||null===(be=ve.content_analysis)||void 0===be||null===(we=be.purchase_intent_scores)||void 0===we||null===(Se=we.cta_strength)||void 0===Se?void 0:Se.description)||"No CTA present",emotionalTone:(null===(_e=et.results)||void 0===_e||null===(Ce=_e.metaphor_analysis)||void 0===Ce||null===(Ee=Ce.message_intent)||void 0===Ee?void 0:Ee.emotional_tone)||"Neutral",messagingSubmitted:i||n||""},funnelCompatibility:{score:(null===(xe=et.results)||void 0===xe||null===(Ie=xe.metaphor_analysis)||void 0===Ie||null===(Te=Ie.funnel_compatibility)||void 0===Te?void 0:Te.effectiveness_score)||0,stage:(null===(ke=et.results)||void 0===ke||null===(Ue=ke.metaphor_analysis)||void 0===Ue||null===(Fe=Ue.funnel_compatibility)||void 0===Fe?void 0:Fe.classification)||"Unknown",conversionPotential:(null===(Pe=et.results)||void 0===Pe||null===(Re=Pe.metaphor_analysis)||void 0===Re||null===(Le=Re.funnel_compatibility)||void 0===Le?void 0:Le.reasoning)||"Limited potential",urgencyElements:(null===(Oe=et.results)||void 0===Oe||null===(De=Oe.content_analysis)||void 0===De||null===(Me=De.purchase_intent_scores)||void 0===Me||null===(Qe=Me.psychological_triggers)||void 0===Qe?void 0:Qe.description)||"No urgency triggers",scarcityTriggers:(null===(je=et.results)||void 0===je||null===(He=je.content_analysis)||void 0===He||null===(ze=He.purchase_intent_scores)||void 0===ze||null===(Ve=ze.psychological_triggers)||void 0===Ve?void 0:Ve.description)||"No scarcity triggers"},overallScore:tt(et.results),rawResults:et.results};return console.log("\ud83d\udd27 Transformed Data for Frontend:",rt),console.log("\ud83d\udd27 Raw Results Available:",!!rt.rawResults),console.log("\ud83d\udd27 Raw Results Content:",{hasContentAnalysis:!(null===(Ke=rt.rawResults)||void 0===Ke||!Ke.content_analysis),hasBrandCompliance:!(null===(We=rt.rawResults)||void 0===We||!We.brand_compliance),hasMetaphorAnalysis:!(null===(Ge=rt.rawResults)||void 0===Ge||!Ge.metaphor_analysis),hasChannelCompliance:!(null===($e=rt.rawResults)||void 0===$e||!$e.channel_compliance)}),{success:!0,data:rt}}catch(qe){return console.error("\u274c Gemini API Error:",qe),{success:!1,error:qe.message}}finally{me(!1)}})(e,re,te,J,Z,te);if(i.success){var t,n,r,o;console.log("\ud83d\udd0d Setting Gemini results:",i),console.log("\ud83d\udd0d Direct API Data Access Check:",{directAccess:!(null===i||void 0===i||null===(t=i.data)||void 0===t||!t.purchaseIntent),nestedAccess:!(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.data)||void 0===r||!r.purchaseIntent),availableFields:Object.keys((null===i||void 0===i?void 0:i.data)||{}),nestedFields:Object.keys((null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.data)||{})}),we(i),setTimeout(()=>ze(),50);const e=await async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t)return{brandCompliance:{score:null,detailedAnalysis:"Analysis not available"},messagingIntent:{score:null,detailedAnalysis:"Analysis not available"},funnelCompatibility:{score:null,detailedAnalysis:"Analysis not available"},channelCompliance:{score:null,detailedAnalysis:"Analysis not available"},purchaseIntent:{score:null,detailedAnalysis:"Analysis not available"},overallScore:{score:null},analysisSummary:{resonatingImpact:"Analysis not available"}};const n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||(null===t||void 0===t?void 0:t.data)||t,r=e=>{const t=null===n||void 0===n?void 0:n[e];return"number"===typeof t?Math.round(t):null},o=e=>{const t=Object.keys(n||{}).filter(t=>t.toLowerCase().includes(e.toLowerCase())&&"string"===typeof n[t]&&n[t].length>20);return t.length>0?n[t[0]]:"Detailed analysis will be available after running analysis."};return{brandCompliance:{score:r("brand_compliance_score"),detailedAnalysis:o("brand")},messagingIntent:{score:r("messaging_intent_score"),detailedAnalysis:o("messaging")},funnelCompatibility:{score:r("funnel_compatibility_score"),detailedAnalysis:o("funnel")},channelCompliance:{score:r("channel_compliance_score"),detailedAnalysis:o("channel")},purchaseIntent:{score:r("purchase_intent_score"),detailedAnalysis:o("purchase")},overallScore:{score:r("overall_score")},analysisSummary:{resonatingImpact:(null===n||void 0===n?void 0:n.resonating_impact)||"This Ad effectively communicates the brand message with strong visual appeal and clear call-to-action."}}}(i);console.log("\ud83d\udd0d Setting analysis results:",e),ve(e),console.log("\ud83d\udd04 Starting IMMEDIATE subscription data refresh after analysis..."),localStorage.removeItem("incivus_subscription"),localStorage.removeItem("incivus_user_profile"),console.log("\ud83d\uddd1\ufe0f Cleared localStorage cache after successful analysis"),await rt(),console.log("\ud83d\udd04 IMMEDIATE refresh completed"),ke(!1),setTimeout(()=>ke(!0),100),setTimeout(async()=>{console.log("\ud83d\udd04 Starting delayed subscription data refresh sequence..."),await rt(),console.log("\ud83d\udd04 Second refresh completed"),setTimeout(async()=>{await rt(),console.log("\ud83d\udd04 Final refresh completed - subscription data should now be current")},2e3)},2e3),setTimeout(()=>ze(),100),setTimeout(()=>at(),2e3),console.log("\u2705 Analysis already submitted and stored via main analysis flow"),_e("")}else console.error("\u274c Gemini API failed:",i.error),_e("Analysis failed. Please try again.")}catch(i){console.error("\u274c Analysis error:",i),_e("An error occurred during analysis.")}finally{fe(!1)}},disabled:!it()||he||ge||ye||be,style:{width:"100%",background:!it()||he||ge||ye||be?"#9ca3af":"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:!it()||he||ge||ye||be?"not-allowed":"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:he||ge?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid #ffffff40",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),ge?"Analyzing Content...":"Processing..."]}):ye||be?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(W,{size:20}),"Analysis Complete"]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ks,{size:20}),"Analyze Ad"]})}),Se&&(0,j.jsx)("div",{style:{marginTop:"1rem",padding:"0.75rem",borderRadius:"8px",textAlign:"center",fontWeight:"500",background:Se.includes("successfully")?"#d1fae5":"#fee2e2",color:Se.includes("successfully")?"#065f46":"#991b1b",border:Se.includes("successfully")?"1px solid #a7f3d0":"1px solid #fecaca"},children:Se})]}),(ye||be||he||ge)&&(0,j.jsxs)("div",{"data-analysis-results":!0,style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(ye||be)&&!he&&!ge&&(0,j.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"0.75rem 1rem",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[re&&(0,j.jsx)("h1",{style:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",margin:0,borderBottom:"2px solid #7c3aed",paddingBottom:"0.5rem"},children:re}),Ne&&(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem",margin:"0.5rem 0",display:"flex",alignItems:"center",gap:"1rem"},children:[Ne.mediaFiles&&Ne.mediaFiles.find(e=>"logo"===e.mediaType)&&(0,j.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"8px",overflow:"hidden",border:"2px solid #e2e8f0",flexShrink:0},children:(0,j.jsx)("img",{src:null===(n=Ne.mediaFiles.find(e=>"logo"===e.mediaType))||void 0===n?void 0:n.url,alt:"Brand Logo",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,j.jsxs)("div",{style:{flex:1},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,j.jsx)(Us,{size:16,style:{color:"#7c3aed"}}),(0,j.jsx)("span",{style:{fontSize:"1rem",fontWeight:"600",color:"#1f2937"},children:Ne.brandName||"Brand Name"})]}),Ne.tagline&&(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,j.jsx)(je,{size:14,style:{color:"#6b7280"}}),(0,j.jsxs)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontStyle:"italic"},children:['"',Ne.tagline,'"']})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[Ne.primaryColor&&(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)(xe,{size:14,style:{color:"#6b7280"}}),(0,j.jsx)("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:Ne.primaryColor.startsWith("#")?Ne.primaryColor:`#${Ne.primaryColor}`,border:"1px solid #e2e8f0"}}),(0,j.jsx)("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"Primary"})]}),Ne.toneOfVoice&&(0,j.jsxs)("div",{style:{fontSize:"0.75rem",color:"#6b7280",backgroundColor:"#f1f5f9",padding:"0.25rem 0.5rem",borderRadius:"4px",border:"1px solid #e2e8f0"},children:["Tone: ",Ne.toneOfVoice]})]})]})]}),(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,j.jsxs)("button",{onClick:()=>{const e=H||ye||be||J.length>0||Z||te||re||ie;if(e){if(!window.confirm("\ud83d\udd04 Start New Analysis?\n\nThis will clear all current data including:\n\u2022 Uploaded file\n\u2022 Form inputs\n\u2022 Analysis results\n\nAre you sure you want to continue?"))return}V(null),G(null),Y("image"),X([]),ee(""),ne(""),oe(""),ae(""),ve(null),we(null),fe(!1),me(!1),_e("");const t=document.getElementById("file-upload");t&&(t.value=""),Ve(),rt(),Au.trackUserAction("New Analysis Started",{component:"Analysis",previousAnalysisCompleted:!(!ye&&!be),userConfirmed:e}),console.log("\ud83d\udd04 New analysis started - all data cleared"),window.scrollTo({top:0,behavior:"smooth"})},style:{background:"#6366f1",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="#4f46e5",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.background="#6366f1",e.target.style.transform="translateY(0px)"},title:"Start a new analysis with fresh data",children:[(0,j.jsx)(Is,{size:16}),"New Analysis"]}),(0,j.jsx)("button",{onClick:()=>{Ke()?st():(ze(),L("plan-selection"))},style:{background:Ke()?"#8b5cf6":"rgba(103, 126, 234, 1.0)",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseEnter:e=>{Ke()&&(e.target.style.background="#7c3aed",e.target.style.transform="translateY(-1px)")},onMouseLeave:e=>{Ke()&&(e.target.style.background="#8b5cf6",e.target.style.transform="translateY(0px)")},title:"Download complete analysis as PDF with all sections expanded",children:Ke()?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fs,{size:16}),"Download Report"]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(xs,{size:16}),"Subscribe to Unlock"]})})]})})]}),(ye||be)&&!he&&!ge&&(0,j.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",textAlign:"center",position:"relative"},children:[(0,j.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",textAlign:"center"},children:"Is this Ad Good Enough?"}),(0,j.jsx)("div",{style:{background:(()=>{const e=et();return e>=85?"#f0f9ff":e>=71?"#fefce8":"#fef2f2"})(),border:(()=>{const e=et();return e>=85?"2px solid #3b82f6":e>=71?"2px solid #eab308":"2px solid #ef4444"})(),borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:(0,j.jsxs)("div",{style:{fontSize:"2rem",fontWeight:"700",color:(()=>{const e=et();return e>=85?"#1e40af":e>=71?"#a16207":"#dc2626"})(),marginBottom:"0.5rem"},children:["Overall Score: ",et()]})}),(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",textAlign:"center"},children:"Score Legend"}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",gap:"0.5rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"2px"}}),(0,j.jsx)("span",{style:{color:"#6b7280"},children:"We Can Do Better: Below 71"})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"#eab308",borderRadius:"2px"}}),(0,j.jsx)("span",{style:{color:"#6b7280"},children:"Almost There: 71-85"})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"#3b82f6",borderRadius:"2px"}}),(0,j.jsx)("span",{style:{color:"#6b7280"},children:"Doing Really Great: Above 85"})]})]})]}),!Ke()&&(0,j.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(103, 126, 234, 1.0)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"12px",textAlign:"center"},children:[(0,j.jsx)(xs,{size:24,style:{color:"white",marginBottom:"0.5rem"}}),(0,j.jsx)("p",{style:{margin:0,fontWeight:"600",color:"white"},children:"Subscribe to Unlock"}),(0,j.jsx)("button",{onClick:()=>{ze(),L("plan-selection")},style:{background:"white",color:"#7c3aed",border:"2px solid white",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.75rem",fontWeight:"600",cursor:"pointer",marginTop:"0.5rem"},children:"Subscribe Now"})]})]}),(()=>{var e,t,n,r,o;return!ye&&!be||he||ge?null:(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[Ge("purchaseIntent")&&lt("Purchase Intent with Ad Resonance",Ze("purchase_intent_score")||(null===ye||void 0===ye||null===(e=ye.purchaseIntent)||void 0===e?void 0:e.score),null,"purchaseIntent","Purchase Intent with Ad Resonance"),Ge("brandCompliance")&&lt("Brand Compliance",Ze("brand_compliance_score")||(null===ye||void 0===ye||null===(t=ye.brandCompliance)||void 0===t?void 0:t.score),null,"brandCompliance","Brand Compliance"),Ge("channelCompliance")&&lt("Channel Compliance",Ze("channel_compliance_score")||(null===ye||void 0===ye||null===(n=ye.channelCompliance)||void 0===n?void 0:n.score),null,"channelCompliance","Channel Compliance"),Ge("messagingIntent")&&lt("Messaging Intent",Ze("messaging_intent_score")||(null===ye||void 0===ye||null===(r=ye.messagingIntent)||void 0===r?void 0:r.score),null,"messagingIntent","Messaging Intent"),Ge("funnelCompatibility")&&lt("Funnel Compatibility",Ze("funnel_compatibility_score")||(null===ye||void 0===ye||null===(o=ye.funnelCompatibility)||void 0===o?void 0:o.score),null,"funnelCompatibility","Funnel Compatibility")]})})()]})]}),(null===be||void 0===be?void 0:be.rawResults)&&(0,j.jsxs)("div",{style:{background:"white",borderRadius:"12px",border:"2px solid #e5e7eb",marginTop:"2rem",overflow:"hidden"},children:[(0,j.jsx)("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white"},children:(0,j.jsxs)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(Ns,{size:20}),"Detailed Analysis Breakdown from All 5 Models"]})}),(0,j.jsx)("div",{style:{padding:"2rem"},children:(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[be.rawResults.content_analysis&&(0,j.jsxs)("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1.5rem"},children:[(0,j.jsxs)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(Fs,{size:18,style:{color:"#7c3aed"}}),"Purchase Intent & Content Analysis"]}),(0,j.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6b7280",lineHeight:"1.6"},children:[(0,j.jsx)("div",{style:{marginBottom:"1rem"},children:(0,j.jsxs)("strong",{style:{color:"#374151"},children:["Overall Score: ",be.rawResults.content_analysis.overall_purchase_intent_percentage||0,"%"]})}),(0,j.jsx)("div",{style:{marginBottom:"0.5rem"},children:(0,j.jsx)("strong",{children:"Purchase Intent Breakdown:"})}),(0,j.jsxs)("ul",{style:{paddingLeft:"20px",margin:0},children:[(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"Message Clarity:"})," ",(null===(r=be.rawResults.content_analysis.purchase_intent_scores)||void 0===r||null===(o=r.message_clarity)||void 0===o?void 0:o.percentage)||0,"% - ",(null===(i=be.rawResults.content_analysis.purchase_intent_scores)||void 0===i||null===(a=i.message_clarity)||void 0===a?void 0:a.description)||"No clear message"]}),(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"Emotional Appeal:"})," ",(null===(s=be.rawResults.content_analysis.purchase_intent_scores)||void 0===s||null===(l=s.emotional_appeal)||void 0===l?void 0:l.percentage)||0,"% - ",(null===(A=be.rawResults.content_analysis.purchase_intent_scores)||void 0===A||null===(c=A.emotional_appeal)||void 0===c?void 0:c.description)||"Limited appeal"]}),(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"Relevance:"})," ",(null===(u=be.rawResults.content_analysis.purchase_intent_scores)||void 0===u||null===(d=u.relevance)||void 0===d?void 0:d.percentage)||0,"% - ",(null===(p=be.rawResults.content_analysis.purchase_intent_scores)||void 0===p||null===(h=p.relevance)||void 0===h?void 0:h.description)||"Low relevance"]}),(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"CTA Strength:"})," ",(null===(f=be.rawResults.content_analysis.purchase_intent_scores)||void 0===f||null===(g=f.cta_strength)||void 0===g?void 0:g.percentage)||0,"% - ",(null===(m=be.rawResults.content_analysis.purchase_intent_scores)||void 0===m||null===(y=m.cta_strength)||void 0===y?void 0:y.description)||"No CTA"]}),(0,j.jsxs)("li",{children:[(0,j.jsx)("strong",{children:"Psychological Triggers:"})," ",(null===(v=be.rawResults.content_analysis.purchase_intent_scores)||void 0===v||null===(b=v.psychological_triggers)||void 0===b?void 0:b.percentage)||0,"% - ",(null===(w=be.rawResults.content_analysis.purchase_intent_scores)||void 0===w||null===(S=w.psychological_triggers)||void 0===S?void 0:S.description)||"No triggers"]})]}),(0,j.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,j.jsx)("strong",{children:"Resonating Impact:"})," ",be.rawResults.content_analysis.resonating_impact||"No impact description available"]})]})]}),be.rawResults.brand_compliance&&(0,j.jsxs)("div",{style:{background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",padding:"1.5rem"},children:[(0,j.jsxs)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(Re,{size:18,style:{color:"#10b981"}}),"Brand Compliance"]}),(0,j.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6b7280",lineHeight:"1.6"},children:[(0,j.jsx)("div",{style:{marginBottom:"1rem"},children:(0,j.jsxs)("strong",{style:{color:"#374151"},children:["Overall Score: ",(null===(_=be.rawResults.brand_compliance.compliance_analysis)||void 0===_?void 0:_.final_compliance_score)||0,"%"]})}),(0,j.jsx)("div",{style:{marginBottom:"0.5rem"},children:(0,j.jsx)("strong",{children:"Compliance Breakdown (Yes/No):"})}),(0,j.jsx)("div",{style:{display:"grid",gap:"0.5rem"},children:null===(B=be.rawResults.brand_compliance.compliance_analysis)||void 0===B||null===(C=B.questions)||void 0===C?void 0:C.map((e,t)=>{var n,r,o,i,a,s;return(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",background:"white",borderRadius:"4px"},children:[(0,j.jsx)("span",{style:{fontSize:"0.85rem"},children:e}),(0,j.jsx)("span",{style:{fontWeight:"bold",color:"Yes"===(null===(n=be.rawResults.brand_compliance.compliance_analysis)||void 0===n||null===(r=n.llm_answers)||void 0===r?void 0:r[t])?"#10b981":"#ef4444",padding:"0.25rem 0.5rem",borderRadius:"4px",background:"Yes"===(null===(o=be.rawResults.brand_compliance.compliance_analysis)||void 0===o||null===(i=o.llm_answers)||void 0===i?void 0:i[t])?"#dcfce7":"#fee2e2"},children:(null===(a=be.rawResults.brand_compliance.compliance_analysis)||void 0===a||null===(s=a.llm_answers)||void 0===s?void 0:s[t])||"No"})]},t)})}),(0,j.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,j.jsx)("strong",{children:"Compliance Level:"})," ",be.rawResults.brand_compliance.compliance_level||"Low"]})]})]}),be.rawResults.metaphor_analysis&&(0,j.jsxs)("div",{style:{background:"#fefce8",border:"1px solid #fde047",borderRadius:"8px",padding:"1.5rem"},children:[(0,j.jsxs)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(F,{size:18,style:{color:"#f59e0b"}}),"Messaging Intent & Funnel Analysis"]}),(0,j.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6b7280",lineHeight:"1.6"},children:[(0,j.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,j.jsxs)("strong",{style:{color:"#374151"},children:["Messaging Intent Score: ",(null===(E=be.rawResults.metaphor_analysis.message_intent)||void 0===E?void 0:E.intent_compliance_score)||0,"%"]}),(0,j.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,j.jsx)("strong",{children:"Core Message:"})," ",(null===(x=be.rawResults.metaphor_analysis.message_intent)||void 0===x?void 0:x.core_message_summary)||"No clear message identified"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Emotional Tone:"})," ",(null===(I=be.rawResults.metaphor_analysis.message_intent)||void 0===I?void 0:I.emotional_tone)||"Neutral"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("strong",{style:{color:"#374151"},children:["Funnel Compatibility Score: ",(null===(T=be.rawResults.metaphor_analysis.funnel_compatibility)||void 0===T?void 0:T.effectiveness_score)||0,"%"]}),(0,j.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,j.jsx)("strong",{children:"AI Classification:"})," ",(null===(k=be.rawResults.metaphor_analysis.funnel_compatibility)||void 0===k?void 0:k.classification)||"Unknown"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"User Selected:"})," ",(null===(U=be.rawResults.metaphor_analysis.funnel_compatibility)||void 0===U?void 0:U.user_selected_type)||"Not specified"]}),(0,j.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,j.jsx)("strong",{children:"Reasoning:"})," ",(null===(N=be.rawResults.metaphor_analysis.funnel_compatibility)||void 0===N?void 0:N.reasoning)||"No reasoning provided"]}),(0,j.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,j.jsx)("strong",{children:"Improvement Suggestions:"})," ",(null===(P=be.rawResults.metaphor_analysis.funnel_compatibility)||void 0===P?void 0:P.improvement_suggestion)||"No suggestions available"]})]})]})]}),be.rawResults.channel_compliance&&(0,j.jsxs)("div",{style:{background:"#ecfeff",border:"1px solid #67e8f9",borderRadius:"8px",padding:"1.5rem"},children:[(0,j.jsxs)("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(Ps,{size:18,style:{color:"#06b6d4"}}),"Channel Compliance"]}),(0,j.jsxs)("div",{style:{fontSize:"0.9rem",color:"#6b7280",lineHeight:"1.6"},children:[(0,j.jsx)("div",{style:{marginBottom:"1rem"},children:(0,j.jsxs)("strong",{style:{color:"#374151"},children:["Average Platform Score: ",nt(be.rawResults.channel_compliance),"%"]})}),(0,j.jsx)("div",{style:{display:"grid",gap:"1rem"},children:Object.entries(be.rawResults.channel_compliance).map(e=>{let[t,n]=e;return n&&"object"===typeof n&&void 0!==n.compliance_score&&(0,j.jsxs)("div",{style:{padding:"1rem",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,j.jsx)("strong",{style:{color:"#374151"},children:t}),(0,j.jsxs)("span",{style:{fontWeight:"bold",color:n.compliance_score>=80?"#10b981":n.compliance_score>=60?"#f59e0b":"#ef4444",padding:"0.25rem 0.5rem",borderRadius:"4px",background:n.compliance_score>=80?"#dcfce7":n.compliance_score>=60?"#fef3c7":"#fee2e2"},children:[n.compliance_score,"%"]})]}),n.guideline_results&&(0,j.jsxs)("div",{style:{fontSize:"0.8rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Guidelines Checked:"})," ",n.total_guidelines||0]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Guidelines Passed:"})," ",n.total_matched_scores||0]}),n.guideline_results.slice(0,2).map((e,t)=>(0,j.jsxs)("div",{style:{marginTop:"0.25rem",fontSize:"0.75rem"},children:["\u2022 ",e.guideline," \u2192 ",e.actual_output]},t))]})]},t)})})]})]})]})})]})]}),(0,j.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},du=k("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),pu=k("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),hu=k("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),fu=k("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gu=k("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),mu=k("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),yu=k("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),vu=k("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),bu=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let r=`${R.A.PYTHON_API_URL}/get-user-files/${e}`;const o=new URLSearchParams;t&&o.append("fileCategory",t),n&&o.append("analysisId",n),o.toString()&&(r+=`?${o.toString()}`);const i=await fetch(r);if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const a=await i.json();return console.log(`\ud83d\uddc2\ufe0f Retrieved ${a.count} files for user:`,e),a}catch(r){throw console.error("\u274c Error getting user files:",r),r}},wu=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return(await bu(e,"analysis-report",t)).files||[]}catch(n){throw console.error("\u274c Error getting analysis PDFs:",n),n}},Su=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let r=`${R.A.PYTHON_API_URL}/get-brand-media/${e}`;const o=new URLSearchParams;t&&o.append("brandId",t),n&&o.append("mediaType",n),o.toString()&&(r+=`?${o.toString()}`);const i=await fetch(r);if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const a=await i.json();return console.log(`\ud83d\uddbc\ufe0f Retrieved ${a.count} brand media files for user:`,e),a.mediaFiles||[]}catch(r){throw console.error("\u274c Error getting brand media files:",r),r}},_u=async e=>(console.log("\ud83d\udeab getUploadedAds disabled - using analysis mediaUrl for previews"),[]),Bu=e=>e?e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/#{1,6}\s/g,"").replace(/^\*\* /,"").replace(/\*\*$/,"").trim():"No analysis available",Cu=e=>{var t,n,r,o,i,a,s,l,A,c,u,d,p,h,f,g,m,y,v,b,w,S,_,B,C,E,x,I,T,k,U,N;let{analysisResults:P,onDownloadReport:R,onViewDetails:L,showDownloadButton:O=!0,showViewButton:D=!0,compact:M=!1,selectedFeatures:Q=[]}=e;const H=(e,t,n,r,o)=>(e=>{if(!Q||0===Q.length)return!0;const t={brandCompliance:"brand_compliance",messagingIntent:"messaging_intent",funnelCompatibility:"funnel_compatibility",adResonance:"resonance_index",channelCompliance:"channel_compliance",purchaseIntent:"purchase_intent"}[e];return Q.includes(t)})(o)?(0,j.jsxs)("div",{style:{background:r,padding:M?"1.5rem":"2rem",borderRadius:"12px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",position:"relative",minHeight:M?"250px":"300px"},children:[(0,j.jsx)("h4",{style:{fontSize:M?"1.1rem":"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:e}),(0,j.jsxs)("div",{style:{fontSize:M?"2rem":"2.5rem",fontWeight:"700",color:"#f59e0b",marginBottom:"0.5rem"},children:[t||50,"%"]}),(0,j.jsx)("div",{style:{fontSize:M?"0.8rem":"0.9rem",color:"#6b7280",lineHeight:"1.6"},children:n})]}):null;return P?(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1f2937",margin:0},children:"Ad Analyzer Results"}),(0,j.jsx)("p",{style:{fontSize:"0.9rem",color:"#6b7280",margin:"0.5rem 0 0 0"},children:"Comprehensive analysis of your advertisement"})]}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[D&&L&&(0,j.jsxs)("button",{onClick:L,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"#7c3aed",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>e.target.style.backgroundColor="#6d28d9",onMouseOut:e=>e.target.style.backgroundColor="#7c3aed",children:[(0,j.jsx)(F,{size:16}),"View Details"]}),O&&R&&(0,j.jsxs)("button",{onClick:R,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>e.target.style.backgroundColor="#047857",onMouseOut:e=>e.target.style.backgroundColor="#059669",children:[(0,j.jsx)(hu,{size:16}),"Download Report"]})]})]}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:M?"repeat(auto-fit, minmax(280px, 1fr))":"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[H("Brand Compliance",null===P||void 0===P||null===(t=P.brandCompliance)||void 0===t?void 0:t.score,(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Logo:"})," ",null!==P&&void 0!==P&&null!==(n=P.brandCompliance)&&void 0!==n&&null!==(r=n.logo)&&void 0!==r&&r.present?"Detected":"Not Detected"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Brand Presence:"})," ",Bu(null===P||void 0===P||null===(o=P.brandCompliance)||void 0===o?void 0:o.brandPresence)||"Moderate"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Color Psychology:"})," ",Bu(null===P||void 0===P||null===(i=P.brandCompliance)||void 0===i?void 0:i.colorPsychology)||"Balanced"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Typography:"})," ",Bu(null===P||void 0===P||null===(a=P.brandCompliance)||void 0===a?void 0:a.typography)||"Clear"]})]}),"var(--card-purple)","brandCompliance"),H("Messaging Intent",null===P||void 0===P||null===(s=P.messagingIntent)||void 0===s?void 0:s.score,(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Type:"})," ",Bu(null===P||void 0===P||null===(l=P.messagingIntent)||void 0===l?void 0:l.type)||"Promotional message"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Clarity:"})," ",Bu(null===P||void 0===P||null===(A=P.messagingIntent)||void 0===A?void 0:A.clarity)||"Medium"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"CTA Strength:"})," ",Bu(null===P||void 0===P||null===(c=P.messagingIntent)||void 0===c?void 0:c.ctaStrength)||"Medium"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Emotional Appeal:"})," ",Bu(null===P||void 0===P||null===(u=P.messagingIntent)||void 0===u?void 0:u.emotionalTone)||"Neutral"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Triggers:"})," ",Bu(null===P||void 0===P||null===(d=P.messagingIntent)||void 0===d?void 0:d.persuasiveTriggers)||"Standard"]})]}),"var(--card-pink)","messagingIntent"),H("Funnel Compatibility",null===P||void 0===P||null===(p=P.funnelCompatibility)||void 0===p?void 0:p.score,(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Stage:"})," ",Bu(null===P||void 0===P||null===(h=P.funnelCompatibility)||void 0===h?void 0:h.stage)||"Awareness"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Conversion Potential:"})," ",Bu(null===P||void 0===P||null===(f=P.funnelCompatibility)||void 0===f?void 0:f.conversionPotential)||"Medium"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Urgency Elements:"})," ",Bu(null===P||void 0===P||null===(g=P.funnelCompatibility)||void 0===g?void 0:g.urgencyElements)||"Present"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Scarcity Triggers:"})," ",Bu(null===P||void 0===P||null===(m=P.funnelCompatibility)||void 0===m?void 0:m.scarcityTriggers)||"None"]})]}),"var(--card-lavender)","funnelCompatibility"),H("Ad Resonance",null===P||void 0===P||null===(y=P.adResonance)||void 0===y?void 0:y.score,(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Emotional Impact:"})," ",Bu(null===P||void 0===P||null===(v=P.adResonance)||void 0===v?void 0:v.emotionalImpact)||"High"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Engagement Level:"})," ",Bu(null===P||void 0===P||null===(b=P.adResonance)||void 0===b?void 0:b.engagementLevel)||"High"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Memorability:"})," ",Bu(null===P||void 0===P||null===(w=P.adResonance)||void 0===w?void 0:w.memorability)||"Strong"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Shareability:"})," ",Bu(null===P||void 0===P||null===(S=P.adResonance)||void 0===S?void 0:S.shareability)||"Medium"]})]}),"var(--card-blue)","adResonance"),H("Channel Compliance",null===P||void 0===P||null===(_=P.channelCompliance)||void 0===_?void 0:_.score,(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Platform Optimization:"})," ",Bu(null===P||void 0===P||null===(B=P.channelCompliance)||void 0===B?void 0:B.platformOptimization)||"Good"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Format Compliance:"})," ",Bu(null===P||void 0===P||null===(C=P.channelCompliance)||void 0===C?void 0:C.formatCompliance)||"Compliant"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Content Guidelines:"})," ",Bu(null===P||void 0===P||null===(E=P.channelCompliance)||void 0===E?void 0:E.contentGuidelines)||"Followed"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Performance Score:"})," ",(null===P||void 0===P||null===(x=P.channelCompliance)||void 0===x?void 0:x.performanceScore)||"75%"]})]}),"var(--card-green)","channelCompliance"),H("Purchase Intent",null===P||void 0===P||null===(I=P.purchaseIntent)||void 0===I?void 0:I.score,(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Action Potential:"})," ",Bu(null===P||void 0===P||null===(T=P.purchaseIntent)||void 0===T?void 0:T.actionPotential)||"Medium"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Motivation Level:"})," ",Bu(null===P||void 0===P||null===(k=P.purchaseIntent)||void 0===k?void 0:k.motivationLevel)||"Moderate"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Decision Triggers:"})," ",Bu(null===P||void 0===P||null===(U=P.purchaseIntent)||void 0===U?void 0:U.decisionTriggers)||"Present"]}),(0,j.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,j.jsx)("strong",{children:"Conversion Likelihood:"})," ",(null===P||void 0===P||null===(N=P.purchaseIntent)||void 0===N?void 0:N.conversionLikelihood)||"60%"]})]}),"var(--card-orange)","purchaseIntent")]})]}):(0,j.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[(0,j.jsx)(Ie,{size:48,style:{marginBottom:"1rem",opacity:.5}}),(0,j.jsx)("p",{children:"No analysis results available"})]})},Eu=e=>{let{open:t,onClose:n,title:r,message:o,severity:i="info",actions:a=[]}=e;if(!t)return null;const s=(()=>{switch(i){case"success":return{background:"#f0f9ff",border:"1px solid #0ea5e9",icon:"\u2705",titleColor:"#0c4a6e"};case"error":return{background:"#fef2f2",border:"1px solid #ef4444",icon:"\u274c",titleColor:"#7f1d1d"};case"warning":return{background:"#fffbeb",border:"1px solid #f59e0b",icon:"\u26a0\ufe0f",titleColor:"#92400e"};default:return{background:"#f8fafc",border:"1px solid #64748b",icon:"\u2139\ufe0f",titleColor:"#334155"}}})();return(0,j.jsxs)("div",{className:"alert-container",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"8vh",zIndex:9999,animation:"fadeIn 0.2s ease-out"},onClick:e=>{e.target===e.currentTarget&&n()},children:[(0,j.jsx)("style",{children:"\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          @keyframes slideIn {\n            from { \n              opacity: 0;\n              transform: translateY(-40px) scale(0.9);\n            }\n            to { \n              opacity: 1;\n              transform: translateY(0) scale(1);\n            }\n          }\n          @media (max-width: 768px) {\n            .alert-container {\n              padding-top: 5vh !important;\n              padding-left: 1rem !important;\n              padding-right: 1rem !important;\n            }\n          }\n        "}),(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",border:`2px solid ${s.border.split(" ")[2]}`,borderRadius:"16px",padding:"2rem",maxWidth:"450px",width:"90%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8)",animation:"slideIn 0.3s ease-out",position:"relative",overflow:"hidden"},children:[(0,j.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${s.border.split(" ")[2]}, ${s.titleColor})`}}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.25rem"},children:[(0,j.jsx)("div",{style:{fontSize:"2rem",marginRight:"1rem",background:s.background,padding:"0.5rem",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:s.icon}),(0,j.jsx)("h3",{style:{margin:0,color:s.titleColor,fontSize:"1.25rem",fontWeight:"700",letterSpacing:"-0.025em"},children:r})]}),(0,j.jsx)("p",{style:{margin:"0 0 2rem 0",color:"#4b5563",lineHeight:"1.6",fontSize:"0.95rem",whiteSpace:"pre-line"},children:o}),(0,j.jsx)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:a.length>0?a.map((e,t)=>(0,j.jsx)("button",{onClick:e.onClick,style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"10px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",minWidth:"80px",...e.style},onMouseOver:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)"},children:e.label},t)):(0,j.jsx)("button",{onClick:n,style:{padding:"0.75rem 1.5rem",backgroundColor:"#7c3aed",color:"white",border:"none",borderRadius:"10px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(124, 58, 237, 0.3)",minWidth:"80px"},onMouseOver:e=>{e.target.style.backgroundColor="#6d28d9",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(124, 58, 237, 0.4)"},onMouseOut:e=>{e.target.style.backgroundColor="#7c3aed",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(124, 58, 237, 0.3)"},children:"OK"})})]})]})},xu=()=>{const{currentUser:e}=z();(0,t.useEffect)(()=>{const e=Math.random().toString(36).substr(2,9);return console.log(`\ud83d\ude80 [${e}] Libraries component mounted`),()=>{console.log(`\ud83d\udd1a [${e}] Libraries component unmounted`)}},[]);const[r,o]=(0,t.useState)("grid"),[i,a]=(0,t.useState)("all"),[s,l]=(0,t.useState)(""),[A,c]=(0,t.useState)("newest"),[u,d]=(0,t.useState)([]),[p,h]=(0,t.useState)([]),[f,g]=(0,t.useState)(!0),[m,y]=(0,t.useState)(""),[v,b]=(0,t.useState)(null),[w,S]=(0,t.useState)(null),[_,B]=(0,t.useState)({open:!1,message:"",severity:"info"}),[C,E]=(0,t.useState)(!1),x=(0,t.useRef)(!1),I=e=>{if(!e)return 0;const t=[];return e.brandCompliance&&t.push(e.brandCompliance),e.messagingIntent&&t.push(e.messagingIntent),e.funnelCompatibility&&t.push(e.funnelCompatibility),e.adResonance&&t.push(e.adResonance),e.channelCompliance&&t.push(e.channelCompliance),t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):0},T=e=>{var t,n,r,o,i,a,s,l,A,c,u,d,p,h;return console.log("\ud83d\udd0d getFileType called for file:",{fileName:e.fileName,fileType:e.fileType,fileFormat:e.fileFormat,fileCategory:e.fileCategory,keys:Object.keys(e)}),"application/pdf"===e.fileType||null!==(t=e.fileName)&&void 0!==t&&t.toLowerCase().endsWith(".pdf")||"analysis-report"===e.fileCategory?(console.log("\u2705 File identified as PDF"),"pdf"):null!==(n=e.fileType)&&void 0!==n&&n.includes("video")||null!==(r=e.fileFormat)&&void 0!==r&&r.includes("mp4")||null!==(o=e.fileFormat)&&void 0!==o&&o.includes("webm")||null!==(i=e.fileFormat)&&void 0!==i&&i.includes("avi")||null!==(a=e.fileFormat)&&void 0!==a&&a.includes("mov")||null!==(s=e.fileType)&&void 0!==s&&s.includes("mp4")||null!==(l=e.fileType)&&void 0!==l&&l.includes("webm")?(console.log("\u2705 File identified as video"),"video"):null!==(A=e.fileType)&&void 0!==A&&A.includes("image")||null!==(c=e.fileFormat)&&void 0!==c&&c.includes("jpg")||null!==(u=e.fileFormat)&&void 0!==u&&u.includes("jpeg")||null!==(d=e.fileFormat)&&void 0!==d&&d.includes("png")||null!==(p=e.fileFormat)&&void 0!==p&&p.includes("gif")||null!==(h=e.fileFormat)&&void 0!==h&&h.includes("webp")?(console.log("\u2705 File identified as image"),"image"):(console.log("\u26a0\ufe0f File type not clearly identified, defaulting to image"),"image")},k=e=>null!==e&&void 0!==e&&e.funnelStage?Array.isArray(e.funnelStage)?e.funnelStage[0]:e.funnelStage:"Unknown",U=p.filter(e=>{var t;const n=e.fileName||"Unnamed",r=e.tags||[],o=(null===(t=e.analysisInputs)||void 0===t?void 0:t.adTitle)||"",a=s.toLowerCase(),l=""===s||n.toLowerCase().includes(a)||o.toLowerCase().includes(a)||r.some(e=>e.toLowerCase().includes(a))||e.description&&e.description.toLowerCase().includes(a),A=T(e),c="all"===i||"image"===i&&"image"===A||"video"===i&&"video"===A||"reports"===i&&"analysis-report"===e.fileCategory;return(s||"all"!==i)&&console.log(`\ud83d\udd0d File "${n}" - Search: ${l}, Filter: ${c}`,{searchTerm:s,filterType:i,fileType:A,fileCategory:e.fileCategory,matchesSearch:l,matchesFilter:c,searchMatch:n.toLowerCase().includes(a)||o.toLowerCase().includes(a)||r.some(e=>e.toLowerCase().includes(a))||e.description&&e.description.toLowerCase().includes(a)}),l&&c}).sort((e,t)=>{let n,r,o="none",i="none";return e.timestamp?e.timestamp.seconds?(n=new Date(1e3*e.timestamp.seconds),o="timestamp.seconds"):e.timestamp.toDate?(n=e.timestamp.toDate(),o="timestamp.toDate"):(n=new Date(e.timestamp),o="timestamp"):e.createdAt?e.createdAt.seconds?(n=new Date(1e3*e.createdAt.seconds),o="createdAt.seconds"):e.createdAt.toDate?(n=e.createdAt.toDate(),o="createdAt.toDate"):(n=new Date(e.createdAt),o="createdAt"):e.updatedAt?e.updatedAt.seconds?(n=new Date(1e3*e.updatedAt.seconds),o="updatedAt.seconds"):e.updatedAt.toDate?(n=e.updatedAt.toDate(),o="updatedAt.toDate"):(n=new Date(e.updatedAt),o="updatedAt"):(n=new Date,o="current"),t.timestamp?t.timestamp.seconds?(r=new Date(1e3*t.timestamp.seconds),i="timestamp.seconds"):t.timestamp.toDate?(r=t.timestamp.toDate(),i="timestamp.toDate"):(r=new Date(t.timestamp),i="timestamp"):t.createdAt?t.createdAt.seconds?(r=new Date(1e3*t.createdAt.seconds),i="createdAt.seconds"):t.createdAt.toDate?(r=t.createdAt.toDate(),i="createdAt.toDate"):(r=new Date(t.createdAt),i="createdAt"):t.updatedAt?t.updatedAt.seconds?(r=new Date(1e3*t.updatedAt.seconds),i="updatedAt.seconds"):t.updatedAt.toDate?(r=t.updatedAt.toDate(),i="updatedAt.toDate"):(r=new Date(t.updatedAt),i="updatedAt"):(r=new Date,i="current"),console.log(`\u23f0 Time-based sorting: ${e.fileName} vs ${t.fileName}`,{fileA:{name:e.fileName,time:n.toISOString(),source:o,rawTimestamp:e.timestamp,rawCreatedAt:e.createdAt,rawUpdatedAt:e.updatedAt},fileB:{name:t.fileName,time:r.toISOString(),source:i,rawTimestamp:t.timestamp,rawCreatedAt:t.createdAt,rawUpdatedAt:t.updatedAt},sortBy:A,timeDifference:r-n,sortResult:"newest"===A?r-n:n-r}),"newest"===A?r-n:n-r});(0,t.useEffect)(()=>{C||(async()=>{if(null===e||void 0===e||!e.uid)return console.log("\u274c No authenticated user found"),g(!1),void h([]);if(C||x.current)return void console.log("\ud83d\uded1 API call already in progress, skipping duplicate request");E(!0),x.current=!0;const t=`libraries_data_${e.uid}`,n=localStorage.getItem(`${t}_timestamp`),r=Date.now();if(n&&r-parseInt(n)<3e4){console.log("\ud83c\udfaf Using cached data to prevent duplicate API calls");const e=localStorage.getItem(t);if(e)try{const t=JSON.parse(e);return h(t),g(!1),E(!1),void(x.current=!1)}catch($u){console.warn("\u26a0\ufe0f Failed to parse cached data, proceeding with fresh fetch")}}try{g(!0),y("");const n=Math.random().toString(36).substr(2,9);console.log(`\ud83d\udcc1 [${n}] Loading user files from database for user:`,e.uid),console.log("\ud83d\udd10 User authentication state:",{uid:e.uid,email:e.email,emailVerified:e.emailVerified}),console.log(`\ud83d\udd04 [${n}] Fetching user files with blob storage method...`);let s=[];try{const t=await wu(e.uid);console.log("\ud83d\udcc4 Analysis PDFs with signed URLs:",t.length),t.forEach(e=>{console.log("\ud83d\udcc4 PDF File Details:",{fileName:e.fileName,hasUrl:!!e.url,urlPreview:e.url||"No URL",storagePath:e.storagePath,fileCategory:e.fileCategory})}),s.push(...t);const n=await Su(e.uid);console.log("\ud83d\uddbc\ufe0f Brand media files with signed URLs:",n.length);const r=n.map(e=>({id:e.fileId||`brand-${e.brandId}-${e.filename}`,fileName:e.filename,fileType:e.contentType,fileCategory:"brand-media",mediaType:e.mediaType,url:e.url,storagePath:e.storagePath,brandId:e.brandId,brandName:e.brandName,fileSize:e.fileSize,createdAt:e.uploadTimestamp,updatedAt:e.uploadTimestamp}));s.push(...r);const o=await _u(e.uid);console.log("\ud83d\udcf8 Uploaded ads with signed URLs:",o.length),s.push(...o);const i=await(0,G.DA)(e.uid);console.log("\ud83d\udcc2 Legacy files:",i.length),console.log("\ud83d\udd0d Deduplication: Blob storage files:",s.length,"Legacy files:",i.length),i.filter(e=>{const t=s.some(t=>{const n=t.id&&t.id===e.id,r=t.fileName===e.fileName&&t.userId===e.userId,o=t.storagePath&&e.storagePath&&t.storagePath===e.storagePath,i=t.analysisId&&e.analysisId&&t.analysisId===e.analysisId&&t.fileName===e.fileName;return n||r||o||i});return t&&console.log("\ud83d\udeab Filtering duplicate legacy file:",e.fileName),!t})}catch(o){console.warn("\u26a0\ufe0f Blob storage method failed, using legacy method:",o),s=await(0,G.DA)(e.uid)}console.log("\ud83d\udcc2 Raw files fetched (total):",s.length);const l=s.reduce((e,t)=>{const n=t.fileCategory||"uncategorized";return e[n]=(e[n]||0)+1,e},{});console.log("\ud83d\udcca Files by category:",l);const A=s.filter(e=>e.fileName&&e.fileName.includes(".png")||e.fileName.includes(".jpg")||e.fileName.includes(".jpeg"));console.log("\ud83d\udcf8 Image files found:",A.length),A.forEach(e=>{console.log("\ud83d\udd0d Image file details:",{fileName:e.fileName,fileCategory:e.fileCategory,hasUrl:!!e.url,hasFileContent:!!e.fileContent,fileType:e.fileType})}),console.log(`\ud83d\udd04 [${n}] Fetching analysis history from backend...`);let c=[];try{const t=await Ss(e.uid);if(console.log("\ud83d\udcca Analysis history result:",t),t&&t.analysis_history&&(console.log("\ud83d\udd0d Full analysis history details:"),t.analysis_history.forEach((e,t)=>{console.log(`\ud83d\udcc4 Analysis ${t+1}:`,{adTitle:e.adTitle,artifact_id:e.artifact_id,messageIntent:e.messageIntent,timestamp:e.timestamp,hasMediaUrl:!!e.mediaUrl,hasUploadedImageUrl:!!e.uploadedImageUrl,hasAdImageData:!!e.adImageData,hasOriginalAdImage:!!e.originalAdImage,hasFileUrl:!!e.file_url,hasImageData:!!e.imageData,hasBase64Image:!!e.base64Image,hasArtifacts:!!e.artifacts,artifactKeys:e.artifacts?Object.keys(e.artifacts):[],allKeys:Object.keys(e)})})),t&&t.analysis_history){c=t.analysis_history.map(e=>{console.log("\ud83d\udd0d Processing analysis record:",e.adTitle,"Available fields:",Object.keys(e)),console.log("\ud83d\udd0d Media fields for",e.adTitle,":",{mediaUrl:e.mediaUrl,mediaType:e.mediaType,storagePath:e.storagePath,mediaCategory:e.mediaCategory,hasMediaUrl:!!e.mediaUrl});const t={id:e.artifact_id,fileName:`Analysis - ${e.adTitle||e.messageIntent||"Untitled"}`,fileCategory:"analysis-report",fileType:"application/json",timestamp:e.timestamp,createdAt:e.timestamp,analysisInputs:{adTitle:e.adTitle,messageIntent:e.messageIntent,funnelStage:e.funnelStage,channels:e.channels,selectedFeatures:e.successful_models||[],brandName:"Myceat"},analysisResults:e.ai_analysis_results||{},tags:[]};return e.mediaUrl?(console.log("\u2705 Found mediaUrl in analysis record:",e.adTitle,e.mediaUrl.substring(0,100)+"..."),console.log("\ud83d\udd27 Setting mappedAnalysis fields for:",e.adTitle),t.mediaUrl=e.mediaUrl,t.mediaType=e.mediaType||"image",t.storagePath=e.storagePath,t.mediaCategory=e.mediaCategory,t.url=e.mediaUrl,console.log("\u2705 mappedAnalysis.url set to:",t.url.substring(0,100)+"...")):e.uploadedImageUrl?(console.log("\u2705 Found uploadedImageUrl in analysis record:",e.adTitle),t.mediaUrl=e.uploadedImageUrl,t.mediaType=e.mediaType||"image"):e.adImageData?(console.log("\u2705 Found adImageData in analysis record:",e.adTitle),t.adImageData=e.adImageData,t.mediaType=e.mediaType||"image"):e.originalAdImage?(console.log("\u2705 Found originalAdImage in analysis record:",e.adTitle),t.originalAdImage=e.originalAdImage,t.mediaType=e.mediaType||"image"):e.file_url?(console.log("\u2705 Found file_url in analysis record:",e.adTitle),t.mediaUrl=e.file_url,t.mediaType=e.mediaType||"image"):e.imageData?(console.log("\u2705 Found imageData in analysis record:",e.adTitle),t.mediaUrl=e.imageData.startsWith("data:")?e.imageData:`data:image/jpeg;base64,${e.imageData}`,t.mediaType=e.mediaType||"image"):e.base64Image?(console.log("\u2705 Found base64Image in analysis record:",e.adTitle),t.mediaUrl=e.base64Image.startsWith("data:")?e.base64Image:`data:image/jpeg;base64,${e.base64Image}`,t.mediaType=e.mediaType||"image"):e.artifacts&&e.artifacts.fileContent?(console.log("\u2705 Found artifacts.fileContent in analysis record:",e.adTitle),t.fileContent=e.artifacts.fileContent,t.mediaType=e.mediaType||"image"):(console.log("\u274c No image data found in analysis record:",e.adTitle),console.log("\ud83d\udd0d Available analysis fields:",Object.keys(e)),console.log("\ud83d\udd0d Analysis artifacts:",e.artifacts?Object.keys(e.artifacts):"No artifacts"),console.log("\ud83d\udd0d Full analysis object for",e.adTitle,":",e)),t}),console.log(`\u2705 Loaded ${c.length} analysis records from backend`);const e=c.filter(e=>{const t=s.some(t=>{var n,r;const o=t.fileName===e.fileName,i=t.analysisId===e.id||t.id===e.id,a=e=>e?e.replace(/_/g," ").replace(/\s+/g," ").trim().toUpperCase():"",s=a(null===(n=t.fileName)||void 0===n?void 0:n.replace("Analysis - ","")),l=a(null===(r=e.analysisInputs)||void 0===r?void 0:r.adTitle),A=o||i||s&&l&&s===l;return A&&console.log("\ud83d\udd0d Deduplication check:",{historyItem:e.fileName,existingFile:t.fileName,reason:o?"same filename":i?"same analysis ID":"same normalized title",existingNormalized:s,historyNormalized:l}),A});return t&&console.log("\ud83d\udeab Skipping duplicate analysis history item:",e.fileName),!t});console.log("\ud83d\udcca Analysis history deduplication:",{original:c.length,unique:e.length,duplicatesRemoved:c.length-e.length}),s.push(...e)}}catch(i){console.warn("\u26a0\ufe0f Failed to load analysis history from backend:",i)}const u=s.filter(e=>"uploaded_ad"===e.fileCategory||"analysis-report"===e.fileCategory||e.fileType&&(e.fileType.includes("ad_image")||e.fileType.includes("ad_video")||"application/pdf"===e.fileType));console.log("\ud83d\udcca Pre-merge filtered files:",u.length);const d=u.filter(e=>"analysis-report"===e.fileCategory);console.log("\ud83d\udd0d Analysis files before merging:",d.length);const p=Date.now()-6e5,f=d.filter(e=>new Date(e.timestamp||e.createdAt).getTime()>p);f.length>0&&(console.log("\ud83d\udd25 RECENT UPLOADS found:",f.length),f.forEach(e=>{console.log("\ud83d\udd25 Recent file:",{fileName:e.fileName,timestamp:e.timestamp,createdAt:e.createdAt,timeDiff:Math.round((Date.now()-new Date(e.timestamp||e.createdAt).getTime())/1e3/60)+" minutes ago"})})),d.forEach((e,t)=>{var n;console.log(`\ud83d\udcc4 Analysis ${t+1}:`,{fileName:e.fileName,fileType:e.fileType,hasUrl:!!e.url,hasMediaUrl:!!e.mediaUrl,url:e.url?e.url.substring(0,100)+"...":"None",analysisInputsAdTitle:null===(n=e.analysisInputs)||void 0===n?void 0:n.adTitle,timestamp:e.timestamp,createdAt:e.createdAt})});const m={};u.forEach(e=>{if("analysis-report"===e.fileCategory){var t;let n="",r=!1;e.fileName&&e.fileName.includes("_Scorecards_")?(n=e.fileName.replace(/_Scorecards.*/,"").trim(),r=!0):n=e.fileName&&e.fileName.startsWith("Analysis - ")?e.fileName.replace("Analysis - ","").trim():null!==(t=e.analysisInputs)&&void 0!==t&&t.adTitle?e.analysisInputs.adTitle.trim():e.fileName||"Unnamed";let o=n.replace(/_/g," ").replace(/\s+/g," ").trim().toUpperCase();if(console.log("\ud83d\udd27 Title normalization:",{original:e.fileName,baseTitle:n,normalizedTitle:o}),console.log("\ud83d\udd0d Analysis merging:",{fileName:e.fileName,baseTitle:n,normalizedTitle:o,isPdfScorecard:r,hasUrl:!!e.url,hasMediaUrl:!!e.mediaUrl,hasAnalysisResults:!!e.analysisResults,timestamp:e.timestamp||e.createdAt}),m[o]){const t=m[o];r?(t.mergedData.pdfUrl=e.url,t.pdfUrl=e.url,t.fileType="application/pdf",console.log("\ud83d\udcc4 Added PDF URL to existing analysis:",o)):(e.analysisResults&&(t.analysisResults={...t.analysisResults,...e.analysisResults}),e.analysisInputs&&(t.analysisInputs={...t.analysisInputs,...e.analysisInputs}),e.mediaUrl&&!t.mediaUrl?(t.mediaUrl=e.mediaUrl,t.url=e.mediaUrl,t.mediaType=e.mediaType||"image",t.storagePath=e.storagePath,console.log("\ud83d\uddbc\ufe0f Set mediaUrl as primary URL for:",o,e.mediaUrl.substring(0,100)+"...")):e.mediaUrl&&t.mediaUrl&&console.log("\ud83d\udd04 mediaUrl already exists for:",o,"keeping existing"),e.adImageData&&(t.adImageData=e.adImageData),e.originalAdImage&&(t.originalAdImage=e.originalAdImage),e.fileContent&&(t.fileContent=e.fileContent),t.mergedData.analysisData=e,console.log("\ud83d\udcca Merged analysis data for:",o));const n=t.timestamp||t.createdAt||0;(e.timestamp||e.createdAt||0)>n&&(t.timestamp=e.timestamp,t.createdAt=e.createdAt),t.fileName=`Analysis - ${o}`}else m[o]={...e,mergedData:{pdfUrl:r?e.url:null,analysisData:r?null:e,combinedFileName:o}},console.log("\ud83c\udd95 Created new grouped analysis for:",o)}}),console.log("\ud83d\udd04 Grouping completed. Analysis groups:",Object.keys(m)),Object.entries(m).forEach(e=>{var t;let[n,r]=e;console.log(`\ud83d\udcca Group "${n}":`,{fileName:r.fileName,hasUrl:!!r.url,hasMediaUrl:!!r.mediaUrl,hasPdfUrl:!(null===(t=r.mergedData)||void 0===t||!t.pdfUrl),fileType:r.fileType,urlPreview:r.url?r.url.substring(0,100)+"...":"None",mediaUrlPreview:r.mediaUrl?r.mediaUrl.substring(0,100)+"...":"None"})});const v=Object.values(m).map(e=>(console.log("\u2705 Final merged analysis:",{fileName:e.fileName,normalizedTitle:e.mergedData.combinedFileName,hasUrl:!!e.url,hasMediaUrl:!!e.mediaUrl,hasPdfUrl:!!e.mergedData.pdfUrl,mediaUrlPreview:e.mediaUrl?e.mediaUrl.substring(0,100)+"...":"None",urlPreview:e.url?e.url.substring(0,100)+"...":"None"}),{...e,fileName:`Analysis - ${e.mergedData.combinedFileName}`,fileType:"application/pdf",url:e.mediaUrl||e.mergedData.pdfUrl||e.url,pdfUrl:e.mergedData.pdfUrl||e.url,displayTitle:e.mergedData.combinedFileName}));console.log("\ud83d\udd04 Analysis merging completed:",{totalAnalysisGroups:Object.keys(m).length,groupNames:Object.keys(m),mergedFilesCount:v.length}),v.forEach(e=>{console.log("\ud83d\udccb Merged file details:",{fileName:e.fileName,hasMediaUrl:!!e.mediaUrl,hasPdfUrl:!!e.pdfUrl,hasAnalysisResults:!!e.analysisResults,url:e.url?e.url.substring(0,50)+"...":"None"})});const b=u.filter(e=>"analysis-report"!==e.fileCategory),w=[...v,...b];console.log("\ud83d\udcca Final file counts:",{totalPreFilter:u.length,analysisGroups:Object.keys(m).length,mergedAnalysisFiles:v.length,nonAnalysisFiles:b.length,finalTotal:w.length}),w.length<6&&(console.warn("\u26a0\ufe0f Expected more files than found. Checking for potential issues..."),console.warn("\ud83d\udcca File sources breakdown:",{blobStorageFiles:s.filter(e=>e.storagePath).length,firestoreFiles:s.filter(e=>!e.storagePath&&e.id).length,analysisHistoryFiles:s.filter(e=>{var t;return null===(t=e.fileName)||void 0===t?void 0:t.startsWith("Analysis -")}).length})),w.length>0&&console.log("\ud83d\udd0d Sample final file structure:",{firstFile:w[0],keys:Object.keys(w[0]),hasAnalysisResults:!!w[0].analysisResults,hasAnalysisInputs:!!w[0].analysisInputs,fileCategory:w[0].fileCategory,fileType:w[0].fileType}),h(w);try{localStorage.setItem(t,JSON.stringify(w)),localStorage.setItem(`${t}_timestamp`,r.toString()),console.log("\ud83d\udcbe Cached libraries data for 30 seconds")}catch(a){console.warn("\u26a0\ufe0f Failed to cache data:",a)}}catch(m){console.error("\u274c Detailed error loading user files:",m),console.error("\u274c Error name:",m.name),console.error("\u274c Error message:",m.message),console.error("\u274c Error stack:",m.stack),m.message.includes("permission-denied")?y("Permission denied. Please check your account access."):m.message.includes("network")?y("Network error. Please check your internet connection."):y(`Database error: ${m.message}`)}finally{g(!1),E(!1),x.current=!1}})()},[e]),(0,t.useEffect)(()=>{console.log("\ud83d\udd0d Filtered results updated:",{searchTerm:s,filterType:i,sortBy:A,totalFiles:p.length,filteredCount:U.length,filteredFiles:U.map(e=>e.fileName)}),U.length>0&&console.log("\ud83d\udd0d Debug: Timestamp data for first 3 files:",U.slice(0,3).map(e=>({fileName:e.fileName,timestamp:e.timestamp,createdAt:e.createdAt,updatedAt:e.updatedAt,timestampType:typeof e.timestamp,createdAtType:typeof e.createdAt,updatedAtType:typeof e.updatedAt})))},[s,i,A,p]),(0,t.useEffect)(()=>{},[v]);const P=()=>{b(null)},L=e=>e?e.seconds?new Date(1e3*e.seconds).toLocaleDateString():new Date(e).toLocaleDateString():"Unknown";var O,D;if(v)return(0,j.jsx)("div",{className:"auth-container",children:(0,j.jsxs)("div",{className:"auth-card",style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,j.jsx)("div",{style:{marginBottom:"2rem"},children:(0,j.jsxs)("button",{onClick:P,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>e.target.style.backgroundColor="#4b5563",onMouseOut:e=>e.target.style.backgroundColor="#6b7280",children:[(0,j.jsx)(he,{size:16}),"Back to Library"]})}),(0,j.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px"},children:[(0,j.jsx)("h2",{style:{margin:"0 0 0.5rem 0",color:"#1f2937"},children:(null===(O=v.analysisInputs)||void 0===O?void 0:O.adTitle)||(v.fileName&&v.fileName.startsWith("Analysis - ")?v.fileName.replace("Analysis - ",""):v.fileName)}),(0,j.jsxs)("p",{style:{margin:0,color:"#6b7280",fontSize:"0.9rem"},children:["Analysis performed on ",L(v.timestamp)]})]}),(0,j.jsx)(Cu,{analysisResults:v.analysisResults,onDownloadReport:()=>K(v),showViewButton:!1,compact:!1,selectedFeatures:(null===(D=v.analysisInputs)||void 0===D?void 0:D.selectedFeatures)||[]})]})});const M=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},Q=async t=>{try{if(console.log("\ud83d\udce5 Download Action for:",t.fileName,{hasPdfUrl:!!t.pdfUrl,hasMediaUrl:!!t.mediaUrl,fileCategory:t.fileCategory}),"analysis-report"===t.fileCategory){let r=null;if(t.pdfUrl&&t.pdfUrl.includes("/analysis-reports/"))console.log("\u2705 Using dedicated pdfUrl for download"),r=t.pdfUrl;else{console.log("\ud83d\udd0d Looking for PDF in blob storage for download:",t.fileName);try{const o=t.fileName.replace("Analysis - ",""),i=await fetch(`${R.A.PYTHON_API_URL}/get-user-files/${null===e||void 0===e?void 0:e.uid}`);if(i.ok){var n;const e=null===(n=(await i.json()).files)||void 0===n?void 0:n.find(e=>{var t,n,r;return(null===(t=e.fileName)||void 0===t?void 0:t.includes(o))&&(null===(n=e.fileName)||void 0===n?void 0:n.endsWith(".pdf"))&&(null===(r=e.url)||void 0===r?void 0:r.includes("/analysis-reports/"))});e&&(console.log("\u2705 Found PDF in blob storage for download:",e.fileName),r=e.url)}}catch(m){console.warn("\u26a0\ufe0f Could not search blob storage for PDF:",m)}}if(r&&r.includes("/analysis-reports/")){console.log("\u2705 Downloading PDF:",r.substring(0,100)+"...");const e=document.createElement("a");return e.href=r,e.download=t.fileName.replace("Analysis - ","")+"_Scorecard.pdf",void e.click()}return console.log("\ud83d\udce5 No PDF scorecard found for download:",t.fileName),void(t.analysisResults?B({open:!0,title:"PDF Not Available",message:`No PDF scorecard found for "${t.fileName}". Click "View Analysis" to see the results and generate a PDF report.`,severity:"info"}):B({open:!0,title:"PDF Not Available",message:`No PDF scorecard found for "${t.fileName}". Please re-run the analysis to generate a PDF report.`,severity:"warning"}))}if(t.fileContent){const e=atob(t.fileContent),n=new Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);const r=new Uint8Array(n),o="application/pdf"===t.fileType?"application/pdf":`${T(t)}/${t.fileFormat||"jpeg"}`,i=new Blob([r],{type:o}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=t.fileName||`file_${t.id}.${t.fileFormat||"jpg"}`,s.click(),URL.revokeObjectURL(a),console.log("\u2705 File downloaded:",t.fileName)}else B({open:!0,title:"Download Failed",message:"File content not available for download",severity:"error"})}catch(m){console.error("\u274c Error downloading file:",m),B({open:!0,title:"Download Failed",message:"Failed to download file",severity:"error"})}},H=async t=>{console.log("\ud83d\uddd1\ufe0f Delete button clicked for file ID:",t),console.log("\ud83d\uddd1\ufe0f Current userFiles array length:",p.length),console.log("\ud83d\uddd1\ufe0f Available file IDs:",p.map(e=>e.id));const r=p.find(e=>e.id===t);console.log("\ud83d\udd0d File object to delete:",r),r?(console.log("\ud83d\udd0d File object keys:",Object.keys(r)),console.log("\ud83d\udd0d File brandId:",null===r||void 0===r?void 0:r.brandId),console.log("\ud83d\udd0d File userId:",null===r||void 0===r?void 0:r.userId),console.log("\ud83d\udd0d File analysisInputs:",null===r||void 0===r?void 0:r.analysisInputs),console.log("\ud83d\udd0d File complete object:",r)):(console.error("\u274c File not found in userFiles array!"),console.log("\ud83d\udd0d Searching for similar IDs:",p.filter(e=>e.id.includes(t.substring(0,5)))));if(window.confirm("Are you sure you want to delete this file? This action cannot be undone."))try{if(console.log("\ud83d\udd04 Attempting to delete file with ID:",t),console.log("\ud83d\udd04 Using userId:",null===e||void 0===e?void 0:e.uid),null!==r&&void 0!==r&&r.brandId){console.log("\ud83d\udd04 File has brandId, trying delete-media-file endpoint...");const{deleteBrandMediaFile:e}=await Promise.resolve().then(n.bind(n,4130));await e(r.brandId,t),console.log("\u2705 File deleted via delete-media-file endpoint")}else console.log("\ud83d\udd04 File has no brandId, using regular delete endpoints..."),await(0,G.bW)(t,null===e||void 0===e?void 0:e.uid);console.log("\u2705 File deleted from database successfully"),h(e=>{const n=e.filter(e=>e.id!==t);return console.log("\ud83d\udcc1 Updated user files list:",n.length,"files remaining"),n}),d(e=>e.filter(e=>e!==t)),console.log("\u2705 File deleted successfully from UI"),B({open:!0,title:"Success",message:"File deleted successfully!",severity:"success"})}catch(m){console.error("\u274c Error deleting file:",m),B({open:!0,title:"Delete Failed",message:"Failed to delete file: "+m.message,severity:"error"})}else console.log("\u274c Delete cancelled by user")},V=e=>{e.analysisResults?b(e):B({open:!0,title:"No Analysis",message:"No analysis results available for this file",severity:"warning"})},K=async t=>{if(!t.analysisResults)return void B({open:!0,title:"No Analysis",message:"No analysis results available for download.",severity:"warning"});const n=(null===e||void 0===e?void 0:e.uid)||localStorage.getItem("incivus_user_id");try{var r;console.log("\ud83d\udcc4 Starting PDF report generation for library file...");const e={status:"success",analysis_type:"comprehensive",file_type:(null===(r=t.metadata)||void 0===r?void 0:r.fileType)||"unknown",results:t.analysisResults||{},originalAnalysisResults:t.analysisResults,metadata:t.metadata||{}},a=`library_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{var o;let r=null;t.mediaUrl?(r=t.mediaUrl,console.log("\ud83d\udcf8 Using mediaUrl for PDF generation:",t.fileName)):t.adImageData?(r=t.adImageData.startsWith("data:")?t.adImageData:`data:image/jpeg;base64,${t.adImageData}`,console.log("\ud83d\udcf8 Using adImageData for PDF generation:",t.fileName)):t.originalAdImage?(r=t.originalAdImage.startsWith("data:")?t.originalAdImage:`data:image/jpeg;base64,${t.originalAdImage}`,console.log("\ud83d\udcf8 Using originalAdImage for PDF generation:",t.fileName)):null!==(o=t.analysisInputs)&&void 0!==o&&o.uploadedImage?(r=t.analysisInputs.uploadedImage.startsWith("data:")?t.analysisInputs.uploadedImage:`data:image/jpeg;base64,${t.analysisInputs.uploadedImage}`,console.log("\ud83d\udcf8 Using analysisInputs.uploadedImage for PDF generation:",t.fileName)):t.fileContent?(r=t.fileContent.startsWith("data:")?t.fileContent:`data:image/jpeg;base64,${t.fileContent}`,console.log("\ud83d\udcf8 Using fileContent for PDF generation:",t.fileName)):console.log("\u26a0\ufe0f No uploaded image data found for PDF generation:",t.fileName),await su(e,t.fileName||"Library Analysis",n,a,r),console.log("\u2705 PDF report generated via main.py backend"),B({open:!0,title:"Success",message:"PDF report generated and downloaded successfully!",severity:"success"})}catch(i){console.log("\ud83d\udd04 Backend failed, falling back to client-side generation...",i);const e={timestamp:t.timestamp||(new Date).toISOString(),fileName:t.fileName,analysisResults:t.analysisResults,metadata:t.metadata||{}},r=await au(e,n,{source:"libraries-page",reportType:"ai-analysis-report",fileName:`${t.fileName}-analysis-report-${Date.now()}.pdf`});console.log("\u2705 PDF report generated via fallback method:",r),B({open:!0,title:"Success",message:"PDF report generated and downloaded successfully!",severity:"success"})}}catch(m){console.error("\u274c Error generating PDF report:",m),B({open:!0,title:"Error",message:"Failed to generate PDF report. Please try again.",severity:"error"})}},W=e=>e>=80?"#10b981":e>=60?"#f59e0b":"#ef4444";return(0,j.jsxs)("div",{style:{padding:"1rem"},children:[(0,j.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"2rem",border:"1px solid rgba(124, 58, 237, 0.06)",boxShadow:"0 8px 32px rgba(124, 58, 237, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.8)"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,j.jsxs)("h2",{style:{fontSize:"1.75rem",fontWeight:"600",color:"#5b21b6",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(gu,{size:24}),"Libraries"]}),(0,j.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,j.jsx)("button",{onClick:()=>o("grid"),className:"btn "+("grid"===r?"btn-primary":"btn-secondary"),style:{padding:"0.5rem"},children:(0,j.jsx)(mu,{size:20})}),(0,j.jsx)("button",{onClick:()=>o("list"),className:"btn "+("list"===r?"btn-primary":"btn-secondary"),style:{padding:"0.5rem"},children:(0,j.jsx)(yu,{size:20})})]})]}),(0,j.jsx)("div",{className:"auth-card",style:{marginBottom:"2rem"},children:(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",alignItems:"end"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Search"}),(0,j.jsxs)("div",{style:{position:"relative"},children:[(0,j.jsx)(vu,{size:16,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-light)"}}),(0,j.jsx)("input",{type:"text",value:s,onChange:e=>{const t=e.target.value;console.log("\ud83d\udd0d Search term changed:",t),l(t)},placeholder:"Search files by name, ad title, tags...",style:{width:"100%",padding:"0.75rem",paddingLeft:"2.5rem",border:"1px solid var(--border-gray)",borderRadius:"0.5rem",fontSize:"0.875rem"}})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Filter"}),(0,j.jsx)("select",{value:i,onChange:e=>{const t=e.target.value;console.log("\ud83d\udd0d Filter type changed:",t),a(t)},style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-gray)",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[{value:"all",label:"All Files"},{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"reports",label:"Analysis Reports"}].map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Sort by Time"}),(0,j.jsx)("select",{value:A,onChange:e=>{const t=e.target.value;console.log("\ud83d\udd0d Sort by changed:",t),c(t)},style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-gray)",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[{value:"newest",label:"Newest Ad First"},{value:"oldest",label:"Oldest Ad First"}].map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})}),f&&(0,j.jsxs)("div",{className:"auth-card",style:{textAlign:"center",padding:"4rem 2rem"},children:[(0,j.jsx)(N,{size:48,style:{color:"var(--primary-purple)",marginBottom:"1rem",animation:"spin 1s linear infinite"}}),(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"0.5rem"},children:"Loading your files..."}),(0,j.jsx)("p",{style:{color:"var(--text-light)"},children:"Please wait while we fetch your uploaded ads and analysis data"})]}),m&&(0,j.jsxs)("div",{className:"auth-card",style:{textAlign:"center",padding:"4rem 2rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,j.jsx)(gu,{size:64,style:{color:"#ef4444",marginBottom:"1rem"}}),(0,j.jsx)("h3",{style:{color:"#ef4444",marginBottom:"0.5rem"},children:"Error Loading Files"}),(0,j.jsx)("p",{style:{color:"var(--text-light)",marginBottom:"1rem"},children:m}),(0,j.jsx)("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Retry"})]}),!f&&!m&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:{marginBottom:"1rem"},children:(0,j.jsxs)("p",{style:{color:"var(--text-light)",fontSize:"0.875rem"},children:[U.length," file",1!==U.length?"s":""," found",u.length>0&&` \u2022 ${u.length} selected`]})}),u.length>0&&(0,j.jsx)("div",{className:"auth-card",style:{marginBottom:"2rem",background:"var(--primary-purple)",color:"white"},children:(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsxs)("span",{children:[u.length," file",1!==u.length?"s":""," selected"]}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,j.jsx)("button",{onClick:()=>{u.forEach(e=>{const t=p.find(t=>t.id===e);t&&Q(t)})},className:"btn btn-secondary",style:{background:"white",color:"var(--primary-purple)"},children:"Download Selected"}),(0,j.jsx)("button",{onClick:()=>{B({open:!0,title:"Delete Multiple Files",message:`Are you sure you want to delete ${u.length} file(s)? This action cannot be undone.`,severity:"warning",actions:[{label:"Cancel",onClick:()=>B({..._,open:!1}),style:{backgroundColor:"#6b7280",color:"white"}},{label:"Delete All",onClick:()=>{u.forEach(e=>H(e)),B({..._,open:!1})},style:{backgroundColor:"#ef4444",color:"white"}}]})},className:"btn btn-secondary",style:{background:"#ef4444",color:"white",borderColor:"#ef4444"},children:"Delete Selected"})]})]})}),"grid"===r?(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:U.map(t=>{var n,r,o,i;console.log("\ud83d\udd0d Rendering file card:",{fileName:t.fileName,fileCategory:t.fileCategory,fileType:t.fileType,mediaType:t.mediaType,hasUrl:!!t.url,url:t.url||"None",urlType:typeof t.url,urlValue:t.url,hasFileContent:!!t.fileContent,brandId:t.brandId,brandName:t.brandName,allKeys:Object.keys(t),storagePath:t.storagePath}),"application/pdf"===t.fileType&&null!==(n=t.fileName)&&void 0!==n&&n.includes("SAICEAT")&&console.log("\ud83d\udd0d SAICEAT PDF URL Debug:",{fileName:t.fileName,url:t.url,urlLength:t.url?t.url.length:0,urlStartsWith:t.url?t.url.substring(0,50):"N/A",storagePath:t.storagePath,hasStoragePath:!!t.storagePath,fileObject:t});const a=I(t.analysisResults),s=T(t),l=k(t.analysisInputs),A=t.tags||[];return(0,j.jsxs)("div",{className:"auth-card",style:{cursor:"pointer",border:u.includes(t.id)?"2px solid var(--primary-purple)":"1px solid var(--border-gray)",transition:"all 0.2s"},onClick:()=>M(t.id),children:[(0,j.jsxs)("div",{style:{position:"relative"},children:[(n=>{let r=null,o="image";if(!t.url||"brand-media"!==t.fileCategory&&"uploaded_ad"!==t.fileCategory)if("analysis-report"===t.fileCategory){var i,a,s,l;console.log("\ud83d\udd0d Analysis report preview check for:",t.fileName,{hasMediaUrl:!!t.mediaUrl,hasUrl:!!t.url,mediaUrl:null===(i=t.mediaUrl)||void 0===i?void 0:i.substring(0,100),url:null===(a=t.url)||void 0===a?void 0:a.substring(0,100),includesAnalysisReports:null===(s=t.url)||void 0===s?void 0:s.includes("/analysis-reports/"),includesPdf:null===(l=t.url)||void 0===l?void 0:l.includes(".pdf")}),t.mediaUrl&&!t.mediaUrl.includes("/analysis-reports/")?(r=t.mediaUrl,o=t.mediaType||"image",console.log("\u2705 Using dedicated mediaUrl for preview:",t.fileName,r.substring(0,100)+"..."),t.storagePath&&null!==e&&void 0!==e&&e.uid&&fetch(`${R.A.PYTHON_API_URL}/get-file-url/${encodeURIComponent(t.storagePath)}?userId=${e.uid}`).then(e=>e.ok?e.json():null).then(e=>{if(null!==e&&void 0!==e&&e.url&&e.url!==t.mediaUrl){console.log("\ud83d\udd04 Got fresh signed URL for:",t.fileName);document.querySelectorAll(`img[data-file-id="${t.id}"]`).forEach(t=>{t.src=e.url})}}).catch(e=>console.warn("\u26a0\ufe0f Could not refresh URL for:",t.fileName,e))):!t.url||t.url.includes("/analysis-reports/")||t.url.includes(".pdf")?(console.log("\ud83d\udeab No valid mediaUrl found for analysis preview:",t.fileName,"Will show placeholder"),r=null):(r=t.url,o=t.mediaType||"image",console.log("\u2705 Using file.url for analysis preview:",t.fileName,r.substring(0,100)+"..."),t.storagePath&&null!==e&&void 0!==e&&e.uid&&fetch(`${R.A.PYTHON_API_URL}/get-file-url/${encodeURIComponent(t.storagePath)}?userId=${e.uid}`).then(e=>e.ok?e.json():null).then(e=>{if(null!==e&&void 0!==e&&e.url&&e.url!==t.url){console.log("\ud83d\udd04 Got fresh signed URL for:",t.fileName);document.querySelectorAll(`img[data-file-id="${t.id}"]`).forEach(t=>{t.src=e.url})}}).catch(e=>console.warn("\u26a0\ufe0f Could not refresh URL for:",t.fileName,e)))}else t.originalAdImage?(r=t.originalAdImage.startsWith("data:")?t.originalAdImage:`data:image/jpeg;base64,${t.originalAdImage}`,o="image"):t.adImageData?(r=t.adImageData.startsWith("data:")?t.adImageData:`data:image/jpeg;base64,${t.adImageData}`,o="image"):null!==(n=t.analysisInputs)&&void 0!==n&&n.uploadedImage?(r=t.analysisInputs.uploadedImage.startsWith("data:")?t.analysisInputs.uploadedImage:`data:image/jpeg;base64,${t.analysisInputs.uploadedImage}`,o="image"):t.fileContent?(r=t.fileContent.startsWith("data:")?t.fileContent:`data:image/jpeg;base64,${t.fileContent}`,o="image"):t.fileContent?(r=t.fileContent.startsWith("data:")?t.fileContent:`data:${T(t)}/${t.fileFormat||"jpeg"};base64,${t.fileContent}`,o=T(t),console.log("\ud83d\udcf7 Using base64 fallback for:",t.fileName,"Type:",o)):t.url&&(r=t.url,o=T(t),console.log("\ud83d\udd17 Using URL for non-categorized file:",t.fileName));else console.log("\ud83d\udd17 Using blob storage URL for preview:",t.fileName,t.url),r=t.url,o=t.mediaType||T(t),console.log("\ud83d\udcf8 Setting mediaUrl for uploaded content:",{fileName:t.fileName,fileCategory:t.fileCategory,mediaType:o,urlPreview:r.substring(0,100)+"..."});return r&&"video"===o?(0,j.jsxs)("div",{style:{width:"100%",height:"150px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",position:"relative"},children:[(0,j.jsx)(du,{size:48}),(0,j.jsx)("span",{style:{fontSize:"0.75rem",marginTop:"0.5rem",position:"absolute",bottom:"0.5rem"},children:t.fileName||"Video File"})]}):t.mediaUrl&&t.mediaUrl.includes("storage.googleapis.com")&&!t.mediaUrl.includes("/analysis-reports/")?(0,j.jsx)("img",{src:t.mediaUrl,alt:t.fileName||"Ad Media","data-file-id":t.id,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"1rem"},onError:e=>{console.error("\u274c Image load failed for:",t.fileName,"URL:",t.mediaUrl),e.target.style.display="none"},onLoad:()=>{console.log("\u2705 Image loaded successfully for:",t.fileName)}}):(0,j.jsxs)("div",{style:{width:"100%",height:"150px",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",flexDirection:"column",border:"2px dashed #d1d5db"},children:[(0,j.jsx)(pu,{size:32,style:{marginBottom:"0.5rem",opacity:.6}}),(0,j.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"500",textAlign:"center"},children:"analysis-report"===t.fileCategory?"\ud83d\udcca Analysis Report":"\ud83d\udcc4 File"}),(0,j.jsx)("span",{style:{fontSize:"0.625rem",opacity:.7,marginTop:"0.25rem"},children:"No preview available"})]})})(),(0,j.jsx)("div",{style:{position:"absolute",top:"8px",right:"8px",background:"video"===s?"#dc2626":"analysis-report"===t.fileCategory?"#22c55e":"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:"analysis-report"===t.fileCategory?"ANALYSIS":s.toUpperCase()})]}),(0,j.jsx)("h4",{style:{color:"var(--text-dark)",marginBottom:"0.5rem",fontSize:"1rem",fontWeight:"500"},children:(null===(r=t.analysisInputs)||void 0===r?void 0:r.adTitle)||(t.fileName&&t.fileName.startsWith("Analysis - ")?t.fileName.replace("Analysis - ",""):t.fileName)||"Unnamed File"}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,j.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-light)"},children:[(0,j.jsx)("div",{children:L(t.createdAt)}),(null===(o=t.analysisInputs)||void 0===o?void 0:o.brandName)&&(0,j.jsxs)("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:["Brand: ",t.analysisInputs.brandName]})]}),a>0&&(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:W(a),fontWeight:"500"},children:[(0,j.jsx)(Ie,{size:16}),a]})]}),(0,j.jsx)("div",{style:{marginBottom:"0.5rem"},children:(0,j.jsx)("span",{style:{background:"var(--bg-light)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",color:"var(--text-dark)"},children:l})}),(0,j.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"1rem"},children:[A.filter(e=>!["Meta/Facebook","TikTok","Google Ads","YouTube","Instagram","LinkedIn"].includes(e)).map((e,t)=>(0,j.jsx)("span",{style:{background:"var(--primary-purple)",color:"white",padding:"0.125rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem"},children:e},t)),(null===(i=t.analysisInputs)||void 0===i?void 0:i.selectedChannels)&&t.analysisInputs.selectedChannels.map((e,t)=>(0,j.jsx)("span",{style:{background:"#3b82f6",color:"white",padding:"0.125rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem"},children:e},`channel-${t}`))]}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:["application/pdf"===t.fileType||"analysis-report"===t.fileCategory?(0,j.jsx)("button",{onClick:async n=>{n.stopPropagation();try{if(console.log("\ud83d\udcc4 PDF Action for:",t.fileName),"analysis-report"===t.fileCategory){const n=t.fileName.replace("Analysis - ",""),o=await fetch(`${R.A.PYTHON_API_URL}/get-user-files/${null===e||void 0===e?void 0:e.uid}`);if(o.ok){var r;const e=null===(r=(await o.json()).files)||void 0===r?void 0:r.find(e=>{var t,r,o;return(null===(t=e.fileName)||void 0===t?void 0:t.includes(n))&&(null===(r=e.fileName)||void 0===r?void 0:r.endsWith(".pdf"))&&(null===(o=e.url)||void 0===o?void 0:o.includes("/analysis-reports/"))});if(e)return console.log("\u2705 Found PDF in blob storage:",e.fileName),void window.open(e.url,"_blank")}}t.analysisResults?B({open:!0,title:"PDF Not Available",message:`No PDF scorecard found for "${t.fileName}". Click "View Analysis" to see the results and generate a PDF report.`,severity:"info"}):B({open:!0,title:"PDF Not Available",message:`No PDF scorecard found for "${t.fileName}". Please re-run the analysis to generate a PDF report.`,severity:"warning"})}catch(m){console.error("\u274c Error opening PDF:",m),B({open:!0,title:"PDF Opening Failed",message:`Failed to open PDF: ${m.message}`,severity:"error"})}},className:"btn btn-primary",style:{flex:1,fontSize:"0.875rem",padding:"0.5rem"},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(F,{size:16,style:{marginRight:"0.25rem"}}),"View PDF"]})}):(0,j.jsxs)("button",{onClick:e=>{e.stopPropagation(),V(t)},className:"btn btn-primary",style:{flex:1,fontSize:"0.875rem",padding:"0.5rem"},disabled:!t.analysisResults,children:[(0,j.jsx)(F,{size:16,style:{marginRight:"0.25rem"}}),"View Analysis"]}),(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),Q(t)},className:"btn btn-secondary",style:{fontSize:"0.875rem",padding:"0.5rem"},children:(0,j.jsx)(hu,{size:18})}),(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),H(t.id)},className:"btn btn-danger",style:{fontSize:"0.875rem",padding:"0.5rem"},children:(0,j.jsx)(fu,{size:16})})]})]},t.id)})}):(0,j.jsx)("div",{style:{display:"grid",gap:"1rem"},children:U.map(e=>{var t,n;const r=I(e.analysisResults),o=(T(e),k(e.analysisInputs)),i=e.tags||[];return(0,j.jsxs)("div",{className:"auth-card",style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer",border:u.includes(e.id)?"2px solid var(--primary-purple)":"1px solid var(--border-gray)",transition:"all 0.2s",padding:"1.5rem",width:"100%",boxSizing:"border-box",overflow:"visible",minHeight:"80px",minWidth:"600px"},onClick:()=>M(e.id),children:[(()=>{let t=null,n="image";var r;"analysis-report"===e.fileCategory?e.mediaUrl?(t=e.mediaUrl,n=e.mediaType||"image",console.log("\ud83c\udfaf Card preview using analysis mediaUrl:",e.fileName)):e.originalAdImage?(t=e.originalAdImage.startsWith("data:")?e.originalAdImage:`data:image/jpeg;base64,${e.originalAdImage}`,n="image"):e.adImageData?(t=e.adImageData.startsWith("data:")?e.adImageData:`data:image/jpeg;base64,${e.adImageData}`,n="image"):null!==(r=e.analysisInputs)&&void 0!==r&&r.uploadedImage?(t=e.analysisInputs.uploadedImage.startsWith("data:")?e.analysisInputs.uploadedImage:`data:image/jpeg;base64,${e.analysisInputs.uploadedImage}`,n="image"):e.fileContent&&(t=e.fileContent.startsWith("data:")?e.fileContent:`data:image/jpeg;base64,${e.fileContent}`,n="image"):e.fileContent&&(t=e.fileContent.startsWith("data:")?e.fileContent:`data:${T(e)}/${e.fileFormat||"jpeg"};base64,${e.fileContent}`,n=T(e));return t&&"video"===n?(0,j.jsx)("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",position:"relative"},children:(0,j.jsx)(du,{size:32})}):e.mediaUrl&&e.mediaUrl.includes("storage.googleapis.com")?(0,j.jsx)("img",{src:e.mediaUrl,alt:e.fileName||"Ad Media",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"0.5rem"},onError:t=>{console.error("\u274c Thumbnail failed:",e.fileName),t.target.style.display="none",t.target.nextSibling.style.display="flex"}}):(0,j.jsx)("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",border:"2px dashed #d1d5db"},children:(0,j.jsx)(pu,{size:24,style:{opacity:.6}})})})(),(0,j.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,j.jsx)("h4",{style:{color:"var(--text-dark)",marginBottom:"0.25rem"},children:(null===(t=e.analysisInputs)||void 0===t?void 0:t.adTitle)||(e.fileName&&e.fileName.startsWith("Analysis - ")?e.fileName.replace("Analysis - ",""):e.fileName)||"Unnamed File"}),(0,j.jsxs)("div",{style:{display:"flex",gap:"1rem",fontSize:"0.875rem",color:"var(--text-light)"},children:[(0,j.jsx)("span",{children:L(e.createdAt)}),(0,j.jsx)("span",{children:o}),(null===(n=e.analysisInputs)||void 0===n?void 0:n.brandName)&&(0,j.jsxs)("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Brand: ",e.analysisInputs.brandName]}),r>0&&(0,j.jsxs)("span",{style:{color:W(r),fontWeight:"500"},children:["Score: ",r]})]}),(0,j.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginTop:"0.5rem"},children:i.map((e,t)=>(0,j.jsx)("span",{style:{background:"var(--primary-purple)",color:"white",padding:"0.125rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem"},children:e},t))})]}),(0,j.jsxs)("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",justifyContent:"flex-end",flexShrink:0,minWidth:"150px",marginLeft:"auto"},children:[(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),V(e)},className:"btn btn-primary",style:{fontSize:"0.875rem",padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"42px",minHeight:"42px"},disabled:!e.analysisResults,children:(0,j.jsx)(F,{size:18})}),(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),Q(e)},className:"btn btn-secondary",style:{fontSize:"0.875rem",padding:"0.4rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"42px",minHeight:"42px"},children:(0,j.jsx)(hu,{size:18})}),(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),H(e.id)},className:"btn",style:{fontSize:"0.875rem",padding:"0.4rem",background:"#ef4444",borderColor:"#ef4444",color:"white",border:"1px solid #ef4444",borderRadius:"0.375rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"42px",minHeight:"42px",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>{e.target.style.background="#dc2626",e.target.style.borderColor="#dc2626"},onMouseOut:e=>{e.target.style.background="#ef4444",e.target.style.borderColor="#ef4444"},children:(0,j.jsx)(fu,{size:18,color:"white"})})]})]},e.id)})}),!f&&!m&&0===U.length&&0===p.length&&(0,j.jsxs)("div",{className:"auth-card",style:{textAlign:"center",padding:"4rem 2rem"},children:[(0,j.jsx)(gu,{size:64,style:{color:"var(--text-light)",marginBottom:"1rem"}}),(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"0.5rem"},children:"No files uploaded yet"}),(0,j.jsx)("p",{style:{color:"var(--text-light)",marginBottom:"1rem"},children:"Upload some ads in the Analysis section to see them here, or add sample data for testing"}),(0,j.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[(0,j.jsx)("button",{onClick:()=>window.location.hash="#analysis",className:"btn btn-primary",children:"Go to Analysis"}),(0,j.jsx)("button",{onClick:async()=>{if(null!==e&&void 0!==e&&e.uid)try{g(!0),console.log("\ud83d\udcdd Adding sample data for testing..."),await(0,G.is)(e.uid);const t=(await(0,G.DA)(e.uid)).filter(e=>"uploaded_ad"===e.fileCategory||"analysis-report"===e.fileCategory||e.fileType&&(e.fileType.includes("ad_image")||e.fileType.includes("ad_video")||"application/pdf"===e.fileType));h(t),console.log("\u2705 Sample data added successfully!")}catch(m){console.error("\u274c Error adding sample data:",m),y(`Failed to add sample data: ${m.message}`)}finally{g(!1)}},className:"btn btn-secondary",style:{background:"var(--secondary-purple)",color:"white",borderColor:"var(--secondary-purple)"},children:"Add Sample Data"}),(0,j.jsx)("button",{onClick:()=>{const t=`libraries_data_${null===e||void 0===e?void 0:e.uid}`;localStorage.removeItem(t),localStorage.removeItem(`${t}_timestamp`),console.log("\ud83c\udfaf Cache cleared, refreshing page..."),window.location.reload()},className:"btn btn-outline-primary",style:{marginLeft:"0.5rem"},children:"\ud83d\udd04 Force Refresh"})]})]}),!f&&!m&&0===U.length&&p.length>0&&(0,j.jsxs)("div",{className:"auth-card",style:{textAlign:"center",padding:"4rem 2rem"},children:[(0,j.jsx)(vu,{size:64,style:{color:"var(--text-light)",marginBottom:"1rem"}}),(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"0.5rem"},children:"No files match your search"}),(0,j.jsx)("p",{style:{color:"var(--text-light)"},children:"Try adjusting your search or filter criteria"})]})]})]}),(0,j.jsx)(Eu,{open:_.open,title:_.title,message:_.message,severity:_.severity,actions:_.actions,onClose:()=>B({..._,open:!1})})]})},Iu=e=>{var n,r,o,i,a,s,l,A,c,u,d,p,h,f,g,m,y;let{currentPlan:v=null,onUpgrade:b}=e;const{currentUser:w,getUserPlanData:S}=z(),[_,B]=(0,t.useState)(null),[C,E]=(0,t.useState)([]),[x,I]=(0,t.useState)(1),[T,k]=(0,t.useState)(!1),[U,F]=(0,t.useState)(0),[N,P]=(0,t.useState)(null),[L,O]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{if(null===w||void 0===w||!w.uid)return console.log("\ud83d\udd0d Upgrade Component - No user found, clearing plan data"),P(null),void O(!1);try{console.log("\ud83d\udd04 Upgrade Component - Loading from database ONLY (no localStorage)"),O(!0);const e=w.uid,t=await fetch(`${R.A.PYTHON_API_URL}/get-user-profile/${e}`);let n=null;if(t.ok){const e=await t.json();if(console.log("\ud83d\udd0d Upgrade - User profile data (single source):",e),e.subscription){const t=e.subscription,r=t.adsUsed||e["subscription.adsUsed"]||0;n={planType:t.planType,planName:t.planName,adQuota:t.adQuota,adsUsed:r,subscriptionStartDate:t.subscriptionStartDate,subscriptionEndDate:t.subscriptionEndDate,paymentStatus:t.paymentStatus,totalPrice:t.totalPrice,selectedFeatures:t.selectedFeatures||t.features||[],validityDays:t.validityDays,isActive:!1!==t.isActive,subscribed:!1!==t.subscribed},console.log("\u2705 Upgrade - Subscription data extracted from single source:",n)}else console.log("\u26a0\ufe0f Upgrade - No subscription data found in user profile")}console.log("\ud83d\udd0d Upgrade - Final effectiveSubscription (database only):",n);let r=null;if(n&&n.isActive){const e={Incivus_Lite:"lite",Incivus_Plus:"plus",Incivus_Pro:"pro",Enterprise:"enterprise",incivus_lite:"lite",incivus_plus:"plus",incivus_pro:"pro",enterprise:"enterprise"};console.log("\ud83d\udd0d Upgrade Component - effectiveSubscription structure:",{planType:n.planType,planName:n.planName});let t=n.planType||n.planName;console.log("\ud83d\udd0d Upgrade Component - Raw plan type before mapping:",t),e[t]?(t=e[t],console.log("\ud83d\udd0d Upgrade Component - Plan type after mapping:",t)):console.log("\u26a0\ufe0f Upgrade Component - No mapping found for plan type:",t),r=t?t.toLowerCase():null,console.log("\u2705 Upgrade Component - Final mapped plan type:",{originalPlan:n.planType||n.planName,mappedPlan:r,planHierarchyIndex:r?M.indexOf(r):-1})}else console.log("\u26a0\ufe0f Upgrade Component - No plan data found in database or localStorage");P(r),console.log("\ud83c\udfaf Upgrade Component - State updated with actualCurrentPlan:",r)}catch(e){console.error("\u274c Upgrade Component - Error loading plan data:",e),P(null),console.log("\u26a0\ufe0f Upgrade Component - Database failed, treating as new user with no plan")}finally{O(!1)}})()},[null===w||void 0===w?void 0:w.uid,S]);const D=[{id:"brand_compliance",name:"Brand Compliance",description:"Ensure your ads match brand guidelines",icon:(0,j.jsx)(fe,{size:20})},{id:"messaging_intent",name:"Messaging Intent",description:"Analyze message clarity and purpose",icon:(0,j.jsx)(ge,{size:20})},{id:"funnel_compatibility",name:"Funnel Compatibility",description:"Check ad fit in sales funnel stage",icon:(0,j.jsx)(me,{size:20})},{id:"resonance_index",name:"Resonance Index with Purchase Intent",description:"Measure audience engagement potential",icon:(0,j.jsx)(ye,{size:20})},{id:"channel_compliance",name:"Channel Compliance",description:"Optimize for specific platforms",icon:(0,j.jsx)(ve,{size:20})}],M=["lite","plus","pro","enterprise"],Q={lite:4,plus:5,pro:11,enterprise:999},H=(e,t)=>{if(!e||!N)return Q[t]||0;return(Q[e]||0)+(Q[t]||0)},V={lite:{name:"Incivus_Lite",validity:"3 months",pricePerAd:5,minOrderQty:10,minCommitment:50,maxAdsPerMonth:4,maxAdsTotal:12,featuresIncluded:4,maxFeatures:4,color:"#28a745",popular:!1,upgradeClickbait:"get all 5 metrics and do more ads per month"},plus:{name:"Incivus_Plus",validity:"6 months",pricePerAd:4,minOrderQty:25,minCommitment:100,maxAdsPerMonth:5,maxAdsTotal:30,featuresIncluded:5,maxFeatures:5,color:"#007bff",popular:!0,upgradeClickbait:"get all 5 metrics and do more ads per month"},pro:{name:"Incivus_Pro",validity:"12 months",pricePerAd:3.2,minOrderQty:125,minCommitment:400,maxAdsPerMonth:11,maxAdsTotal:132,featuresIncluded:5,maxFeatures:5,color:"#6f42c1",popular:!1,upgradeClickbait:"Unlimited Ads, Managed Support, Professional Services"},enterprise:{name:"Enterprise",validity:"Custom",pricePerAd:0,minOrderQty:0,minCommitment:0,maxAdsPerMonth:"Unlimited",maxAdsTotal:"Unlimited",featuresIncluded:5,maxFeatures:5,color:"#f59e0b",popular:!1,external:!0,externalLink:"https://incivus.ai/",upgradeClickbait:"Custom Enterprise Solutions"}};(0,t.useEffect)(()=>{if(!_)return;const e=V[_]||{};let t=0;if("lite"===_){const n=e.minOrderQty,r=Math.max(x,n);t=(0,G.yi)(r,e.pricePerAd)}else if("plus"===_){const n=e.minOrderQty,r=Math.max(x,n);t=(0,G.yi)(r,e.pricePerAd)}else if("pro"===_){const n=e.minOrderQty,r=Math.max(x,n);t=(0,G.yi)(r,e.pricePerAd)}F(t)},[_,x,C]);return L?(0,j.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"2rem",textAlign:"center"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",padding:"3rem"},children:[(0,j.jsx)("div",{style:{width:"24px",height:"24px",border:"3px solid #f3f3f3",borderTop:"3px solid #7c3aed",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,j.jsx)("span",{style:{fontSize:"1.1rem",color:"#666"},children:"Loading your current plan..."})]}),(0,j.jsx)("style",{children:"\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          "})]}):(0,j.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"2rem"},children:[(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[(0,j.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1rem"},children:"Choose Your Incivus Plan"}),(0,j.jsx)("p",{style:{fontSize:"1.1rem",color:"#2c3e50",maxWidth:"600px",margin:"0 auto",marginBottom:"1rem"},children:"Select the plan that best fits your advertising analysis needs. Choose your features and ad quota to get started."}),N&&(0,j.jsxs)("div",{style:{background:"#f0fdf4",border:"1px solid #10b981",borderRadius:"8px",padding:"0.75rem 1rem",maxWidth:"600px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.9rem",color:"#065f46"},children:[(0,j.jsx)(W,{size:16}),"Your current plan is highlighted in green below"]})]}),(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem",marginBottom:"3rem"},children:!L&&Object.entries((()=>{const e=N;if(console.log("\ud83d\udd0d Upgrade Component - getAvailablePlans called with:",{actualCurrentPlan:N,userCurrentPlan:e,loading:L,planHierarchy:M}),!e)return console.log("\ud83d\udd0d Upgrade Component - No current plan found, showing all plans"),console.log("\ud83d\udd0d Upgrade Component - Reason: actualCurrentPlan is:",N),console.log("\ud83d\udd0d Upgrade Component - Loading state:",L),L?(console.log("\ud83d\udd0d Upgrade Component - Still loading, returning empty plans"),{}):(console.log("\ud83d\udd0d Upgrade Component - Not loading and no plan found, showing all plans for new user"),V);const t=M.indexOf(e),n={};return M.forEach((e,r)=>{r>=t&&V[e]&&(n[e]=V[e])}),console.log("\ud83d\udd0d Upgrade Component - Available plans (DB only):",{userCurrentPlan:e,currentIndex:t,availablePlans:Object.keys(n),databaseSource:!0}),n})()).map(e=>{let[t,n]=e;if(!n||"object"!==typeof n)return console.warn(`Invalid plan object for key: ${t}`,n),null;const r=N&&t===N;return console.log(`\ud83c\udfa8 Upgrade Component - Plan ${t} highlighting:`,{planKey:t,actualCurrentPlan:N,isCurrentPlan:r,comparison:`${t} === ${N}`,willHighlight:r}),(0,j.jsxs)("div",{onClick:()=>(e=>{B(e),E([]),"lite"===e?(I(V.lite.minOrderQty),k(!0)):"plus"===e?(I(V.plus.minOrderQty),k(!1),E(D.map(e=>e.id))):"pro"===e?(I(V.pro.minOrderQty),k(!1),E(D.map(e=>e.id))):k(!1)})(t),style:{border:r?"3px solid #10b981":_===t?`3px solid ${n.color}`:"2px solid #e9ecef",borderRadius:"12px",padding:"2rem",cursor:"pointer",transition:"all 0.3s ease",background:r?"#f0fdf4":_===t?"var(--ultra-light-purple)":"var(--very-light-purple)",position:"relative",boxShadow:r?"0 8px 25px #10b98130":_===t?`0 8px 25px ${n.color}30`:"0 4px 6px rgba(0,0,0,0.1)"},children:[n.popular&&(0,j.jsx)("div",{style:{position:"absolute",top:"-10px",right:"20px",background:n.color,color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold"},children:"\ud83d\udd25 POPULAR"}),r&&(0,j.jsxs)("div",{style:{position:"absolute",top:"-10px",left:"20px",background:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,j.jsx)(W,{size:12}),"CURRENT PLAN"]}),(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,j.jsxs)("h3",{style:{fontSize:"1.8rem",fontWeight:"bold",color:v&&t===v?"#10b981":n.color,marginBottom:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v&&t===v&&(0,j.jsx)(W,{size:24}),n.name]}),(0,j.jsx)("div",{style:{background:n.color,color:"white",padding:"0.5rem 1rem",borderRadius:"20px",display:"inline-block",fontSize:"0.9rem",fontWeight:"bold"},children:"enterprise"===t?"Custom Solutions":`Valid for ${n.validity}`})]}),(0,j.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,j.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1rem"},children:"Features Included:"}),(0,j.jsxs)("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:n.color},children:"enterprise"===t?"Custom":`${n.featuresIncluded}/5`}),(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50"},children:"Analysis Features"}),(0,j.jsx)("div",{style:{fontSize:"0.8rem",color:"#6c757d",marginTop:"0.5rem"},children:N?(0,j.jsxs)(j.Fragment,{children:["Max: ",H(N.planType,t)," ads/month",(0,j.jsxs)("div",{style:{fontSize:"0.75rem",color:"#28a745",marginTop:"0.2rem"},children:["(",Q[N.planType]||0," current + ",n.maxAdsPerMonth," new)"]})]}):`Max: ${n.maxAdsPerMonth} ads/month`})]})]}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"1rem",background:r?"#10b981":_===t?n.color:"#f8f9fa",color:r||_===t?"white":"#2c3e50",borderRadius:"8px",fontWeight:"bold"},children:[r||_===t?(0,j.jsx)(W,{size:20}):(0,j.jsx)(be,{size:20}),r?"Current Plan":_===t?"Selected":"Select Plan"]})]},t)})}),"lite"===_&&T&&(0,j.jsxs)("div",{style:{background:"#f8f9fa",border:"2px solid #28a745",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#28a745",marginBottom:"1rem",textAlign:"center"},children:"\ud83c\udfaf Select Your 4 Features (One-Time Choice)"}),(0,j.jsx)("p",{style:{textAlign:"center",color:"#2c3e50",marginBottom:"2rem"},children:"Choose 4 out of 5 features. This selection cannot be changed until your subscription renewal."}),(0,j.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:D.map(e=>(0,j.jsxs)("div",{onClick:()=>{return t=e.id,void("lite"===_&&E(e=>e.includes(t)?e.filter(e=>e!==t):e.length<4?[...e,t]:e));var t},style:{border:C.includes(e.id)?"2px solid #28a745":"2px solid #e9ecef",borderRadius:"8px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease",background:C.includes(e.id)?"#d4edda":"var(--very-light-purple)",opacity:!C.includes(e.id)&&C.length>=4?.5:1,pointerEvents:!C.includes(e.id)&&C.length>=4?"none":"auto"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.icon,(0,j.jsx)("h4",{style:{fontSize:"1.1rem",fontWeight:"bold",color:C.includes(e.id)?"#28a745":"#2c3e50",margin:0},children:e.name}),C.includes(e.id)&&(0,j.jsx)(W,{size:20,color:"#28a745"})]}),(0,j.jsx)("p",{style:{color:"#2c3e50",fontSize:"0.9rem",margin:0},children:e.description})]},e.id))}),(0,j.jsxs)("div",{style:{textAlign:"center",marginTop:"1.5rem",padding:"1rem",background:4===C.length?"#d4edda":"#fff3cd",border:4===C.length?"1px solid #c3e6cb":"1px solid #ffeaa7",borderRadius:"8px"},children:[(0,j.jsxs)("strong",{children:["Selected: ",C.length,"/4 features"]}),C.length<4&&(0,j.jsxs)("div",{style:{color:"#856404",marginTop:"0.5rem"},children:["Please select ",4-C.length," more feature",4-C.length!==1?"s":""]})]})]}),_&&"enterprise"!==_&&(0,j.jsxs)("div",{style:{background:"var(--very-light-purple)",border:"2px solid #e9ecef",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1rem",textAlign:"center"},children:"\ud83d\udcca Select Number of Ads"}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,j.jsx)("button",{onClick:()=>{var e;return I(Math.max((null===(e=V[_])||void 0===e?void 0:e.minOrderQty)||1,x-1))},disabled:x<=((null===(n=V[_])||void 0===n?void 0:n.minOrderQty)||1),style:{background:"#6c757d",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:x<=((null===(r=V[_])||void 0===r?void 0:r.minOrderQty)||1)?"not-allowed":"pointer",fontSize:"1.2rem"},children:"\u2212"}),(0,j.jsx)("div",{style:{border:"2px solid #e9ecef",borderRadius:"8px",padding:"1rem 2rem",fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",minWidth:"80px",textAlign:"center"},children:x}),(0,j.jsx)("button",{onClick:()=>{var e;const t=(null===(e=V[_])||void 0===e?void 0:e.maxAdsTotal)||12;x<t&&I(x+1)},disabled:x>=((null===(o=V[_])||void 0===o?void 0:o.maxAdsTotal)||12),style:{background:x>=((null===(i=V[_])||void 0===i?void 0:i.maxAdsTotal)||12)?"#ccc":(null===(a=V[_])||void 0===a?void 0:a.color)||"#6c757d",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:x>=((null===(s=V[_])||void 0===s?void 0:s.maxAdsTotal)||12)?"not-allowed":"pointer",fontSize:"1.2rem"},children:"+"})]}),(0,j.jsxs)("div",{style:{textAlign:"center",color:"#2c3e50"},children:["You can upload and analyze up to ",(0,j.jsx)("strong",{children:x})," ad",1!==x?"s":"",(0,j.jsx)("br",{}),(0,j.jsxs)("small",{style:{color:"#6c757d",fontSize:"0.85rem"},children:["Max allowed for ",null===(l=V[_])||void 0===l?void 0:l.name,": ",(0,j.jsxs)("strong",{children:[(null===(A=V[_])||void 0===A?void 0:A.maxAdsTotal)||12," ads"]})]}),(0,j.jsx)("br",{}),(0,j.jsxs)("small",{style:{color:"#28a745",fontWeight:"bold"},children:["Minimum Order: ",null===(c=V[_])||void 0===c?void 0:c.minOrderQty," ads at ",(0,G.vv)(null===(u=V[_])||void 0===u?void 0:u.pricePerAd),"/ad",(0,j.jsx)("br",{}),"Min Commitment: ",(0,G.vv)(null===(d=V[_])||void 0===d?void 0:d.minCommitment)]})]})]}),_&&"enterprise"!==_&&(0,j.jsxs)("div",{style:{background:"#f8f9fa",border:"2px solid #6c757d",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"1.5rem",textAlign:"center"},children:"\ud83d\udcb0 Pricing Summary"}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[(0,j.jsxs)("div",{style:{background:"var(--very-light-purple)",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Plan"}),(0,j.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:(null===(p=V[_])||void 0===p?void 0:p.color)||"#6c757d"},children:(null===(h=V[_])||void 0===h?void 0:h.name)||"Unknown Plan"})]}),(0,j.jsxs)("div",{style:{background:"var(--very-light-purple)",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Features"}),(0,j.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#2c3e50"},children:["lite"===_?C.length:"5","/5"]})]}),(0,j.jsxs)("div",{style:{background:"var(--very-light-purple)",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Ad Quota"}),(0,j.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#2c3e50"},children:[x," ad",1!==x?"s":""]})]}),(0,j.jsxs)("div",{style:{background:"var(--very-light-purple)",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",color:"#2c3e50",marginBottom:"0.5rem"},children:"Validity"}),(0,j.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#2c3e50"},children:(null===(f=V[_])||void 0===f?void 0:f.validity)||"3 months"})]})]}),(0,j.jsxs)("div",{style:{background:(null===(g=V[_])||void 0===g?void 0:g.color)||"#6c757d",color:"white",padding:"1.5rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Total Amount"}),(0,j.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold"},children:(0,G.vv)(U)}),(0,j.jsxs)("div",{style:{fontSize:"0.9rem",opacity:.9},children:["One-time payment \u2022 Valid for ",(null===(m=V[_])||void 0===m?void 0:m.validity)||"3 months"]})]})]}),_&&(0,j.jsxs)("div",{style:{textAlign:"center"},children:[(0,j.jsx)("button",{onClick:async()=>{var e,t,n;if(!_)return void alert("Please select a plan");if("enterprise"===_)return void(window.location.href=(null===(n=V[_])||void 0===n?void 0:n.externalLink)||"https://incivus.ai/");if("lite"===_&&4!==C.length)return void alert("Please select exactly 4 features for Incivus Lite");if(x<1)return void alert("Please select at least 1 ad");let r=!1,o=!1;if(N&&null!==w&&void 0!==w&&w.uid)try{const e=await fetch(`${R.A.PYTHON_API_URL}/get-user-profile/${w.uid}`),t=await e.json(),n=null===t||void 0===t?void 0:t.subscription;if(console.log("\ud83d\udd0d Upgrade - Current subscription for topup/upgrade detection:",n),n&&"completed"===n.paymentStatus){const e=n.planType,t=_;if(e===t)r=!0,console.log("\ud83d\udd04 Upgrade - Detected TOPUP (same plan):",t);else{const n=["lite","plus","pro","enterprise"],r=n.indexOf(e);n.indexOf(t)>r&&(o=!0,console.log("\u2b06\ufe0f Upgrade - Detected UPGRADE:",`${e} \u2192 ${t}`))}}}catch(a){console.error("\u274c Upgrade - Error detecting topup/upgrade:",a)}const i={planType:_,planName:(null===(e=V[_])||void 0===e?void 0:e.name)||"Unknown Plan",features:C,adQuota:x,max_ads_per_month:N?H(N.planType,_):Q[_]||4,totalPrice:U,validity:(null===(t=V[_])||void 0===t?void 0:t.validity)||"3 months",validityDays:"lite"===_?90:"plus"===_?180:365,subscriptionStartDate:new Date,subscriptionEndDate:new Date(Date.now()+24*("lite"===_?90:"plus"===_?180:365)*60*60*1e3),isTopup:r,isUpgrade:o};console.log("\ud83c\udfaf Upgrade - Final planData with flags:",i),b(i)},disabled:"lite"===_&&4!==C.length,style:{background:"lite"===_&&4!==C.length?"#ccc":(null===(y=V[_])||void 0===y?void 0:y.color)||"#6c757d",color:"white",border:"none",borderRadius:"8px",padding:"1rem 3rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"lite"===_&&4!==C.length?"not-allowed":"pointer",transition:"all 0.3s ease"},children:"enterprise"===_?"\ud83d\ude80 Visit incivus.ai":`Continue to Payment \u2192 ${(0,G.vv)(U)}`}),"lite"===_&&4!==C.length&&(0,j.jsx)("div",{style:{color:"#dc3545",marginTop:"1rem",fontSize:"0.9rem"},children:"Please select exactly 4 features to continue"})]})]})},Tu=k("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ku=k("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Uu=k("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fu=k("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Nu=e=>{let{refreshTrigger:n}=e;const{currentUser:r}=z(),[o,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{null!==r&&void 0!==r&&r.uid&&l()},[r,n]);const l=async()=>{try{s(!0);const t=null===r||void 0===r?void 0:r.uid;if(!t)return;console.log("\ud83d\udd0d SubscriptionStatus - Loading via getUserSubscription API...");const n=await Ms(t);if(console.log("\ud83d\udd0d SubscriptionStatus - Subscription data from API:",n),n){var e;const t={lite:4,plus:5,pro:11,enterprise:999},r=null===(e=n.planType)||void 0===e?void 0:e.toLowerCase();let o=n.max_ads_per_month||t[r]||0;if("pro"===r){const e=n.adQuota||0;if(e>132){const t=e-132;t>=25&&t<=35?(o=16,console.log(`\ud83d\udd27 SubscriptionStatus - Detected Pro upgrade from Plus: monthly limit 5+11=${o}`)):t>=8&&t<=15&&(o=15,console.log(`\ud83d\udd27 SubscriptionStatus - Detected Pro upgrade from Lite: monthly limit 4+11=${o}`))}}else if("plus"===r){const e=n.adQuota||0;if(e>30){const t=e-30;t>=8&&t<=15&&(o=9,console.log(`\ud83d\udd27 SubscriptionStatus - Detected Plus upgrade from Lite: monthly limit 4+5=${o}`))}}n.max_ads_per_month&&n.max_ads_per_month!==o&&console.log(`\ud83d\udd27 SubscriptionStatus - Corrected max_ads_per_month: ${n.max_ads_per_month} \u2192 ${o} for plan ${r}`);const a={planType:n.planType,planName:n.planName,adQuota:n.adQuota,adsUsed:n.adsUsed||0,remainingAds:Math.max(0,n.adQuota||0),subscriptionStartDate:n.subscriptionStartDate,subscriptionEndDate:n.subscriptionEndDate,paymentStatus:n.paymentStatus,totalPrice:n.totalPrice,selectedFeatures:n.selectedFeatures||n.features||[],validityDays:n.validityDays,isActive:!1!==n.isActive,subscribed:!1!==n.subscribed,maxAdsPerMonth:o,monthlyUsed:n.adsUsed||0,monthlyRemaining:Math.max(0,o-(n.adsUsed||0)),daysRemaining:n.subscriptionEndDate?Math.ceil((new Date(n.subscriptionEndDate)-new Date)/864e5):0};console.log("\u2705 SubscriptionStatus - Subscription data processed via API:",a),i(a)}else console.log("\u26a0\ufe0f SubscriptionStatus - No subscription data found via API"),i({isActive:!1,message:"No Active Subscription"})}catch(t){console.error("Error loading subscription status:",t),i({isActive:!1,message:"Error Loading Subscription"})}finally{s(!1)}};if(a)return(0,j.jsx)("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(ku,{size:16}),(0,j.jsx)("span",{children:"Loading subscription..."})]})});if(!o||!o.isActive)return(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, #fef2f2, #ffffff)",padding:"1.5rem",borderRadius:"16px",border:"2px solid #dc2626",boxShadow:"0 4px 6px rgba(220, 38, 38, 0.1)",marginBottom:"0.5rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,j.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #dc2626, #b91c1c)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(220, 38, 38, 0.3)"},children:(0,j.jsx)(Uu,{size:20,color:"white"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontWeight:"700",color:"#b91c1c",fontSize:"1.125rem",letterSpacing:"-0.025em"},children:"No Active Subscription"}),(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#dc2626",fontWeight:"500"},children:"Inactive Status"})]})]}),(0,j.jsxs)("div",{style:{background:"rgba(220, 38, 38, 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{color:"#b91c1c",fontWeight:"600"},children:"Action Required"}),(0,j.jsx)("div",{style:{color:"#dc2626",fontWeight:"700"},children:"Please select a plan to continue using Incivus"})]})]});const A={lite:"Incivus Lite",plus:"Incivus Plus",pro:"Incivus Pro",enterprise:"Enterprise"},c=Math.ceil((new Date(o.subscriptionEndDate)-new Date)/864e5);return(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, #f0fdf4, #ffffff)",padding:"1.5rem",borderRadius:"16px",border:"1px solid #22c55e",boxShadow:"0 4px 6px rgba(34, 197, 94, 0.1)",marginBottom:"0.5rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,j.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #22c55e, #16a34a)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.3)"},children:(0,j.jsx)(Re,{size:20,color:"white"})}),(0,j.jsxs)("div",{style:{flex:1},children:[(0,j.jsx)("div",{style:{fontWeight:"700",color:"#15803d",fontSize:"1.125rem",letterSpacing:"-0.025em"},children:A[o.planType]||o.planName}),(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#059669",fontWeight:"500"},children:"Active Subscription"})]}),(0,j.jsx)("button",{onClick:()=>window.location.reload(),style:{background:"#22c55e",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"background 0.2s"},onMouseOver:e=>e.target.style.background="#16a34a",onMouseOut:e=>e.target.style.background="#22c55e",title:"Refresh subscription data",children:"\ud83d\udd04 Refresh"})]}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem",fontSize:"0.875rem"},children:[(0,j.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{color:"#059669",fontWeight:"600"},children:"Plan"}),(0,j.jsx)("div",{style:{color:"#15803d",fontWeight:"700"},children:A[o.planType]||o.planName})]}),(0,j.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{color:"#059669",fontWeight:"600"},children:"Monthly Used"}),(0,j.jsxs)("div",{style:{color:"#15803d",fontWeight:"700"},children:[o.monthlyUsed||o.adsUsed,"/",o.maxAdsPerMonth||"N/A"]})]}),(0,j.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{color:"#059669",fontWeight:"600"},children:"Ads Used"}),(0,j.jsx)("div",{style:{color:"#15803d",fontWeight:"700"},children:o.adsUsed||0})]}),(0,j.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{color:"#059669",fontWeight:"600"},children:"Days Left"}),(0,j.jsxs)("div",{style:{color:"#15803d",fontWeight:"700"},children:[c," days"]})]}),o.totalPrice&&(0,j.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"0.75rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{color:"#059669",fontWeight:"600"},children:"Amount"}),(0,j.jsx)("div",{style:{color:"#15803d",fontWeight:"700"},children:(0,G.vv)(o.totalPrice)})]})]}),(0,j.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px",fontSize:"0.8rem",color:"#059669"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,j.jsx)(Fu,{size:14}),(0,j.jsx)("strong",{children:"Subscription Details:"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Start:"})," ",new Date(o.subscriptionStartDate).toLocaleDateString()]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"End:"})," ",new Date(o.subscriptionEndDate).toLocaleDateString()]})]})]})},Pu=()=>{var e,n,r;const{currentUser:o,getUserProfileData:i,getUserPlanData:a}=z(),[s,l]=(0,t.useState)(null),[A,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[p,h]=(0,t.useState)(null),[f,g]=(0,t.useState)(!0),[m,y]=(0,t.useState)(null),[v,b]=(0,t.useState)(!1),[w,S]=(0,t.useState)({}),[_,B]=(0,t.useState)(!1),[C,E]=(0,t.useState)({open:!1,title:"",message:"",severity:"info"}),[x,I]=(0,t.useState)(0),T=async()=>{if(null!==o&&void 0!==o&&o.uid)try{console.log("\ud83d\udd04 Refreshing brand data for user:",o.uid);const e=await Q(o.uid);if(e&&e.brandId&&(!e.mediaFiles||0===e.mediaFiles.length)){console.log("\ud83d\udd0d No media files found, trying direct brand fetch by ID:",e.brandId);try{const t=await(0,lu.aq)(e.brandId);if(t&&t.mediaFiles)return console.log("\u2705 Found media files via direct fetch:",t.mediaFiles),void h({...e,...t})}catch(m){console.warn("\u26a0\ufe0f Direct brand fetch failed:",m)}}h(e),console.log("\u2705 Brand data refreshed:",e),console.log("\ud83d\uddbc\ufe0f Refreshed - logos:",null===e||void 0===e?void 0:e.logos),console.log("\ud83d\uddbc\ufe0f Refreshed - logoFiles:",null===e||void 0===e?void 0:e.logoFiles),console.log("\ud83d\uddbc\ufe0f Refreshed - mediaFiles:",null===e||void 0===e?void 0:e.mediaFiles),l(t=>{var n,r;return{...t,companyName:(null===t||void 0===t||null===(n=t.userProfile)||void 0===n?void 0:n.companyName)||(null===t||void 0===t?void 0:t.companyName)||(null===e||void 0===e?void 0:e.brandName),companySize:(null===t||void 0===t||null===(r=t.userProfile)||void 0===r?void 0:r.companySize)||(null===t||void 0===t?void 0:t.companySize),industryCategory:null===e||void 0===e?void 0:e.industryCategory,targetAudience:null===e||void 0===e?void 0:e.targetAudience,brandDescription:null===e||void 0===e?void 0:e.brandDescription}})}catch(m){console.error("\u274c Error refreshing brand data:",m)}};(0,t.useEffect)(()=>{const e=()=>{console.log("\ud83d\udd04 Brand setup completed, refreshing brand data..."),setTimeout(()=>{T()},1e3)};return window.addEventListener("brandSetupComplete",e),()=>{window.removeEventListener("brandSetupComplete",e)}},[]),(0,t.useEffect)(()=>{(async()=>{if(!o)return y("No authenticated user found"),void g(!1);try{var e,t,n,r,s,A,u,p,f;g(!0);const y=await i(o.uid),b=await a(o.uid),w=await Q(o.uid);let _={};try{console.log("\ud83d\udd0d UserProfile - Loading via getUserSubscription API...");const e=await Ms(o.uid);if(console.log("\ud83d\udd0d UserProfile - Subscription data from API:",e),e){var v;const t={lite:4,plus:5,pro:11,enterprise:999},n=null===(v=e.planType)||void 0===v?void 0:v.toLowerCase();let r=e.max_ads_per_month||t[n]||0;if("pro"===n){const t=e.adQuota||0;if(t>132){const e=t-132;e>=25&&e<=35?(r=16,console.log(`\ud83d\udd27 UserProfile - Detected Pro upgrade from Plus: monthly limit 5+11=${r}`)):e>=8&&e<=15&&(r=15,console.log(`\ud83d\udd27 UserProfile - Detected Pro upgrade from Lite: monthly limit 4+11=${r}`))}}else if("plus"===n){const t=e.adQuota||0;if(t>30){const e=t-30;e>=8&&e<=15&&(r=9,console.log(`\ud83d\udd27 UserProfile - Detected Plus upgrade from Lite: monthly limit 4+5=${r}`))}}e.max_ads_per_month&&e.max_ads_per_month!==r&&console.log(`\ud83d\udd27 UserProfile - Corrected max_ads_per_month: ${e.max_ads_per_month} \u2192 ${r} for plan ${n}`),_={planType:e.planType,planName:e.planName,adQuota:e.adQuota,adsUsed:e.adsUsed||0,subscriptionStartDate:e.subscriptionStartDate,subscriptionEndDate:e.subscriptionEndDate,paymentStatus:e.paymentStatus,totalPrice:e.totalPrice,selectedFeatures:e.selectedFeatures||e.features||[],validityDays:e.validityDays,isActive:!1!==e.isActive,subscribed:!1!==e.subscribed,maxAdsPerMonth:r,monthlyUsed:e.adsUsed||0,monthlyRemaining:Math.max(0,r-(e.adsUsed||0))},console.log("\u2705 UserProfile - Subscription data processed via API:",_)}else console.log("\u26a0\ufe0f UserProfile - No subscription data found via API")}catch(m){console.error("\u274c UserProfile - Error fetching subscription via API:",m)}const B={...y,fullName:(null===y||void 0===y||null===(e=y.userProfile)||void 0===e?void 0:e.fullName)||(null===y||void 0===y?void 0:y.fullName),companyName:(null===y||void 0===y||null===(t=y.userProfile)||void 0===t?void 0:t.companyName)||(null===y||void 0===y?void 0:y.companyName)||(null===w||void 0===w?void 0:w.brandName),companySize:(null===y||void 0===y||null===(n=y.userProfile)||void 0===n?void 0:n.companySize)||(null===y||void 0===y?void 0:y.companySize),industryCategory:null===w||void 0===w?void 0:w.industryCategory,targetAudience:null===w||void 0===w?void 0:w.targetAudience,brandDescription:null===w||void 0===w?void 0:w.brandDescription,subscription:b||_};l(B),c(b||_),h(w),S({...y,fullName:(null===y||void 0===y||null===(r=y.userProfile)||void 0===r?void 0:r.fullName)||(null===y||void 0===y?void 0:y.fullName),companyName:(null===y||void 0===y||null===(s=y.userProfile)||void 0===s?void 0:s.companyName)||(null===y||void 0===y?void 0:y.companyName)||(null===w||void 0===w?void 0:w.brandName),companySize:(null===y||void 0===y||null===(A=y.userProfile)||void 0===A?void 0:A.companySize)||(null===y||void 0===y?void 0:y.companySize),industryCategory:null===w||void 0===w?void 0:w.industryCategory,targetAudience:null===w||void 0===w?void 0:w.targetAudience,brandDescription:null===w||void 0===w?void 0:w.brandDescription}),d({uid:o.uid,email:o.email,displayName:o.displayName,photoURL:o.photoURL,emailVerified:o.emailVerified,createdAt:o.metadata.creationTime,lastSignIn:o.metadata.lastSignInTime,providerId:(null===(u=o.providerData)||void 0===u||null===(p=u[0])||void 0===p?void 0:p.providerId)||"email"}),console.log("\ud83d\udc64 Profile loaded:",B),console.log("\ud83d\udcb3 Plan data:",b),console.log("\ud83d\udd10 Auth data:",o),console.log("\ud83c\udff7\ufe0f Brand data:",w),console.log("\ud83c\udfe2 Company Size Debug:",{profileData:y,"userProfile.companySize":null===y||void 0===y||null===(f=y.userProfile)||void 0===f?void 0:f.companySize,"profile.companySize":null===y||void 0===y?void 0:y.companySize,"enhanced.companySize":B.companySize}),console.log("\ud83d\uddbc\ufe0f Brand logos (logos):",null===w||void 0===w?void 0:w.logos),console.log("\ud83d\udd0d Enhanced profile subscription:",B.subscription),console.log("\ud83d\udd0d Local storage subscription:",_),console.log("\ud83d\uddbc\ufe0f Brand logos (logoFiles):",null===w||void 0===w?void 0:w.logoFiles),console.log("\ud83d\uddbc\ufe0f Brand mediaFiles:",null===w||void 0===w?void 0:w.mediaFiles)}catch(yl){console.error("\u274c Error loading user data:",yl),y(yl.message)}finally{g(!1)}})()},[o,i,a]);const k=()=>{v&&S(s||{}),b(!v)},U=e=>{if(!e)return null;const t=e.split(",").map(e=>e.trim());return(0,j.jsx)("div",{className:"flex gap-2 items-center",children:t.map((e,t)=>(0,j.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-gray-200",style:{backgroundColor:e.startsWith("#")?e:`#${e}`},title:e},t))})};return f?(0,j.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,j.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m?(0,j.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,j.jsx)(Le,{className:"w-5 h-5"}),(0,j.jsx)("span",{className:"font-medium",children:"Error loading profile"})]}),(0,j.jsx)("p",{className:"text-red-700 mt-2",children:m})]}):(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"0",border:"1px solid rgba(124, 58, 237, 0.1)",boxShadow:"0 8px 32px rgba(124, 58, 237, 0.08)",overflow:"hidden"},children:[(0,j.jsx)(Eu,{open:C.open,title:C.title,message:C.message,severity:C.severity,onClose:()=>E({...C,open:!1})}),(0,j.jsx)("div",{style:{background:"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)",padding:"2rem",color:"white",position:"relative"},children:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[(0,j.jsx)("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",overflow:"hidden"},children:((null===s||void 0===s||null===(e=s.userProfile)||void 0===e?void 0:e.fullName)||(null===s||void 0===s?void 0:s.fullName)||(null===u||void 0===u?void 0:u.displayName)||(null===s||void 0===s?void 0:s.companyName)||"U")[0].toUpperCase()}),(0,j.jsxs)("div",{style:{flex:1},children:[(0,j.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:"0 0 0.25rem 0"},children:(null===s||void 0===s||null===(n=s.userProfile)||void 0===n?void 0:n.fullName)||(null===s||void 0===s?void 0:s.fullName)||(null===u||void 0===u?void 0:u.displayName)||(null===s||void 0===s?void 0:s.companyName)||"User"}),(0,j.jsx)("p",{style:{fontSize:"0.9rem",opacity:.9,margin:0},children:null===u||void 0===u?void 0:u.email})]}),(0,j.jsxs)("button",{onClick:k,style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",color:"white",cursor:"pointer",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)(Tu,{size:16}),"Edit Profile"]})]})}),(0,j.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,j.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,j.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"1rem"},children:"Personal Information"}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Full Name"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:(null===s||void 0===s||null===(r=s.userProfile)||void 0===r?void 0:r.fullName)||(null===s||void 0===s?void 0:s.fullName)||(null===u||void 0===u?void 0:u.displayName)||"Not provided"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Email"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:null===u||void 0===u?void 0:u.email})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Company Name"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:(null===s||void 0===s?void 0:s.companyName)||(null===u||void 0===u?void 0:u.displayName)||"Not provided"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Company Size"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:(null===s||void 0===s?void 0:s.companySize)||"Not provided"})]})]})]}),v&&(0,j.jsxs)("div",{style:{background:"white",borderRadius:"8px",border:"1px solid #e5e7eb",padding:"1.5rem",marginBottom:"1.5rem"},children:[(0,j.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"Edit Profile"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Company Size"}),(0,j.jsx)("input",{type:"text",name:"companySize",value:w.companySize||"",onChange:e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:n}))},style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"0.95rem"},placeholder:"Enter company size"})]}),(0,j.jsxs)("div",{style:{marginTop:"1rem",display:"flex",gap:"0.75rem"},children:[(0,j.jsx)("button",{onClick:async()=>{if(null!==o&&void 0!==o&&o.uid)try{B(!0),await(async(e,t)=>{const n={updates:t,timestamp:(new Date).toISOString()},r=await fetch(`${L}/updateUserProfileDetails/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP ${r.status}`);return!0})(o.uid,{companySize:w.companySize}),l(e=>({...e,companySize:w.companySize})),b(!1),E({open:!0,title:"Success",message:"Profile updated successfully!",severity:"success"})}catch(yl){console.error("Error saving profile:",yl),E({open:!0,title:"Error",message:`Failed to update profile: ${yl.message}`,severity:"error"})}finally{B(!1)}},disabled:_,style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1.5rem",fontWeight:"500",cursor:_?"not-allowed":"pointer",opacity:_?.7:1},children:_?"Saving...":"Save Changes"}),(0,j.jsx)("button",{onClick:k,style:{background:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1.5rem",fontWeight:"500",cursor:"pointer"},children:"Cancel"})]})]}),p?(0,j.jsxs)("div",{style:{background:"white",borderRadius:"8px",border:"1px solid #e5e7eb",padding:"1.5rem",marginBottom:"1.5rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,j.jsx)(Us,{style:{width:"1.5rem",height:"1.5rem",color:"#374151"}}),(0,j.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#374151",margin:0},children:"Brand Information"})]}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Brand Name"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:(null===p||void 0===p?void 0:p.brandName)||"Not specified"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Tagline"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:(null===p||void 0===p?void 0:p.tagline)||"Not specified"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Primary Color"}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("span",{style:{fontSize:"0.95rem",color:"#374151"},children:(null===p||void 0===p?void 0:p.primaryColor)||"Not specified"}),U(null===p||void 0===p?void 0:p.primaryColor)]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Secondary Color"}),(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("span",{style:{fontSize:"0.95rem",color:"#374151"},children:(null===p||void 0===p?void 0:p.secondaryColor)||"Not specified"}),U(null===p||void 0===p?void 0:p.secondaryColor)]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Tone of Voice"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:Array.isArray(null===p||void 0===p?void 0:p.toneOfVoice)?p.toneOfVoice.join(", "):(null===p||void 0===p?void 0:p.toneOfVoice)||"Not specified"})]}),(0,j.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Brand Logo"}),(0,j.jsx)("button",{onClick:T,style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",padding:"0.25rem 0.75rem",fontSize:"0.75rem",cursor:"pointer"},title:"Refresh brand data",children:"\ud83d\udd04 Refresh"})]}),(0,j.jsx)("div",{style:{width:"120px",height:"120px",border:"2px dashed #d1d5db",borderRadius:"12px",padding:"12px",background:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:((e,t,n,r)=>{console.log("\ud83d\uddbc\ufe0f Brand Logo Display - Checking sources..."),console.log("\ud83d\udcc1 Full brandData:",p),console.log("\ud83d\udcc1 brandData?.logos:",null===p||void 0===p?void 0:p.logos),console.log("\ud83d\udcc1 brandData?.logoFiles:",null===p||void 0===p?void 0:p.logoFiles),console.log("\ud83d\udcc1 brandData?.mediaFiles:",null===p||void 0===p?void 0:p.mediaFiles);const o=[null===p||void 0===p?void 0:p.logos,null===p||void 0===p?void 0:p.logoFiles,null===p||void 0===p||null===(e=p.mediaFiles)||void 0===e?void 0:e.filter(e=>"logo"===e.mediaType),null===p||void 0===p||null===(t=p.mediaFiles)||void 0===t?void 0:t.filter(e=>"logo"===e.type),null===p||void 0===p||null===(n=p.mediaFiles)||void 0===n?void 0:n.filter(e=>"logo"===e.category),null===p||void 0===p||null===(r=p.mediaFiles)||void 0===r?void 0:r.filter(e=>{var t;return null===(t=e.fileName)||void 0===t?void 0:t.toLowerCase().includes("logo")}),null===p||void 0===p?void 0:p.logo,null===p||void 0===p?void 0:p.logoFile,null===p||void 0===p?void 0:p.brandLogo,null===p||void 0===p?void 0:p.mediaFiles];console.log("\ud83d\udd0d Checking logo sources:",o.map((e,t)=>({sourceIndex:t,type:typeof e,isArray:Array.isArray(e),length:Array.isArray(e)?e.length:"N/A",hasData:!!e})));let i=null;for(let a=0;a<o.length;a++){const e=o[a];if(e){if(Array.isArray(e)&&e.length>0){i=e[0],console.log(`\u2705 Found logo data from source ${a} (array):`,i);break}if(!Array.isArray(e)&&"object"===typeof e){i=e,console.log(`\u2705 Found logo data from source ${a} (object):`,i);break}}}if(i){console.log("\ud83d\udcca Logo data properties:",Object.keys(i));const e=["preview","url","downloadURL","signedUrl","publicUrl","mediaUrl","imageUrl","src","base64Data","file","path","fullPath","webContentLink","webViewLink"];let t=null;for(const n of e)if(i[n]){t=i[n],console.log(`\ud83d\uddbc\ufe0f Found logo URL from property "${n}":`,t.substring(0,100)+"...");break}if(t||console.log("\u274c No valid URL property found in logo data:",i),t)return(0,j.jsx)("img",{src:t,alt:"Brand Logo",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},onError:e=>{console.error("\u274c Logo failed to load:",e),console.error("\u274c Failed URL:",t),e.target.style.display="none"},onLoad:()=>{console.log("\u2705 Logo loaded successfully")}})}return console.log("\u274c No valid logo source found, showing placeholder"),(0,j.jsxs)("div",{style:{textAlign:"center",color:"#6b7280"},children:[(0,j.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83c\udfe2"}),(0,j.jsx)("div",{style:{fontSize:"0.75rem",fontWeight:"500"},children:"No Logo Uploaded"}),(0,j.jsx)("div",{style:{fontSize:"0.675rem",opacity:.7,marginTop:"0.25rem"},children:"Upload in Brand Setup"})]})})()})]})]}),(null===p||void 0===p?void 0:p.brandDescription)&&(0,j.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Brand Description"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151",background:"#f9fafb",borderRadius:"8px",padding:"0.75rem",lineHeight:"1.5"},children:p.brandDescription})]})]}):(0,j.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[(0,j.jsx)(Us,{className:"w-5 h-5"}),(0,j.jsx)("h3",{className:"font-semibold",children:"Brand Information"})]}),(0,j.jsx)("p",{className:"text-sm text-gray-500",children:"No brand information available. Complete your brand setup to see details here."})]}),(0,j.jsx)(Nu,{planData:A,onCancelSubscription:async()=>{if(null!==o&&void 0!==o&&o.uid)try{B(!0),await(async(e,t)=>{const n={updates:t,timestamp:(new Date).toISOString()},r=await fetch(`${L}/updateUserProfileDetails/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP ${r.status}`);return!0})(o.uid,{isActive:!1,updatedAt:(new Date).toISOString()}),c(e=>({...e,isActive:!1})),E({open:!0,title:"Success",message:"Subscription cancelled successfully!",severity:"success"})}catch(yl){console.error("Error cancelling subscription:",yl),E({open:!0,title:"Error",message:`Failed to cancel subscription: ${yl.message}`,severity:"error"})}finally{B(!1)}},saving:_,refreshTrigger:x}),(0,j.jsxs)("div",{style:{background:"white",borderRadius:"8px",border:"1px solid #e5e7eb",padding:"1.5rem",marginBottom:"1.5rem"},children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,j.jsx)(fe,{style:{width:"1.5rem",height:"1.5rem",color:"#374151"}}),(0,j.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#374151",margin:0},children:"Authentication Information"})]}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"User ID"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151",fontFamily:"monospace"},children:null===u||void 0===u?void 0:u.uid})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Provider"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151",textTransform:"capitalize"},children:null===u||void 0===u?void 0:u.providerId})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Created"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:null!==u&&void 0!==u&&u.createdAt?new Date(u.createdAt).toLocaleDateString():"Unknown"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.25rem"},children:"Last Sign In"}),(0,j.jsx)("div",{style:{fontSize:"0.95rem",color:"#374151"},children:null!==u&&void 0!==u&&u.lastSignIn?new Date(u.lastSignIn).toLocaleDateString():"Unknown"})]})]})]})]})]})},Ru=e=>{var n,r,o,i,a,s,l,A;let{onResetFlow:c,onUpgradeFlow:u,setUserFlow:d,onInputFieldClick:p=()=>{},onAnalyzeAdClick:h=()=>{}}=e;const{currentUser:f,logout:g,checkUserCompletionStatus:m}=z(),[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)("dashboard");(0,t.useEffect)(()=>{"true"===localStorage.getItem("incivus_return_to_analysis")&&(localStorage.removeItem("incivus_return_to_analysis"),w("analysis"))},[]);const[S,_]=(0,t.useState)("lite"),[B,C]=(0,t.useState)(!1),[E,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("incivus_subscription")||"{}");let t=e.planType||e.plan||"lite";const n={Incivus_Lite:"lite",Incivus_Plus:"plus",Incivus_Pro:"pro",Enterprise:"enterprise",incivus_lite:"lite",incivus_plus:"plus",incivus_pro:"pro",enterprise:"enterprise"};n[t]&&(t=n[t]),t=t.toLowerCase(),_(t),console.log("\ud83c\udff7\ufe0f Dashboard Profile Debug:",{currentUser:f,subscription:e,originalPlanType:e.planType||e.plan,mappedPlanType:t,showProfilePopup:B})},[f]),(0,t.useEffect)(()=>{(async()=>{if(null!==f&&void 0!==f&&f.uid)try{console.log("\ud83d\udd04 Loading existing user data for dashboard...");const e=localStorage.getItem("incivus_user_profile"),t=localStorage.getItem("incivus_user_profile_details"),n=localStorage.getItem("incivus_subscription");if(e||t||n)return void console.log("\u2705 User data found in localStorage, no need to reload from database");console.log("\ud83d\udce5 Loading user data from database...");const r=await m(f.uid);r.userProfile&&(localStorage.setItem("incivus_user_profile",JSON.stringify(r.userProfile)),console.log("\u2705 User profile loaded from database")),r.userProfileDetails&&(localStorage.setItem("incivus_user_profile_details",JSON.stringify(r.userProfileDetails)),console.log("\u2705 User profile details loaded from database")),r.planDetails&&(localStorage.setItem("incivus_subscription",JSON.stringify(r.planDetails)),console.log("\u2705 Subscription details loaded from database")),console.log("\ud83c\udf89 All user data loaded successfully")}catch(e){console.error("\u274c Error loading existing user data:",e)}})()},[f]);const I=()=>{const e=JSON.parse(localStorage.getItem("incivus_subscription")||"{}");if("true"===localStorage.getItem("incivus_force_locked_results"))return console.log("\ud83d\udd12 Debug: Forcing locked results for testing"),!1;if("pro"===e.planType||"plus"===e.planType||"enterprise"===e.planType)return console.log("\ud83d\udd0d Pro/Plus/Enterprise plan detected - returning true"),!0;const t=e.planType&&"free"!==e.planType,n=!1!==e.isActive,r="completed"===e.paymentStatus||!0===e.subscribed,o=t&&n&&r;return console.log("\ud83d\udd0d Subscription check:",{planType:e.planType,isActive:n,paymentCompleted:r,hasSubscription:o}),o},T=(null===f||void 0===f||null===(n=f.email)||void 0===n?void 0:n.includes("admin"))||(null===f||void 0===f||null===(r=f.email)||void 0===r?void 0:r.includes("@incivus.ai"))||(null===f||void 0===f||null===(o=f.email)||void 0===o?void 0:o.includes("@c5i.ai")),k=(0,t.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,j.jsx)(Ee,{size:20}),color:"#7c3aed",bgColor:"rgba(124, 58, 237, 0.15)"},{id:"brand-setup",label:"Brand Setup",icon:(0,j.jsx)(xe,{size:20}),color:"#7c3aed",bgColor:"rgba(124, 58, 237, 0.15)"},{id:"analysis",label:"Analysis & Reports",icon:(0,j.jsx)(Ie,{size:20}),color:"#7c3aed",bgColor:"rgba(124, 58, 237, 0.15)"},{id:"libraries",label:"Libraries",icon:(0,j.jsx)(Te,{size:20}),color:"#7c3aed",bgColor:"rgba(124, 58, 237, 0.15)"},{id:"upgrade",label:"Upgrade",icon:(0,j.jsx)(ke,{size:20}),color:"#7c3aed",bgColor:"rgba(124, 58, 237, 0.15)"}],[T]),U=()=>{v(!y)},F=e=>{"logout"===e?N():w(e)},N=async()=>{try{await g(),localStorage.removeItem("incivus_subscription"),localStorage.removeItem("incivus_terms_accepted"),localStorage.removeItem("incivus_brand_config"),localStorage.removeItem("incivus_user_logged_in"),localStorage.removeItem("incivus_google_user"),localStorage.removeItem("incivus_user_complete"),window.location.reload()}catch(e){console.error("Logout error:",e)}},P=()=>(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, var(--card-purple) 0%, var(--card-lavender) 100%)",borderRadius:"24px",padding:"3rem",maxWidth:"600px",width:"100%",boxShadow:"0 20px 60px rgba(167, 139, 250, 0.15)",border:"2px solid rgba(167, 139, 250, 0.1)",overflow:"hidden",position:"relative",transition:"all 0.4s ease",textAlign:"center"},onMouseEnter:e=>{e.target.style.transform="translateY(-8px) scale(1.02)",e.target.style.boxShadow="0 30px 80px rgba(167, 139, 250, 0.25)"},onMouseLeave:e=>{e.target.style.transform="translateY(0px) scale(1)",e.target.style.boxShadow="0 20px 60px rgba(167, 139, 250, 0.15)"},children:[(0,j.jsx)("div",{style:{position:"absolute",top:"-50%",right:"-10%",width:"120px",height:"120px",background:"linear-gradient(45deg, var(--primary-purple-dark), var(--secondary-purple))",borderRadius:"50%",opacity:.1,animation:"float 6s ease-in-out infinite"}}),(0,j.jsx)("div",{style:{position:"absolute",bottom:"-30%",left:"-5%",width:"80px",height:"80px",background:"linear-gradient(45deg, var(--card-pink), var(--primary-purple))",borderRadius:"50%",opacity:.15,animation:"float 4s ease-in-out infinite reverse"}}),(0,j.jsx)("div",{style:{position:"relative",zIndex:2},children:(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"3rem",borderRadius:"20px",color:"white",textAlign:"center",marginBottom:"2rem",boxShadow:"0 20px 60px rgba(102, 126, 234, 0.3)",minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"4rem",marginBottom:"2rem",filter:"drop-shadow(0 8px 16px rgba(0,0,0,0.2))"},children:"\ud83d\ude80"}),(0,j.jsx)("h2",{style:{fontSize:"2.5rem",fontWeight:"700",marginBottom:"1.5rem",letterSpacing:"0.5px",textShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:"Incisive Insights with Incivus"}),(0,j.jsx)("p",{style:{fontSize:"1.3rem",opacity:"0.9",marginBottom:"3rem",lineHeight:"1.6",maxWidth:"600px"},children:"Unlock the power of Ad analysis and optimization"}),(0,j.jsx)("button",{onClick:async()=>{try{if(null!==f&&void 0!==f&&f.uid){const e=await m(f.uid),t=(null===e||void 0===e?void 0:e.brandSetupComplete)||(null===e||void 0===e?void 0:e.brandData)||(null===e||void 0===e?void 0:e.brandSetup)||"true"===localStorage.getItem("incivus_brand_setup_complete")||localStorage.getItem("incivus_brand_config");console.log("\ud83d\udd0d Brand setup check:",{completionStatus:e,brandSetupComplete:t,localStorage_brand_complete:localStorage.getItem("incivus_brand_setup_complete"),localStorage_brand_config:localStorage.getItem("incivus_brand_config")}),t?(console.log("\u2705 Brand setup complete - going to analysis"),w("analysis")):(console.log("\u26a0\ufe0f Brand setup not complete - going to brand setup"),w("brand-setup"))}else console.log("\u274c User not authenticated - going to brand setup"),w("brand-setup")}catch(e){console.error("Error checking brand setup status:",e),w("brand-setup")}},style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",color:"white",border:"none",borderRadius:"16px",padding:"1.2rem 3rem",fontSize:"1.2rem",fontWeight:"700",cursor:"pointer",boxShadow:"0 12px 32px rgba(139, 92, 246, 0.4)",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"0.75rem",minWidth:"300px",justifyContent:"center"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 16px 40px rgba(139, 92, 246, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 12px 32px rgba(139, 92, 246, 0.4)"},children:"\ud83d\udce4 UPLOAD YOUR ADS NOW"})]})}),(0,j.jsx)("style",{children:"\n            @keyframes float {\n              0%, 100% { transform: translateY(0px) rotate(0deg); }\n              50% { transform: translateY(-20px) rotate(180deg); }\n            }\n            \n            /* Navigation Button Hover Effects */\n            .nav-button:not(.nav-button-active):hover {\n              background: rgba(124, 58, 237, 0.15) !important;\n              border-color: rgba(124, 58, 237, 0.25) !important;\n              transform: translateY(-1px) !important;\n            }\n            \n            .nav-button:not(.nav-button-active):focus {\n              background: transparent !important;\n              border-color: transparent !important;\n              transform: translateY(0px) !important;\n            }\n            \n            .nav-button:not(.nav-button-active) {\n              background: transparent !important;\n              border-color: transparent !important;\n              transform: translateY(0px) !important;\n            }\n          "})]})});return(0,j.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"var(--white)"},children:[(0,j.jsxs)("div",{style:{width:y?"70px":"280px",background:"linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderRight:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"4px 0 24px rgba(0, 0, 0, 0.1)",transition:"width 0.3s ease",display:"flex",flexDirection:"column",height:"100vh",position:"fixed",top:0,left:0,zIndex:100},children:[(0,j.jsxs)("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(91, 33, 182, 0.1)",display:"flex",alignItems:"center",justifyContent:y?"center":"space-between",flexDirection:y?"column":"row",gap:y?"0.5rem":"0"},children:[(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,j.jsx)("img",{src:"/logo/C5i name with Logo.svg",alt:"C5i Logo",style:{height:y?"28px":"45px",width:"auto",maxWidth:y?"45px":"200px",display:"block",transition:"all 0.3s ease",transform:y?"scale(0.9)":"scale(1)",objectFit:"contain"}})}),!y&&(0,j.jsx)("button",{onClick:U,style:{background:"linear-gradient(135deg, rgba(91, 33, 182, 0.1), rgba(107, 33, 168, 0.1))",border:"1px solid rgba(91, 33, 182, 0.2)",borderRadius:"8px",cursor:"pointer",color:"#5b21b6",padding:"0.5rem",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="#5b21b6",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, rgba(91, 33, 182, 0.1), rgba(107, 33, 168, 0.1))",e.target.style.color="#5b21b6"},children:(0,j.jsx)(Ue,{size:20})}),y&&(0,j.jsx)("button",{onClick:U,style:{background:"linear-gradient(135deg, rgba(91, 33, 182, 0.1), rgba(107, 33, 168, 0.1))",border:"1px solid rgba(91, 33, 182, 0.2)",borderRadius:"8px",cursor:"pointer",color:"#5b21b6",padding:"0.5rem",transition:"all 0.2s ease",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{e.target.style.background="#5b21b6",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, rgba(91, 33, 182, 0.1), rgba(107, 33, 168, 0.1))",e.target.style.color="#5b21b6"},children:(0,j.jsx)(Fe,{size:18})})]}),(0,j.jsx)("nav",{style:{flex:1,padding:"1rem 0"},children:(0,j.jsxs)("ul",{style:{listStyle:"none",padding:0,margin:0},children:[(k||[]).filter(e=>e&&e.id&&e.color).map(e=>(0,j.jsx)("li",{style:{margin:"0.5rem 0"},children:(0,j.jsxs)("button",{onClick:()=>F(e.id),className:"nav-button "+(b===e.id?"nav-button-active":""),style:{width:y?"48px":"calc(100% - 2rem)",height:y?"48px":"auto",padding:y?"0":"1rem 1.5rem",margin:y?"0 auto":"0 1rem",background:b===e.id?`linear-gradient(135deg, ${e.color||"#7c3aed"}, ${e.color||"#7c3aed"}dd)`:"transparent",color:b===e.id?"white":e.color||"#7c3aed",border:`2px solid ${b===e.id?e.color||"#7c3aed":"transparent"}`,borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:y?"center":"flex-start",gap:y?"0":"0.75rem",fontSize:"0.875rem",fontWeight:b===e.id?"600":"500",transition:"all 0.3s ease",textAlign:"left",boxShadow:b===e.id?`0 4px 12px ${e.color||"#7c3aed"}40`:"none",position:"relative"},title:y&&e.label||"",children:[(0,j.jsx)("div",{style:{color:b===e.id?"white":e.color||"#7c3aed",display:"flex",alignItems:"center",justifyContent:"center"},children:e.icon}),!y&&(0,j.jsx)("span",{style:{marginLeft:"0.75rem"},children:e.label||""})]})},e.id)),(0,j.jsx)("li",{style:{margin:"0.5rem 0"},children:(0,j.jsxs)("button",{onClick:()=>F("profile"),style:{width:y?"48px":"calc(100% - 2rem)",height:y?"48px":"auto",margin:y?"0 auto":"0 1rem",background:"profile"===b?"linear-gradient(135deg, #7c3aed, #7c3aeddd)":"transparent",border:"2px solid "+("profile"===b?"#7c3aed":"transparent"),borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:y?"center":"flex-start",gap:y?"0":"0.75rem",padding:y?"0":"1rem 1.5rem",fontSize:"0.875rem",fontWeight:"profile"===b?"600":"500",transition:"all 0.3s ease",textAlign:"left",boxShadow:"profile"===b?"0 4px 12px #7c3aed40":"none",position:"relative"},title:y?"Profile":"",onMouseEnter:e=>{"profile"!==b&&(e.target.style.background="rgba(124, 58, 237, 0.15)",e.target.style.borderColor="rgba(124, 58, 237, 0.25)",e.target.style.transform="translateY(-1px)")},onMouseLeave:e=>{"profile"!==b&&(e.target.style.background="transparent",e.target.style.borderColor="transparent",e.target.style.transform="translateY(0px)")},children:[null!==f&&void 0!==f&&f.photoURL?(0,j.jsx)("img",{src:f.photoURL,alt:"Profile",style:{width:y?"32px":"20px",height:y?"32px":"20px",borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(91, 33, 182, 0.3)"}}):(0,j.jsx)("div",{style:{width:y?"32px":"20px",height:y?"32px":"20px",borderRadius:"50%",background:"linear-gradient(135deg, #5b21b6, #6b21a8)",border:"2px solid rgba(91, 33, 182, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:y?"0.875rem":"0.75rem",fontWeight:"600"},children:(null===f||void 0===f||null===(i=f.displayName)||void 0===i?void 0:i[0])||(null===f||void 0===f||null===(a=f.email)||void 0===a?void 0:a[0])||"U"}),!y&&(0,j.jsx)("span",{style:{marginLeft:"0.75rem",color:"profile"===b?"white":"#7c3aed"},children:(null===f||void 0===f?void 0:f.displayName)||(null===f||void 0===f?void 0:f.email)||"User"})]})})]})}),(0,j.jsx)("div",{style:{marginTop:"auto",padding:y?"1rem 0.5rem":"1rem 1.5rem",borderTop:"1px solid rgba(239, 68, 68, 0.1)"},children:(0,j.jsxs)("button",{onClick:()=>F("logout"),style:{width:"100%",background:"transparent",color:"#ef4444",border:"2px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:y?"center":"flex-start",gap:y?"0":"0.75rem",padding:y?"0.75rem":"0.75rem 1rem",fontSize:"0.875rem",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.background="rgba(239, 68, 68, 0.15)",e.target.style.borderColor="rgba(239, 68, 68, 0.25)",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.borderColor="transparent",e.target.style.transform="translateY(0px)"},children:[(0,j.jsx)(Ne,{size:20}),!y&&(0,j.jsx)("span",{children:"Logout"})]})})]}),B&&(0,j.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>C(!1),children:(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderRadius:"20px",boxShadow:"0 25px 50px -12px rgba(124, 58, 237, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2)",padding:"2rem",minWidth:"280px",maxWidth:"320px",margin:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)"},onClick:e=>e.stopPropagation(),children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-gray)"},children:[null!==f&&void 0!==f&&f.photoURL?(0,j.jsx)("img",{src:f.photoURL,alt:"Profile",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}):(0,j.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1rem",fontWeight:"500"},children:(null===f||void 0===f||null===(s=f.displayName)||void 0===s?void 0:s[0])||(null===f||void 0===f||null===(l=f.email)||void 0===l?void 0:l[0])||"U"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-dark)"},children:(null===f||void 0===f?void 0:f.displayName)||(null===f||void 0===f?void 0:f.email)||"User"}),(0,j.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-light)"},children:"pro"===S?"Incivus Pro":"lite"===S?"Incivus Lite":S.charAt(0).toUpperCase()+S.slice(1)+" Plan"})]})]}),(0,j.jsxs)("div",{style:{display:"grid",gap:"0.5rem"},children:[(0,j.jsxs)("button",{onClick:()=>{c&&(C(!1),c())},style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(245, 158, 11, 0.2)",borderRadius:"12px",cursor:"pointer",padding:"1rem",display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"#f59e0b",width:"100%",textAlign:"left",transition:"all 0.3s ease",fontWeight:"500"},onMouseEnter:e=>{e.target.style.background="#f59e0b",e.target.style.color="white",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05))",e.target.style.color="#f59e0b",e.target.style.transform="translateY(0px)"},children:[(0,j.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:(0,j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),"EXIT"]}),(0,j.jsxs)("button",{onClick:N,style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05))",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",cursor:"pointer",padding:"1rem",display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"#ef4444",width:"100%",textAlign:"left",transition:"all 0.3s ease",fontWeight:"500"},onMouseEnter:e=>{e.target.style.background="#ef4444",e.target.style.color="white",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05))",e.target.style.color="#ef4444",e.target.style.transform="translateY(0px)"},children:[(0,j.jsx)(Ne,{size:18}),"Logout"]})]})]})}),E&&(0,j.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},onClick:()=>x(!1),children:(0,j.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderRadius:"20px",boxShadow:"0 25px 50px -12px rgba(124, 58, 237, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.2)",padding:"2rem",width:"100%",maxWidth:"700px",maxHeight:"80vh",overflow:"auto",border:"1px solid rgba(255, 255, 255, 0.3)"},onClick:e=>e.stopPropagation(),children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"1px solid rgba(91, 33, 182, 0.1)",paddingBottom:"1rem"},children:[(0,j.jsx)("h2",{style:{color:"#5b21b6",fontSize:"1.75rem",fontWeight:"700",margin:0},children:"Frequently Asked Questions"}),(0,j.jsx)("button",{onClick:()=>x(!1),style:{background:"none",border:"none",fontSize:"1.5rem",color:"#5b21b6",cursor:"pointer",padding:"0.5rem",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>e.target.style.background="rgba(91, 33, 182, 0.1)",onMouseLeave:e=>e.target.style.background="none",children:"\xd7"})]}),(0,j.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[(0,j.jsxs)("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"12px",border:"1px solid #e9ecef"},children:[(0,j.jsxs)("h4",{style:{color:"#5b21b6",marginBottom:"0.75rem",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("span",{style:{color:"#5b21b6"},children:"\ud83d\udcb0"}),"How does the ad-based pricing work?"]}),(0,j.jsxs)("p",{style:{color:"rgba(91, 33, 182, 0.8)",fontSize:"0.95rem",lineHeight:"1.6",margin:0},children:["Each plan includes a minimum ad quota (MOQ):",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Lite"})," \u2013 $50 for 10 ads",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Plus"})," \u2013 $100 for 25 ads",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Pro"})," \u2013 $400 for 125 ads",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"Additional ads are charged as follows:",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Lite"}),": $5/ad",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Plus"}),": $4/ad",(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"Pro"}),": $3.20/ad",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"All quotas are prepaid. You pay upfront for your selected quota."]})]}),(0,j.jsxs)("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"12px",border:"1px solid #e9ecef"},children:[(0,j.jsxs)("h4",{style:{color:"#5b21b6",marginBottom:"0.75rem",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("span",{style:{color:"#5b21b6"},children:"\u23f0"}),"What happens when my subscription expires?"]}),(0,j.jsxs)("p",{style:{color:"rgba(91, 33, 182, 0.8)",fontSize:"0.95rem",lineHeight:"1.6",margin:0},children:["Lite plans: valid for 90 days",(0,j.jsx)("br",{}),"Plus plans: valid for 180 days",(0,j.jsx)("br",{}),"Pro plans: valid for 365 days",(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"If you renew before expiry, your new quota is added to your remaining days, and your data is preserved.",(0,j.jsx)("br",{}),"If you renew after expiry, your subscription restarts, and previous data is lost."]})]}),(0,j.jsxs)("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"12px",border:"1px solid #e9ecef"},children:[(0,j.jsxs)("h4",{style:{color:"#5b21b6",marginBottom:"0.75rem",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("span",{style:{color:"#5b21b6"},children:"\ud83d\udd27"}),"Can I change my selected features in the Lite plan?"]}),(0,j.jsxs)("p",{style:{color:"rgba(91, 33, 182, 0.8)",fontSize:"0.95rem",lineHeight:"1.6",margin:0},children:["No. The 4 features you choose at signup are fixed until your next renewal.",(0,j.jsx)("br",{}),"To access all 5 features immediately, upgrade to Plus or Pro."]})]}),(0,j.jsxs)("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"12px",border:"1px solid #e9ecef"},children:[(0,j.jsxs)("h4",{style:{color:"#5b21b6",marginBottom:"0.75rem",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("span",{style:{color:"#5b21b6"},children:"\ud83d\udcc8"}),"Need more features and unlimited ad analysis?"]}),(0,j.jsxs)("p",{style:{color:"rgba(91, 33, 182, 0.8)",fontSize:"0.95rem",lineHeight:"1.6",margin:0},children:["Get Enterprise for access to: Recall, Attention Heatmap, Cognitive Load, Ad Copy Effectiveness, Emotions, Digital Accessibility, Benchmarking, A/B Testing, Pre-flight vs Post Flight, Predictive Analytics and more.",(0,j.jsx)("br",{}),"Upgrade via the Upgrade Plan section."]})]}),(0,j.jsxs)("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)",borderRadius:"12px",border:"1px solid #e9ecef"},children:[(0,j.jsxs)("h4",{style:{color:"#5b21b6",marginBottom:"0.75rem",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,j.jsx)("span",{style:{color:"#5b21b6"},children:"\ud83d\udce9"}),"Need help?"]}),(0,j.jsxs)("p",{style:{color:"rgba(91, 33, 182, 0.8)",fontSize:"0.95rem",lineHeight:"1.6",margin:0},children:["Email us at ",(0,j.jsx)("a",{href:"mailto:incivus_pm@c5i.ai",children:"incivus_pm@c5i.ai"})]})]})]})]})}),(0,j.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:y?"70px":"280px",transition:"margin-left 0.3s ease"},children:[(0,j.jsxs)("header",{style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.1)",padding:"1rem 2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#5b21b6",margin:0},children:(null===(A=k.find(e=>e.id===b))||void 0===A?void 0:A.label)||"Dashboard"}),(0,j.jsx)("p",{style:{fontSize:"0.875rem",color:"rgba(91, 33, 182, 0.8)",margin:"0.25rem 0 0 0"},children:"Welcome back! Here's what's happening with your Ads."})]}),(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:(0,j.jsx)("button",{onClick:()=>{x(!0)},style:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05))",border:"1px solid rgba(99, 102, 241, 0.2)",borderRadius:"12px",cursor:"pointer",padding:"0.75rem",color:"#6366f1",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.background="#6366f1",e.target.style.color="white",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 24px rgba(99, 102, 241, 0.3)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05))",e.target.style.color="#6366f1",e.target.style.transform="translateY(0px)",e.target.style.boxShadow="none"},title:"Help & FAQs",children:(0,j.jsx)(Pe,{size:20})})})]}),(0,j.jsx)("main",{style:{flex:1,overflow:"auto",padding:"2rem",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",margin:"1rem",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:(0,j.jsx)("div",{children:(()=>{switch(b){case"dashboard":default:return(0,j.jsx)("div",{children:P()});case"brand-setup":return(0,j.jsx)("div",{children:(0,j.jsx)(Bs,{onSave:e=>{console.log("Brand config saved:",e),e&&e.redirectToAnalysis,w("analysis")},setUserFlow:d,onInputFieldClick:()=>{},hasActiveSubscription:!0,showAnalyzeButton:!0})});case"analysis":return(0,j.jsx)(uu,{userPlan:S,setUserFlow:d,hasActiveSubscription:I(),showLockedResults:!I()});case"libraries":return(0,j.jsx)(xu,{});case"upgrade":return(0,j.jsx)(Iu,{currentPlan:S,onUpgrade:u||(e=>_(e))});case"profile":return(0,j.jsx)(Pu,{})}})()})})]})]})},Lu=e=>{let{onAccept:n,onDecline:r}=e;const[o,i]=(0,t.useState)(!1);return(0,j.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:(0,j.jsxs)("div",{style:{maxWidth:"700px",width:"100%",margin:"0 auto"},children:[(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:(0,j.jsx)("img",{src:"/logo/C5i name with Logo.svg",alt:"C5i Logo",style:{height:"70px",width:"auto",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.2))"}})}),(0,j.jsx)("h2",{style:{fontSize:"2.25rem",fontWeight:"700",color:"var(--white)",textAlign:"center",marginBottom:"0.5rem",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"Welcome to Incivus"}),(0,j.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.9)",textAlign:"center",fontSize:"1.1rem",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:"Please review and accept our terms before continuing"})]}),(0,j.jsxs)("div",{style:{background:"var(--white)",borderRadius:"20px",padding:"2.5rem",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[(0,j.jsxs)("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"2rem"},children:[(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"1rem"},children:"Terms of Service"}),(0,j.jsxs)("div",{style:{color:"var(--text-light)",fontSize:"0.875rem",lineHeight:"1.6"},children:[(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"1. Acceptance of Terms"})}),(0,j.jsx)("p",{children:"By accessing and using Incivus, you accept and agree to be bound by the terms and provision of this agreement."}),(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"2. Use License"})}),(0,j.jsx)("p",{children:"Permission is granted to temporarily download one copy of the materials (information or software) on Incivus's website for personal, non-commercial transitory viewing only."}),(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"3. Disclaimer"})}),(0,j.jsx)("p",{children:"The materials on Incivus's website are provided on an 'as is' basis. Incivus makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."}),(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"4. Limitations"})}),(0,j.jsx)("p",{children:"In no event shall Incivus or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Incivus's website."}),(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"5. Privacy Policy"})}),(0,j.jsx)("p",{children:"Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information when you use our service."}),(0,j.jsx)("p",{children:(0,j.jsx)("strong",{children:"6. Shopify Integration"})}),(0,j.jsx)("p",{children:"By using Incivus, you authorize us to access your Shopify store data for the purpose of providing our analysis services. We will only access data necessary for service delivery."})]})]}),(0,j.jsx)("div",{style:{marginBottom:"2rem"},children:(0,j.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",color:"var(--text-dark)",fontSize:"1rem",fontWeight:"500"},children:[(0,j.jsx)("input",{type:"checkbox",checked:o,onChange:e=>i(e.target.checked),style:{marginRight:"0.75rem",transform:"scale(1.3)",accentColor:"#667eea"}}),"I have read and agree to the Terms of Service and Privacy Policy"]})}),(0,j.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,j.jsx)("button",{onClick:()=>{o&&n()},disabled:!o,style:{flex:1,padding:"1rem 2rem",fontSize:"1rem",fontWeight:"600",background:o?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#e5e7eb",color:o?"var(--white)":"#9ca3af",border:"none",borderRadius:"12px",cursor:o?"pointer":"not-allowed",transition:"all 0.3s ease",boxShadow:o?"0 4px 15px rgba(102, 126, 234, 0.4)":"none"},onMouseEnter:e=>{o&&(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)")},onMouseLeave:e=>{o&&(e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)")},children:"Accept & Continue"}),(0,j.jsx)("button",{onClick:r,style:{flex:1,padding:"1rem 2rem",fontSize:"1rem",fontWeight:"600",background:"transparent",color:"#6b7280",border:"2px solid #e5e7eb",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.borderColor="#ef4444",e.target.style.color="#ef4444",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.borderColor="#e5e7eb",e.target.style.color="#6b7280",e.target.style.transform="translateY(0)"},children:"Decline"})]})]})]})})},Ou=k("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Du=e=>{let{onSuccess:n,onError:r}=e;const[o,i]=(0,t.useState)(""),[a,s]=(0,t.useState)(!1),[l,A]=(0,t.useState)("");return(0,j.jsx)("div",{className:"auth-container",children:(0,j.jsxs)("div",{style:{maxWidth:"500px",width:"100%",margin:"0 auto",padding:"2rem"},children:[(0,j.jsxs)("div",{className:"auth-header",children:[(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"2rem"},children:(0,j.jsx)("img",{src:"/logo/C5i name with Logo.svg",alt:"C5i Logo",style:{height:"60px",width:"auto"}})}),(0,j.jsx)("h2",{style:{fontSize:"1.75rem",fontWeight:"600",color:"var(--text-dark)",textAlign:"center",marginBottom:"0.5rem"},children:"Connect Your Shopify Store"}),(0,j.jsx)("p",{style:{color:"var(--white)",textAlign:"center",marginBottom:"2rem"},children:"Securely connect your store to start analyzing your ads"})]}),(0,j.jsxs)("div",{className:"auth-card",children:[(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"2rem",padding:"1.5rem",background:"var(--bg-light)",borderRadius:"0.5rem"},children:(0,j.jsx)(Ou,{size:48,color:"var(--primary-purple)"})}),(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!o.trim())return void A("Please enter your Shopify store URL");let t=o.trim().toLowerCase();t.startsWith("http")||(t=`https://${t}`);const i=t.replace(/^https?:\/\//,"").replace(/\.myshopify\.com.*/,".myshopify.com");s(!0),A("");try{encodeURIComponent(window.location.origin+"/auth/callback");setTimeout(()=>{s(!1),n({shopDomain:i,shopName:i.replace(".myshopify.com",""),accessToken:"demo_token_"+Date.now()})},2e3)}catch(yl){s(!1),A("Failed to connect to Shopify. Please check your store URL and try again."),r(yl)}},children:[(0,j.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"var(--text-dark)"},children:"Shopify Store URL *"}),(0,j.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),style:{width:"100%",padding:"0.75rem",border:l?"1px solid #ef4444":"1px solid var(--border-gray)",borderRadius:"0.5rem",fontSize:"0.875rem",background:"var(--white)"},placeholder:"your-store.myshopify.com",disabled:a}),l&&(0,j.jsx)("p",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:l})]}),(0,j.jsx)("button",{type:"submit",disabled:a,className:"btn btn-primary",style:{width:"100%",padding:"0.875rem",fontSize:"1rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(N,{size:20,className:"animate-spin"}),"Connecting to Shopify..."]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ou,{size:20}),"Connect Store"]})})]}),(0,j.jsxs)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--bg-light)",borderRadius:"0.5rem",fontSize:"0.875rem",color:"var(--text-light)"},children:[(0,j.jsx)("p",{style:{marginBottom:"0.5rem",fontWeight:"500"},children:"\ud83d\udd12 Secure Connection"}),(0,j.jsx)("p",{children:"We use Shopify's official OAuth to securely access only the data we need for ad analysis. Your store credentials are never stored."})]})]})]})})},Mu=k("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Qu=async function(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3;for(let l=1;l<=a;l++)try{console.log(`\ud83d\udd04 Update plan attempt ${l}/${a}`);const s=await fetch(`${R.A.PYTHON_API_URL}/update_plan`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({user_id:e,plan_name:t,action:n,features:r||"",total_ads:o||30})});if(s.ok){const e=await s.json();return console.log(`\u2705 Update plan successful on attempt ${l}`),e}{const t=await s.text();if(console.warn(`\u26a0\ufe0f Update plan attempt ${l} failed:`,s.status,t),404===s.status&&t.includes("User plan not found"))return console.log("\ud83c\udd95 User plan not found, attempting to create new plan instead..."),await ju(e,i);if(l===a){if(404===s.status&&t.includes("User plan not found"))return console.log("\ud83c\udd95 Final attempt: Creating new plan instead of updating..."),await ju(e,i);throw new Error(`Update plan failed after ${a} attempts: ${s.status} ${t}`)}await new Promise(e=>setTimeout(e,1e3*l))}}catch(s){if(console.error(`\u274c Update plan attempt ${l} error:`,s),l===a)throw s;await new Promise(e=>setTimeout(e,1e3*l))}},ju=async(e,t)=>{try{console.log("\ud83c\udd95 Creating new plan for user:",e);const n={userId:e,planId:t.planType||"incivus_plus",planName:t.planName||`Incivus_${(t.planType||"plus").charAt(0).toUpperCase()}${(t.planType||"plus").slice(1)}`,totalPrice:t.totalPrice||t.price||99,basePrice:t.basePrice||t.totalPrice||t.price||99,totalAds:t.adQuota||30,validityDays:t.validityDays||30,isActive:!0,paymentStatus:"completed",selectedFeatures:t.features||[],subscriptionStartDate:(new Date).toISOString(),subscriptionEndDate:new Date(Date.now()+24*(t.validityDays||30)*60*60*1e3).toISOString(),max_ads_per_month:t.max_ads_per_month||12};console.log("\ud83d\udce4 Creating plan with data:",n);const r=await fetch(`${R.A.PYTHON_API_URL}/save-plan-selection`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n)});if(r.ok){const e=await r.json();return console.log("\u2705 New plan created successfully:",e),{success:!0,message:"Plan created successfully",updated_data:{planName:n.planName,totalAds:n.totalAds,max_ads_per_month:n.max_ads_per_month,adsUsed:0,subscriptionStartDate:n.subscriptionStartDate,subscriptionEndDate:n.subscriptionEndDate}}}{const e=await r.text();throw console.error("\u274c Failed to create new plan:",r.status,e),new Error(`Failed to create new plan: ${r.status} ${e}`)}}catch(n){throw console.error("\u274c Error creating new plan:",n),n}},Hu=e=>{let{planData:n,shopifyData:r,onSuccess:o,onError:i,onBack:a}=e;const{currentUser:s}=z(),[l,A]=(0,t.useState)(!1),[c,u]=(0,t.useState)("pending"),[d,p]=(0,t.useState)(""),[h,f]=(0,t.useState)("card"),[g,m]=(0,t.useState)(""),[y,v]=(0,t.useState)({email:(null===s||void 0===s?void 0:s.email)||"",cardNumber:"",expiryDate:"",cvv:"",billingAddress:""});if(!n||!n.planType)return(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",color:"#dc3545"},children:[(0,j.jsx)(Le,{size:48}),(0,j.jsx)("h2",{children:"Error: Invalid Plan Selection"}),(0,j.jsx)("p",{children:"Please go back and select a valid plan."}),(0,j.jsx)("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",background:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px"},children:"Restart"})]});const b=(e,t)=>{v(n=>({...n,[e]:t}))},w=e=>({brand_compliance:"Brand Compliance",messaging_intent:"Messaging Intent",funnel_compatibility:"Funnel Compatibility",resonance_index:"Resonance Index with Purchase Intent",channel_compliance:"Channel Compliance"}[e]||e),S=()=>{switch(c){case"processing":return(0,j.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,j.jsx)(N,{size:48,className:"animate-spin",style:{color:"lite"===n.planType?"#28a745":"#6f42c1",marginBottom:"1rem"}}),(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"0.5rem"},children:"Processing Payment"}),(0,j.jsxs)("p",{style:{color:"var(--text-light)"},children:["Setting up your ",n.planName," subscription..."]})]});case"success":return(0,j.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,j.jsx)(Re,{size:48,style:{color:"#10b981",marginBottom:"1rem"}}),(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"0.5rem"},children:"Payment Successful!"}),(0,j.jsxs)("p",{style:{color:"var(--text-light)",marginBottom:"1rem"},children:["Your ",n.planName," subscription is now active."]}),(0,j.jsxs)("div",{style:{background:"var(--bg-light)",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem"},children:[(0,j.jsx)("p",{style:{fontWeight:"500",marginBottom:"0.5rem"},children:"What's included:"}),(0,j.jsx)("ul",{style:{textAlign:"left",fontSize:"0.875rem"},children:n.features&&n.features.map((e,t)=>(0,j.jsxs)("li",{style:{marginBottom:"0.25rem"},children:["\u2713 ",w(e)]},t))})]})]});case"error":return(0,j.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,j.jsx)(Le,{size:48,style:{color:"#ef4444",marginBottom:"1rem"}}),(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"0.5rem"},children:"Payment Failed"}),(0,j.jsx)("p",{style:{color:"var(--text-light)",marginBottom:"1rem"},children:d}),(0,j.jsx)("button",{onClick:()=>u("pending"),className:"btn btn-primary",style:{marginRight:"1rem"},children:"Try Again"}),(0,j.jsx)("button",{onClick:()=>i&&i(new Error("Payment cancelled")),className:"btn btn-secondary",children:"Cancel"})]});default:return null}};return"pending"!==c?(0,j.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:(0,j.jsx)("div",{style:{maxWidth:"500px",width:"100%",margin:"0 auto"},children:(0,j.jsx)("div",{style:{background:"var(--white)",borderRadius:"20px",padding:"2.5rem",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",textAlign:"center"},children:S()})})}):(0,j.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"2rem 1rem"},children:(0,j.jsxs)("div",{style:{maxWidth:"900px",width:"100%",margin:"0 auto"},children:[(0,j.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[a&&(0,j.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",marginBottom:"1rem"},children:(0,j.jsxs)("button",{onClick:a,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(10px)"},onMouseOver:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.3)",e.target.style.transform="translateY(-1px)"},onMouseOut:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.2)",e.target.style.transform="translateY(0)"},children:[(0,j.jsx)(he,{size:16}),"Back to Dashboard"]})}),(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem"},children:(0,j.jsx)("img",{src:"/logo/C5i name with Logo.svg",alt:"C5i Logo",style:{height:"70px",width:"auto",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.2))"}})}),(0,j.jsx)("h2",{style:{fontSize:"2.25rem",fontWeight:"700",color:"var(--white)",textAlign:"center",marginBottom:"0.5rem",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"Complete Your Purchase"}),(0,j.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.9)",textAlign:"center",fontSize:"1.1rem",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:"Secure payment powered by Shopify"})]}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth>768?"1fr 1fr":"1fr",gap:"2rem"},children:[(0,j.jsxs)("div",{style:{background:"var(--white)",borderRadius:"20px",padding:"2rem",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"1rem"},children:"Order Summary"}),(0,j.jsxs)("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",marginBottom:"1rem"},children:[(0,j.jsx)("h4",{style:{margin:"0 0 1rem 0",color:"lite"===n.planType?"#28a745":"#6f42c1"},children:n.planName}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[(0,j.jsxs)("div",{style:{textAlign:"center",padding:"0.5rem",background:"white",borderRadius:"4px"},children:[(0,j.jsx)("div",{style:{fontSize:"0.8rem",color:"#6c757d"},children:"Features"}),(0,j.jsxs)("div",{style:{fontWeight:"bold",color:"lite"===n.planType?"#28a745":"#6f42c1"},children:[n.features?n.features.length:"5","/5"]})]}),(0,j.jsxs)("div",{style:{textAlign:"center",padding:"0.5rem",background:"white",borderRadius:"4px"},children:[(0,j.jsx)("div",{style:{fontSize:"0.8rem",color:"#6c757d"},children:"Ads"}),(0,j.jsx)("div",{style:{fontWeight:"bold",color:"#2c3e50"},children:n.adQuota})]}),(0,j.jsxs)("div",{style:{textAlign:"center",padding:"0.5rem",background:"white",borderRadius:"4px"},children:[(0,j.jsx)("div",{style:{fontSize:"0.8rem",color:"#6c757d"},children:"Validity"}),(0,j.jsx)("div",{style:{fontWeight:"bold",color:"#2c3e50"},children:n.validity})]})]}),"lite"===n.planType&&n.features&&(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"Selected Features:"}),(0,j.jsx)("div",{style:{fontSize:"0.8rem",color:"#6c757d"},children:n.features.map(w).join(", ")})]})]}),(0,j.jsxs)("div",{style:{background:"lite"===n.planType?"#28a745":"#6f42c1",color:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[(0,j.jsx)("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:"Total Amount"}),(0,j.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:(0,G.vv)(n.totalPrice)}),(0,j.jsxs)("div",{style:{fontSize:"0.8rem",opacity:.9},children:["One-time payment \u2022 Valid for ",n.validity]})]})]}),(0,j.jsxs)("div",{style:{background:"var(--white)",borderRadius:"20px",padding:"2rem",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[(0,j.jsx)("h3",{style:{color:"var(--text-dark)",marginBottom:"1.5rem"},children:"Payment Details"}),(0,j.jsx)("div",{style:{marginBottom:"2rem"},children:(0,j.jsxs)("div",{style:{display:"flex",background:"#f8f9fa",borderRadius:"8px",padding:"4px",marginBottom:"1rem"},children:[(0,j.jsx)("button",{type:"button",onClick:()=>f("card"),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"6px",background:"card"===h?"#007bff":"transparent",color:"card"===h?"white":"#6c757d",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:"\ud83d\udcb3 Credit Card"}),(0,j.jsx)("button",{type:"button",onClick:()=>f("promo"),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"6px",background:"promo"===h?"#28a745":"transparent",color:"promo"===h?"white":"#6c757d",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:"\ud83c\udf9f\ufe0f Promo Code"})]})}),(0,j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l||"processing"===c||"success"===c)console.log("\ud83d\uded1 Payment already in progress, ignoring duplicate submission");else{A(!0),u("processing");try{const e=localStorage.getItem("incivus_upgrade_feature");if(e&&(console.log("\ud83c\udfaf Processing upgrade payment for feature:",e),n.upgradeFeature=e),"promo"===h&&"SAIC5I"!==g)return p("Invalid promo code. Please check your code and try again."),u("error"),void A(!1);await new Promise(e=>setTimeout(e,2e3)),console.log("\ud83d\udcb3 Processing payment for plan:",n),console.log("\ud83d\udcb0 Payment method:","promo"===h?"Promo Code":"Credit Card");const i=(null===s||void 0===s?void 0:s.uid)||localStorage.getItem("incivus_user_id");let l=n.isTopup||!1,c=n.isUpgrade||!1,I=n.currentSubscription,T=!1;if(l||c||I)if(l)console.log("\u2705 Using topup detection from PlanStructure:",n.planType);else if(c){var t;console.log("\u2705 Using upgrade detection from PlanStructure:",null===(t=I)||void 0===t?void 0:t.planType,"\u2192",n.planType),console.log("\ud83d\udd0d DEBUG - Current subscription data from PlanStructure:",I),console.log("\ud83d\udd04 Fetching fresh subscription data from database for upgrade...");try{const e=await fetch(`${R.A.PYTHON_API_URL}/get-user-profile/${i}`);if(e.ok){var r;const t=(await e.json()).subscription;console.log("\ud83d\udd0d Fresh subscription data from database:",t),console.log("\ud83d\udd0d Comparison - PlanStructure data:",null===(r=I)||void 0===r?void 0:r.planType,"vs Database data:",null===t||void 0===t?void 0:t.planType),I=t}}catch(_){console.warn("\u26a0\ufe0f Could not fetch fresh subscription data:",_)}if(!I)try{const e=await fetch(`${R.A.PYTHON_API_URL}/get-user-profile/${i}`);if(e.ok){I=(await e.json()).subscription,console.log("\ud83d\udd0d Fetched current subscription for upgrade:",I)}}catch(_){console.warn("\u26a0\ufe0f Could not fetch current subscription for upgrade:",_)}}else I&&I.planType!==n.planType&&(c=!0,console.log("\u2b06\ufe0f ShopifyPayment detected UPGRADE:",I.planType,"\u2192",n.planType));else{try{const e=await fetch(`${R.A.PYTHON_API_URL}/get-user-profile/${i}`);if(e.ok){I=(await e.json()).subscription,console.log("\ud83d\udd0d Current subscription from database:",I)}}catch(_){console.warn("\u26a0\ufe0f Could not fetch current subscription, using localStorage fallback:",_),I=JSON.parse(localStorage.getItem("incivus_subscription")||"{}")}I&&I.planType?(I.planType===n.planType?(l=!0,console.log("\ud83d\udd04 ShopifyPayment detected TOPUP (same plan):",n.planType)):(c=!0,console.log("\u2b06\ufe0f ShopifyPayment detected UPGRADE:",I.planType,"\u2192",n.planType)),"pending"===I.paymentStatus&&console.log("\u2139\ufe0f Note: Current subscription has pending payment status, but allowing upgrade/topup")):console.log("\ud83c\udd95 This is a NEW subscription:",n.planType)}if(i&&n.planType&&!l&&!c)try{await Ds(i,n),console.log("\u2705 Subscription data saved to old database")}catch(B){console.warn("\u26a0\ufe0f Failed to save to old database, continuing with payment...",B)}else l?console.log("\ud83d\udd04 Skipping old subscription data save for topup"):c&&console.log("\u2b06\ufe0f Skipping old subscription data save for upgrade");if(i&&n.planType)try{const e={lite:4,plus:5,pro:11,enterprise:999},t={planId:n.planType,planName:n.planName,selectedFeatures:n.features||[],totalAds:n.adQuota||1,max_ads_per_month:n.max_ads_per_month||e[n.planType]||4,basePrice:"lite"===n.planType?10:"pro"===n.planType?40:0,additionalAdPrice:"lite"===n.planType?6:"pro"===n.planType?4:0,totalPrice:n.totalPrice,validityDays:n.validityDays||("lite"===n.planType?30:"pro"===n.planType?90:365),subscriptionStartDate:n.subscriptionStartDate||new Date,subscriptionEndDate:n.subscriptionEndDate||new Date(Date.now()+24*(n.validityDays||30)*60*60*1e3),isActive:!0,paymentStatus:"completed",paymentId:"promo"===h?"promo_"+Math.random().toString(36).substr(2,9):"txn_"+Math.random().toString(36).substr(2,9),paymentMethod:"promo"===h?"Promo Code (SAIC5I)":"Credit Card",subscriptionType:"new"};if(l||c)try{console.log("\ud83d\udd0d Checking for existing plans in backend...");const e=await fetch(`${R.A.PYTHON_API_URL}/get-plan-selections/${i}`);if(e.ok){const t=await e.json();!t||Array.isArray(t)&&0===t.length?(console.log("\u26a0\ufe0f User has no existing plans in backend - will create new plan instead"),T=!0,l=!1,c=!1):console.log("\u2705 Existing plans found in backend, proceeding with",c?"upgrade":"topup")}else console.log(`\u26a0\ufe0f Backend check failed (${e.status}), will create new plan instead of ${c?"upgrade":"topup"}`),T=!0,l=!1,c=!1}catch(_){console.warn("\u26a0\ufe0f Backend check failed due to network error, will create new plan instead:",_.message),T=!0,l=!1,c=!1}if(l||c?l?console.log("\ud83d\udd04 Skipping plan selection save for topup - will use topup endpoint instead"):c&&console.log("\u2b06\ufe0f Skipping plan selection save for upgrade - will use upgrade endpoint instead"):(await(0,G.savePlanSelectionDetails)(i,t),console.log("\u2705 Plan selection data saved to PlanSelectionDetails collection")),l){console.log("\ud83d\udd04 Calling TOPUP endpoint...");try{var a;const e=n.planName||`Incivus_${n.planType.charAt(0).toUpperCase()}${n.planType.slice(1)}`;console.log("\ud83d\udce4 Topup request data:",{user_id:i,plan_name:e,action:"topup",features:n.features?n.features.join(","):"",total_ads:n.adQuota||30,apiUrl:`${R.A.PYTHON_API_URL}/update_plan`});const t=await Qu(i,e,"topup",n.features?n.features.join(","):"",n.adQuota||30,n);if(console.log("\u2705 Topup successful:",t),console.log("\ud83d\udd04 Combined monthly limit after topup:",null===(a=t.updated_data)||void 0===a?void 0:a.max_ads_per_month),!t.updated_data)throw console.error("\u274c Topup response missing updated_data:",t),new Error("Topup API response missing updated_data");{const e={...I,planType:t.updated_data.planName.replace("Incivus_","").toLowerCase(),planName:t.updated_data.planName,adQuota:t.updated_data.totalAds,max_ads_per_month:t.updated_data.max_ads_per_month,adsUsed:t.updated_data.adsUsed,subscriptionStartDate:t.updated_data.subscriptionStartDate,subscriptionEndDate:t.updated_data.subscriptionEndDate,lastUpdated:(new Date).toISOString(),updateSource:"topup_api"};localStorage.setItem("incivus_subscription",JSON.stringify(e)),console.log("\u2705 Updated localStorage with combined monthly limits after topup:",e.max_ads_per_month);try{const e=await fetch(`${R.A.PYTHON_API_URL}/sync-subscription-data/${i}`,{method:"POST",headers:{"Content-Type":"application/json"}});e.ok?console.log("\u2705 Subscription data synced after topup"):console.warn("\u26a0\ufe0f Sync failed after topup, status:",e.status)}catch(C){console.warn("\u26a0\ufe0f Sync error after topup:",C)}}}catch(E){throw console.error("\u274c Topup endpoint error:",E),p(`Topup failed: ${E.message}`),E}}else if(c){var d,f,m;console.log("\u2b06\ufe0f Calling UPGRADE endpoint..."),console.log("\ud83d\udcca Upgrade details:",{currentPlan:(null===(d=I)||void 0===d?void 0:d.planType)||"unknown",newPlan:n.planType,currentMonthlyLimit:(null===(f=I)||void 0===f?void 0:f.max_ads_per_month)||0,currentTotalAds:(null===(m=I)||void 0===m?void 0:m.adQuota)||0});try{var v,b,w,S;const e=n.planName||`Incivus_${n.planType.charAt(0).toUpperCase()}${n.planType.slice(1)}`;console.log("\ud83d\udce4 Upgrade request data:",{user_id:i,plan_name:e,action:"upgrade",features:n.features?n.features.join(","):"",total_ads:n.adQuota||30,apiUrl:`${R.A.PYTHON_API_URL}/update_plan`});const t=await Qu(i,e,"upgrade",n.features?n.features.join(","):"",n.adQuota||30,n);if(console.log("\u2705 Upgrade successful:",t),console.log("\ud83d\udcca Upgrade results:"),console.log("  - Total ads:",null===(v=t.updated_data)||void 0===v?void 0:v.totalAds),console.log("  - Monthly limit:",null===(b=t.updated_data)||void 0===b?void 0:b.max_ads_per_month),console.log("  - New plan:",null===(w=t.updated_data)||void 0===w?void 0:w.planName),console.log("  - Validity days:",null===(S=t.updated_data)||void 0===S?void 0:S.validityDays),!t.updated_data)throw console.error("\u274c Upgrade response missing updated_data:",t),new Error("Upgrade API response missing updated_data");{const e={...I,planType:t.updated_data.planName.replace("Incivus_","").toLowerCase(),planName:t.updated_data.planName,adQuota:t.updated_data.totalAds,max_ads_per_month:t.updated_data.max_ads_per_month,adsUsed:t.updated_data.adsUsed,subscriptionStartDate:t.updated_data.subscriptionStartDate,subscriptionEndDate:t.updated_data.subscriptionEndDate,lastUpdated:(new Date).toISOString(),updateSource:"upgrade_api"};localStorage.setItem("incivus_subscription",JSON.stringify(e)),console.log("\u2705 Updated localStorage with upgrade data:"),console.log("  - Plan:",e.planType),console.log("  - Monthly limit:",e.max_ads_per_month),console.log("  - Total ads:",e.adQuota);try{const e=await fetch(`${R.A.PYTHON_API_URL}/sync-subscription-data/${i}`,{method:"POST",headers:{"Content-Type":"application/json"}});e.ok?console.log("\u2705 Subscription data synced after upgrade"):console.warn("\u26a0\ufe0f Sync failed after upgrade, status:",e.status)}catch(C){console.warn("\u26a0\ufe0f Sync error after upgrade:",C)}}}catch(x){throw console.error("\u274c Upgrade endpoint error:",x),p(`Upgrade failed: ${x.message}`),x}}}catch(B){if(console.error("\u274c Critical error in payment processing:",B),l||c){console.log("\ud83d\udcbe Saving fallback subscription data to localStorage...");const e={...n,paymentCompleted:!0,paymentMethod:"promo"===h?"Promo Code (SAIC5I)":"Credit Card",timestamp:(new Date).toISOString(),updateSource:"fallback_after_api_failure",needsResync:!0};localStorage.setItem("incivus_subscription",JSON.stringify(e)),localStorage.setItem("incivus_subscription_backup",JSON.stringify(e)),console.log("\u2705 Fallback subscription data saved")}else localStorage.setItem("incivus_subscription_backup",JSON.stringify({...n,paymentCompleted:!0,paymentMethod:"promo"===h?"Promo Code (SAIC5I)":"Credit Card",timestamp:(new Date).toISOString()}));p(`Plan updated locally but sync failed: ${B.message}`)}u("success");const k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"card";try{const n={planType:e.planType||"lite",planName:e.planName||"Incivus Lite",features:e.features||[],adQuota:e.adQuota||1,totalPrice:e.totalPrice||0,validity:e.validity||"3 months",validityDays:e.validityDays||90,subscriptionStartDate:e.subscriptionStartDate||(new Date).toISOString(),subscriptionEndDate:e.subscriptionEndDate||new Date(Date.now()+7776e6).toISOString(),paymentStatus:"completed",paymentMethod:"promo"===t?"Promo Code (SAIC5I)":"Credit Card",paymentId:"txn_"+Math.random().toString(36).substr(2,9),subscribed:!0,isActive:!0,status:"active",purchaseDate:(new Date).toISOString(),timestamp:(new Date).toISOString()};return localStorage.setItem("incivus_subscription",JSON.stringify(n)),localStorage.setItem("incivus_payment_completed","true"),localStorage.setItem("incivus_subscription_backup",JSON.stringify(n)),localStorage.setItem("incivus_plan_data",JSON.stringify(n)),localStorage.setItem("incivus_user_plan",n.planType),console.log("\u2705 Payment completion ensured with localStorage fallback"),n}catch(_){return console.error("\u274c Error in payment fallback:",_),localStorage.setItem("incivus_payment_completed","true"),localStorage.setItem("incivus_subscription",JSON.stringify({planType:(null===e||void 0===e?void 0:e.planType)||"lite",subscribed:!0,status:"active",paymentStatus:"completed"})),null}}(n,h);console.log("\u2705 Payment completion ensured:",k),T||!l&&!c?console.log("\ud83c\udf89 New subscription created successfully!"):c?console.log("\ud83c\udf89 Plan upgraded successfully!"):l&&console.log("\ud83c\udf89 Plan topped up successfully!"),console.log("\ud83d\udd04 Clearing localStorage cache to force fresh data load on next login..."),localStorage.removeItem("incivus_user_data_loaded"),localStorage.removeItem("incivus_completion_status_cache"),console.log("\ud83d\udd04 Dispatching immediate subscription refresh event..."),window.dispatchEvent(new CustomEvent("subscriptionUpdated",{detail:{userId:s.uid,planType:n.planType,action:c?"upgrade":l?"topup":"new"}})),localStorage.setItem("incivus_plan_just_upgraded","true"),localStorage.setItem("incivus_upgraded_plan_type",n.planType),setTimeout(()=>{o&&o({...n,transactionId:"txn_"+Math.random().toString(36).substr(2,9),paymentData:y})},1e3)}catch(_){console.error("\ud83d\udcb3 Payment failed:",_),u("error"),p(_.message||"Payment failed. Please try again."),i&&i(_)}finally{A(!1)}}},children:[(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Email Address"}),(0,j.jsx)("input",{type:"email",value:y.email,onChange:e=>b("email",e.target.value),required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),"promo"===h?(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Promo Code"}),(0,j.jsx)("input",{type:"text",value:g,onChange:e=>m(e.target.value.toUpperCase()),placeholder:"Enter your promo code",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem",textTransform:"uppercase"}}),(0,j.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.75rem",background:"#e8f5e8",borderRadius:"6px",fontSize:"0.875rem",color:"#28a745"},children:"\ud83d\udca1 Enter promo code to get instant access to your plan"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Card Number"}),(0,j.jsx)("input",{type:"text",value:y.cardNumber,onChange:e=>b("cardNumber",e.target.value),placeholder:"1234 5678 9012 3456",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),(0,j.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Expiry Date"}),(0,j.jsx)("input",{type:"text",value:y.expiryDate,onChange:e=>b("expiryDate",e.target.value),placeholder:"MM/YY",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"CVV"}),(0,j.jsx)("input",{type:"text",value:y.cvv,onChange:e=>b("cvv",e.target.value),placeholder:"123",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]})]})]}),(0,j.jsx)("button",{type:"submit",disabled:l,style:{width:"100%",padding:"1rem",background:l?"#ccc":"promo"===h||"lite"===n.planType?"#28a745":"#6f42c1",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:l?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:l?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(N,{size:20,className:"animate-spin"}),"Processing..."]}):"promo"===h?(0,j.jsx)(j.Fragment,{children:"\ud83c\udf9f\ufe0f Activate with Promo Code"}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Mu,{size:20}),"Complete Payment - ",(0,G.vv)(n.totalPrice)]})})]}),(0,j.jsx)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f8f9fa",borderRadius:"6px",fontSize:"0.8rem",color:"#6c757d",textAlign:"center"},children:"promo"===h?(0,j.jsx)(j.Fragment,{children:"\ud83c\udf9f\ufe0f Enter your promo code to get instant access"}):(0,j.jsx)(j.Fragment,{children:"\ud83d\udd12 Your payment information is secure and encrypted"})})]})]})]})})};let zu=null;try{zu=n(4657)}catch($u){console.warn("Sentry not available in production")}class Vu extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){zu?zu.captureException(e,{extra:t,tags:{component:"ErrorBoundary",location:window.location.pathname}}):console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,j.jsxs)("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",margin:"1rem"},children:[(0,j.jsx)("h2",{style:{color:"#dc3545",marginBottom:"1rem"},children:"Oops! Something went wrong"}),(0,j.jsx)("p",{style:{color:"#6c757d",marginBottom:"1.5rem"},children:"We've been notified of this error and will fix it soon."}),(0,j.jsx)("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const Ku=Vu;let Wu;n(3505),Wu=n(3505).Logger;const Gu=function(){const[e,n]=(0,t.useState)(()=>localStorage.getItem("incivus_last_flow")||"login"),[r,o]=(0,t.useState)(null),[i,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=new URLSearchParams(window.location.search);if("true"===e.get("reset")||"true"===e.get("fresh")){console.log("\ud83d\udd04 Reset parameter detected - clearing all localStorage data"),localStorage.clear();const e=window.location.pathname;window.history.replaceState({},document.title,e)}try{nt()}catch(l){console.error("\u274c Failed to initialize storage management:",l)}const t=localStorage.getItem("incivus_terms_accepted"),r=localStorage.getItem("incivus_subscription"),o=localStorage.getItem("incivus_user_logged_in"),i=localStorage.getItem("incivus_user_complete");console.log("\ud83d\udd0d App.js useEffect - Checking localStorage:"),console.log("  hasAcceptedTerms:",t),console.log("  subscription:",r),console.log("  isLoggedIn:",o),console.log("  isSignupComplete:",i),console.log("\ud83d\udca1 Flow Reset Options:"),console.log("  \ud83c\udf10 URL: Add ?reset=true or ?fresh=true to the URL"),console.log("  \u2328\ufe0f  Keyboard: Press Ctrl+Shift+R (or Cmd+Shift+R on Mac)"),console.log('  \ud83d\udd18 UI: Click profile icon \u2192 "EXIT" button');const a=localStorage.getItem("incivus_last_flow");let s="dashboard";o?t?a&&"login"!==a&&"signup"!==a?(s=a,console.log(`\ud83d\udccd Restoring last flow: ${a}`)):(s="dashboard",console.log("\ud83d\udcca Setting flow to: dashboard")):(s="terms",console.log("\ud83d\udcc4 Setting flow to: terms (need terms)")):(s="login",console.log("\ud83d\udd10 Setting flow to: login (not logged in)")),n(s)},[]),(0,t.useEffect)(()=>{try{localStorage.setItem("incivus_last_flow",e)}catch{}},[e]),(0,t.useEffect)(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&e.shiftKey&&"R"===e.key&&(e.preventDefault(),console.log("\ud83c\udfb9 Keyboard shortcut triggered - resetting flow"),m())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(console.log("\ud83c\udfaf App.js: handleLoginSuccess called with user:",e.email),o(e),Wu.info("User login successful",{userEmail:e.email,timestamp:(new Date).toISOString(),component:"App.js"}),Wu.setUser({id:e.id,email:e.email,username:e.email}),t&&t.completionStatus){const{userExistsInDB:e,isComplete:r,planDetails:o,userProfile:i,hasEssentialData:a,hasAcceptedTerms:s}=t.completionStatus;if(console.log("\ud83d\udd0d Enhanced user existence check result:",{userExistsInDB:e,isComplete:r,hasProfile:!!i,hasPlan:!!o,hasEssentialData:a,hasAcceptedTerms:s,fullCompletionStatus:t.completionStatus}),!0===r&&!0===a)console.log("\u2705 User has complete profile and valid payment - redirecting to dashboard"),Wu.trackUserAction("Login - Redirect to Dashboard",{reason:"complete_profile_and_payment"}),n("dashboard");else if(!0!==e||a)if(!0===e&&a&&!r)console.log("\u26a0\ufe0f User has profile but no valid payment - going to registration"),Wu.trackUserAction("Login - Redirect to Signup",{userType:"existing_no_valid_payment"}),n("signup");else if(!1===e)console.log("\ud83c\udd95 New user not found in database - going to registration"),Wu.trackUserAction("Login - Redirect to Signup",{userType:"new_user"}),n("signup");else{"true"===localStorage.getItem("incivus_user_complete")?(console.log("\u2705 Local storage indicates complete signup - redirecting to dashboard"),n("dashboard")):(console.log("\u2139\ufe0f Ambiguous completion status - defaulting to signup"),n("signup"))}else console.log("\u26a0\ufe0f User exists but missing essential profile data - going to registration"),Wu.trackUserAction("Login - Redirect to Signup",{userType:"existing_incomplete_profile"}),n("signup");return}if(t&&void 0!==t.userExists)return console.log("\ud83d\udd0d Basic user existence check result:",t.userExists),void(t.userExists?(console.log("\u2705 Existing user detected - redirecting directly to dashboard"),n("dashboard")):(console.log("\ud83c\udd95 New user detected - going to registration"),n("signup")));const r=localStorage.getItem("incivus_terms_accepted"),i=localStorage.getItem("incivus_user_complete");r&&i?(console.log("\u2705 Existing user detected (localStorage) - redirecting directly to dashboard"),n("dashboard")):(console.log("\ud83c\udd95 New user or incomplete user - going to registration"),n("signup"))},c=e=>{o({...r,...e}),localStorage.setItem("incivus_user_complete","true"),n("terms")},u=()=>{localStorage.setItem("incivus_terms_accepted","true"),n("dashboard")},d=()=>{localStorage.removeItem("incivus_user_logged_in"),localStorage.removeItem("incivus_google_user"),localStorage.removeItem("incivus_user_complete"),n("login")},p=e=>{a(e),n("plan-selection")},h=e=>{console.log("\ud83c\udfaf Plan selected:",e),localStorage.setItem("incivus_plan_data",JSON.stringify(e)),l(e),a({shopDomain:"demo-shop",shopName:"Demo Shop",email:(null===r||void 0===r?void 0:r.email)||"user@example.com"}),n("payment")},f=e=>{const t=JSON.parse(localStorage.getItem("incivus_plan_data")||"{}"),r=localStorage.getItem("incivus_subscription_backup"),o=localStorage.getItem("incivus_plan_selection_backup"),i={...t,...r?JSON.parse(r):{},...o?JSON.parse(o):{},subscribed:!0,purchaseDate:(new Date).toISOString(),status:"active",paymentStatus:"completed"};localStorage.setItem("incivus_subscription",JSON.stringify(i)),localStorage.setItem("incivus_payment_completed","true"),t.upgradeFeature&&(console.log("\ud83c\udfaf Upgrade payment completed for feature:",t.upgradeFeature),localStorage.setItem("incivus_upgrade_feature_completed",t.upgradeFeature),localStorage.removeItem("incivus_upgrade_feature"));"analysis"===localStorage.getItem("incivus_pre_payment_flow")?(localStorage.removeItem("incivus_pre_payment_flow"),n("dashboard"),localStorage.setItem("incivus_return_to_analysis","true")):n("dashboard")},g=e=>{n("plan-selection")},m=()=>{console.log("\ud83d\udd04 Manually resetting flow to login"),Wu.info("User logout - Flow reset",{component:"App.js",action:"resetFlow"}),Wu.clearUser(),localStorage.clear(),o(null),a(null),l(null),n("login")},y=e=>{console.log("\ud83d\udd04 Starting upgrade flow for plan:",e),e&&"object"===typeof e&&e.planType?(localStorage.setItem("incivus_plan_data",JSON.stringify(e)),l(e),a({shopDomain:"demo-shop",shopName:"Demo Shop",email:(null===r||void 0===r?void 0:r.email)||"user@example.com"}),n("payment")):(l(e),n("plan-selection"))},v=()=>{console.log("\ud83d\udd04 Input field clicked - redirecting to login flow");const e=localStorage.getItem("incivus_user_logged_in"),t=localStorage.getItem("incivus_user_complete"),r=localStorage.getItem("incivus_terms_accepted");n(e?t?r?"dashboard":"terms":"signup":"login")},b=()=>{console.log("\ud83d\udd04 Analyze Ad clicked - checking subscription");localStorage.getItem("incivus_subscription")?console.log("\u2705 Subscription found - staying on dashboard for analysis"):(console.log("\ud83d\udccb No subscription found - redirecting to plan selection"),n("plan-selection"))};return(0,j.jsx)(V,{children:(0,j.jsx)(Ku,{children:(0,j.jsx)("div",{className:"App",children:(()=>{switch(e){case"login":default:return(0,j.jsx)(K,{onLoginSuccess:A});case"signup":return(0,j.jsx)(pe,{onSignupComplete:c});case"terms":return(0,j.jsx)(Lu,{onAccept:u,onDecline:d});case"shopify-auth":return(0,j.jsx)(Du,{onSuccess:p,onError:()=>n("login")});case"plan-selection":return(0,j.jsx)(Ce,{onPlanSelect:h,preSelectedPlan:s,onBack:()=>n("dashboard")});case"payment":const e=JSON.parse(localStorage.getItem("incivus_plan_data")||"{}");return(0,j.jsx)(Hu,{planData:e,shopifyData:i,onSuccess:f,onError:g,onBack:()=>n("dashboard")});case"dashboard":return(0,j.jsx)(Ru,{onResetFlow:m,onUpgradeFlow:y,setUserFlow:n,onInputFieldClick:v,onAnalyzeAdClick:b})}})()})})})};o.createRoot(document.getElementById("root")).render((0,j.jsx)(t.StrictMode,{children:(0,j.jsx)(E,{children:(0,j.jsx)(Gu,{})})}))})()})();
//# sourceMappingURL=main.e46f8995.js.map