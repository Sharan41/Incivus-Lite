{"version":3,"file":"static/js/433.fea0a81a.chunk.js","mappings":"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","sources":["utils/firebaseOfflineMode.js"],"sourcesContent":["/**\n * Firebase Offline Mode Manager\n * Completely disables Firebase operations when there are persistent connection issues\n */\n\nclass FirebaseOfflineMode {\n  constructor() {\n    this.isOffline = false;\n    this.errorCount = 0;\n    this.maxErrors = 5;\n    this.offlineData = new Map(); // In-memory storage for offline mode\n    this.setupErrorMonitoring();\n  }\n\n  setupErrorMonitoring() {\n    // Monitor for Firebase 400 errors\n    const originalFetch = window.fetch;\n    window.fetch = async (...args) => {\n      try {\n        const response = await originalFetch(...args);\n        \n        // Check if this is a Firebase request with 400 error\n        if (args[0] && args[0].includes('firestore.googleapis.com') && response.status === 400) {\n          this.recordError();\n        }\n        \n        return response;\n      } catch (error) {\n        if (args[0] && args[0].includes('firestore.googleapis.com')) {\n          this.recordError();\n        }\n        throw error;\n      }\n    };\n\n    // Monitor for Firebase errors in console\n    window.addEventListener('unhandledrejection', (event) => {\n      if (this.isFirebaseError(event.reason)) {\n        this.recordError();\n      }\n    });\n  }\n\n  isFirebaseError(error) {\n    if (!error) return false;\n    \n    return error.message?.includes('firebase') ||\n           error.message?.includes('firestore') ||\n           error.message?.includes('WebChannelConnection') ||\n           error.message?.includes('400') ||\n           error.code === 'unavailable';\n  }\n\n  recordError() {\n    this.errorCount++;\n    console.warn(`üî• Firebase error recorded (${this.errorCount}/${this.maxErrors})`);\n    \n    if (this.errorCount >= this.maxErrors && !this.isOffline) {\n      this.enableOfflineMode();\n    }\n  }\n\n  enableOfflineMode() {\n    this.isOffline = true;\n    console.warn('üö´ Firebase offline mode ENABLED due to persistent connection issues');\n    \n    // Show user notification\n    this.showOfflineNotification();\n    \n    // Dispatch event for components to react\n    window.dispatchEvent(new CustomEvent('firebase-offline-mode-enabled', {\n      detail: { \n        message: 'Firebase offline mode enabled due to connection issues',\n        timestamp: new Date().toISOString()\n      }\n    }));\n  }\n\n  disableOfflineMode() {\n    this.isOffline = false;\n    this.errorCount = 0;\n    console.log('‚úÖ Firebase offline mode DISABLED - connection restored');\n    \n    window.dispatchEvent(new CustomEvent('firebase-offline-mode-disabled', {\n      detail: { \n        message: 'Firebase connection restored',\n        timestamp: new Date().toISOString()\n      }\n    }));\n  }\n\n  showOfflineNotification() {\n    // Create a temporary notification\n    const notification = document.createElement('div');\n    notification.style.cssText = `\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: #ff6b6b;\n      color: white;\n      padding: 15px;\n      border-radius: 8px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n      z-index: 10000;\n      font-family: sans-serif;\n      font-size: 14px;\n      max-width: 300px;\n    `;\n    notification.innerHTML = `\n      <strong>‚ö†Ô∏è Firebase Offline Mode</strong><br>\n      Connection issues detected. Using local storage.\n      <button onclick=\"this.parentElement.remove()\" style=\"\n        float: right;\n        background: none;\n        border: none;\n        color: white;\n        cursor: pointer;\n        font-size: 16px;\n        margin-left: 10px;\n      \">‚úï</button>\n    `;\n    \n    document.body.appendChild(notification);\n    \n    // Auto-remove after 10 seconds\n    setTimeout(() => {\n      if (notification.parentElement) {\n        notification.remove();\n      }\n    }, 10000);\n  }\n\n  // Safe Firebase operation wrapper\n  async safeFirebaseOperation(operation, fallback = null) {\n    if (this.isOffline) {\n      console.warn('üö´ Firebase operation blocked - offline mode active');\n      return fallback;\n    }\n\n    try {\n      return await operation();\n    } catch (error) {\n      console.error('üî• Firebase operation failed:', error);\n      this.recordError();\n      return fallback;\n    }\n  }\n\n  // In-memory storage methods for offline mode\n  setOfflineData(key, data) {\n    this.offlineData.set(key, {\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  getOfflineData(key) {\n    const item = this.offlineData.get(key);\n    if (item) {\n      // Return data if it's less than 1 hour old\n      if (Date.now() - item.timestamp < 3600000) {\n        return item.data;\n      } else {\n        this.offlineData.delete(key);\n      }\n    }\n    return null;\n  }\n\n  // Public methods\n  isInOfflineMode() {\n    return this.isOffline;\n  }\n\n  resetErrorCount() {\n    this.errorCount = 0;\n  }\n\n  forceOfflineMode() {\n    this.enableOfflineMode();\n  }\n\n  forceOnlineMode() {\n    this.disableOfflineMode();\n  }\n}\n\n// Create singleton instance\nexport const firebaseOfflineMode = new FirebaseOfflineMode();\n\nexport default FirebaseOfflineMode;\n\n\n\n"],"names":["FirebaseOfflineMode","constructor","this","isOffline","errorCount","maxErrors","offlineData","Map","setupErrorMonitoring","_this","originalFetch","window","fetch","async","_len","arguments","length","args","Array","_key","response","includes","status","recordError","error","addEventListener","event","isFirebaseError","reason","_error$message","_error$message2","_error$message3","_error$message4","message","code","console","warn","enableOfflineMode","showOfflineNotification","dispatchEvent","CustomEvent","detail","timestamp","Date","toISOString","disableOfflineMode","log","notification","document","createElement","style","cssText","innerHTML","body","appendChild","setTimeout","parentElement","remove","safeFirebaseOperation","operation","fallback","undefined","setOfflineData","key","data","set","now","getOfflineData","item","get","delete","isInOfflineMode","resetErrorCount","forceOfflineMode","forceOnlineMode","firebaseOfflineMode"],"sourceRoot":""}